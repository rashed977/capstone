"use strict";(self.webpackChunkcapstoneproj=self.webpackChunkcapstoneproj||[]).push([[179],{2011:(pt,Te,V)=>{V.d(Te,{Dh:()=>pe,GT:()=>fe,cc:()=>Me,hO:()=>He,on:()=>G,pX:()=>ae,xv:()=>_e});var s=V(4650),ne=V(127),L=V(5813);pt=V.hmd(pt);const ue=["ngOnDestroy"],ae=(ge,nt,ht,Ae={})=>new Proxy(ge,{get:(we,Ee)=>ht.runOutsideAngular(()=>{var ze;if(ge[Ee])return!(null===(ze=Ae?.spy)||void 0===ze)&&ze.get&&Ae.spy.get(Ee,ge[Ee]),ge[Ee];if(ue.indexOf(Ee)>-1)return()=>{};const $e=nt.toPromise().then(z=>{const ye=z&&z[Ee];return"function"==typeof ye?ye.bind(z):ye&&ye.then?ye.then(J=>ht.run(()=>J)):ht.run(()=>ye)});return new Proxy(()=>{},{get:(z,ye)=>$e[ye],apply:(z,ye,J)=>$e.then(re=>{var ce;const oe=re&&re(...J);return!(null===(ce=Ae?.spy)||void 0===ce)&&ce.apply&&Ae.spy.apply(Ee,J,oe),oe})})})}),fe=(ge,nt)=>{nt.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(Ae=>{Object.defineProperty(ge.prototype,Ae,Object.getOwnPropertyDescriptor(ht.prototype||ht,Ae))})})};class ie{constructor(nt){return nt}}const pe=new s.OlP("angularfire2.app.options"),_e=new s.OlP("angularfire2.app.name");function G(ge,nt,ht){const we="object"==typeof ht&&ht||{};we.name=we.name||"string"==typeof ht&&ht||"[DEFAULT]";const ze=ne.Z.apps.filter($e=>$e&&$e.name===we.name)[0]||nt.runOutsideAngular(()=>ne.Z.initializeApp(ge,we));try{JSON.stringify(ge)!==JSON.stringify(ze.options)&&$("error",`${ze.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(ze)}const $=(ge,...nt)=>{(0,s.X6Q)()&&typeof console<"u"&&console[ge](...nt)},X={provide:ie,useFactory:G,deps:[pe,s.R0b,[new s.FiY,_e]]};let He=(()=>{class ge{constructor(ht){ne.Z.registerVersion("angularfire",L.q4.full,"core"),ne.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ne.Z.registerVersion("angular",s.q4F.full,ht.toString())}static initializeApp(ht,Ae){return{ngModule:ge,providers:[{provide:pe,useValue:ht},{provide:_e,useValue:Ae}]}}}return ge.\u0275fac=function(ht){return new(ht||ge)(s.LFG(s.Lbi))},ge.\u0275mod=s.oAB({type:ge}),ge.\u0275inj=s.cJS({providers:[X]}),ge})();function Me(ge,nt,ht,Ae,we){const[,Ee,ze]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===ge)||[];if(Ee)return function Ce(ge,nt){try{return ge.toString()===nt.toString()}catch{return ge===nt}}(we,ze)||(ve("error",`${nt} was already initialized on the ${ht} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:we,was:ze})),Ee;{const $e=Ae();return globalThis.\u0275AngularfireInstanceCache.push([ge,$e,we]),$e}}const st=!!pt.hot,ve=(ge,...nt)=>{(0,s.X6Q)()&&typeof console<"u"&&console[ge](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(pt,Te,V)=>{V.d(Te,{q4:()=>cc,iC:()=>xn,fc:()=>Ro,HU:()=>Bh,vb:()=>ul,JM:()=>xp});var s=V(4650),ne=V(5867),L=V(5861),ue=V(9681),ae=V(2090),fe=V(4859),ie=V(1877),pe=V(8766);const _e="@firebase/installations",G="0.5.12",X=`w:${G}`,He="FIS_v2",nt=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(T){return T instanceof ae.ZR&&T.code.includes("request-failed")}function Ae({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function we(T){return{token:T.token,requestStatus:2,expiresIn:re(T.expiresIn),creationTime:Date.now()}}function Ee(T,I){return ze.apply(this,arguments)}function ze(){return(ze=(0,L.Z)(function*(T,I){const U=(yield I.json()).error;return nt.create("request-failed",{requestName:T,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function $e({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function z(T,{refreshToken:I}){const k=$e(T);return k.append("Authorization",function ce(T){return`${He} ${T}`}(I)),k}function ye(T){return J.apply(this,arguments)}function J(){return(J=(0,L.Z)(function*(T){const I=yield T();return I.status>=500&&I.status<600?T():I})).apply(this,arguments)}function re(T){return Number(T.replace("s","000"))}function oe(T,I){return Le.apply(this,arguments)}function Le(){return(Le=(0,L.Z)(function*({appConfig:T,heartbeatServiceProvider:I},{fid:k}){const U=Ae(T),ee=$e(T),le=I.getImmediate({optional:!0});if(le){const Rt=yield le.getHeartbeatsHeader();Rt&&ee.append("x-firebase-client",Rt)}const qe={method:"POST",headers:ee,body:JSON.stringify({fid:k,authVersion:He,appId:T.appId,sdkVersion:X})},Ct=yield ye(()=>fetch(U,qe));if(Ct.ok){const Rt=yield Ct.json();return{fid:Rt.fid||k,registrationStatus:2,refreshToken:Rt.refreshToken,authToken:we(Rt.authToken)}}throw yield Ee("Create Installation",Ct)})).apply(this,arguments)}function Ne(T){return new Promise(I=>{setTimeout(I,T)})}const en=/^[cdef][\w-]{21}$/;function Ke(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const k=function bn(T){return function yt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return en.test(k)?k:""}catch{return""}}function Yn(T){return`${T.appName}!${T.appId}`}const an=new Map;function ln(T,I){const k=Yn(T);wn(k,I),function Jo(T,I){const k=function Ki(){return!Ar&&"BroadcastChannel"in self&&(Ar=new BroadcastChannel("[Firebase] FID Change"),Ar.onmessage=T=>{wn(T.data.key,T.data.fid)}),Ar}();k&&k.postMessage({key:T,fid:I}),function ar(){0===an.size&&Ar&&(Ar.close(),Ar=null)}()}(k,I)}function wn(T,I){const k=an.get(T);if(k)for(const U of k)U(I)}let Ar=null;const Mr="firebase-installations-store";let ts=null;function wt(){return ts||(ts=(0,pe.X3)("firebase-installations-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(Mr)}})),ts}function Tn(T,I){return ns.apply(this,arguments)}function ns(){return(ns=(0,L.Z)(function*(T,I){const k=Yn(T),ee=(yield wt()).transaction(Mr,"readwrite"),le=ee.objectStore(Mr),Ie=yield le.get(k);return yield le.put(I,k),yield ee.done,(!Ie||Ie.fid!==I.fid)&&ln(T,I.fid),I})).apply(this,arguments)}function Wn(T){return _s.apply(this,arguments)}function _s(){return(_s=(0,L.Z)(function*(T){const I=Yn(T),U=(yield wt()).transaction(Mr,"readwrite");yield U.objectStore(Mr).delete(I),yield U.done})).apply(this,arguments)}function ys(T,I){return zn.apply(this,arguments)}function zn(){return(zn=(0,L.Z)(function*(T,I){const k=Yn(T),ee=(yield wt()).transaction(Mr,"readwrite"),le=ee.objectStore(Mr),Ie=yield le.get(k),qe=I(Ie);return void 0===qe?yield le.delete(k):yield le.put(qe,k),yield ee.done,qe&&(!Ie||Ie.fid!==qe.fid)&&ln(T,qe.fid),qe})).apply(this,arguments)}function kn(T){return ho.apply(this,arguments)}function ho(){return(ho=(0,L.Z)(function*(T){let I;const k=yield ys(T.appConfig,U=>{const ee=In(U),le=ot(T,ee);return I=le.registrationPromise,le.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function In(T){return si(T||{fid:Ke(),registrationStatus:0})}function ot(T,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(nt.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},U=function Xe(T,I){return Ba.apply(this,arguments)}(T,k);return{installationEntry:k,registrationPromise:U}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Di(T)}:{installationEntry:I}}function Ba(){return(Ba=(0,L.Z)(function*(T,I){try{const k=yield oe(T,I);return Tn(T.appConfig,k)}catch(k){throw ht(k)&&409===k.customData.serverCode?yield Wn(T.appConfig):yield Tn(T.appConfig,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Di(T){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,L.Z)(function*(T){let I=yield Ut(T.appConfig);for(;1===I.registrationStatus;)yield Ne(100),I=yield Ut(T.appConfig);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:U}=yield kn(T);return U||k}return I})).apply(this,arguments)}function Ut(T){return ys(T,I=>{if(!I)throw nt.create("installation-not-found");return si(I)})}function si(T){return function fo(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function cn(T,I){return vs.apply(this,arguments)}function vs(){return(vs=(0,L.Z)(function*({appConfig:T,heartbeatServiceProvider:I},k){const U=qt(T,k),ee=z(T,k),le=I.getImmediate({optional:!0});if(le){const Rt=yield le.getHeartbeatsHeader();Rt&&ee.append("x-firebase-client",Rt)}const qe={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:X,appId:T.appId}})},Ct=yield ye(()=>fetch(U,qe));if(Ct.ok)return we(yield Ct.json());throw yield Ee("Generate Auth Token",Ct)})).apply(this,arguments)}function qt(T,{fid:I}){return`${Ae(T)}/${I}/authTokens:generate`}function Q(T){return Z.apply(this,arguments)}function Z(){return(Z=(0,L.Z)(function*(T,I=!1){let k;const U=yield ys(T.appConfig,le=>{if(!gt(le))throw nt.create("not-registered");const Ie=le.authToken;if(!I&&Dn(Ie))return le;if(1===Ie.requestStatus)return k=H(T,I),le;{if(!navigator.onLine)throw nt.create("app-offline");const qe=ui(le);return k=xe(T,qe),qe}});return k?yield k:U.authToken})).apply(this,arguments)}function H(T,I){return Y.apply(this,arguments)}function Y(){return(Y=(0,L.Z)(function*(T,I){let k=yield K(T.appConfig);for(;1===k.authToken.requestStatus;)yield Ne(100),k=yield K(T.appConfig);const U=k.authToken;return 0===U.requestStatus?Q(T,I):U})).apply(this,arguments)}function K(T){return ys(T,I=>{if(!gt(I))throw nt.create("not-registered");return function at(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function xe(T,I){return je.apply(this,arguments)}function je(){return(je=(0,L.Z)(function*(T,I){try{const k=yield cn(T,I),U=Object.assign(Object.assign({},I),{authToken:k});return yield Tn(T.appConfig,U),k}catch(k){if(!ht(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Tn(T.appConfig,U)}else yield Wn(T.appConfig);throw k}})).apply(this,arguments)}function gt(T){return void 0!==T&&2===T.registrationStatus}function Dn(T){return 2===T.requestStatus&&!function un(T){const I=Date.now();return I<T.creationTime||T.creationTime+T.expiresIn<I+36e5}(T)}function ui(T){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:I})}function On(){return(On=(0,L.Z)(function*(T){const I=T,{installationEntry:k,registrationPromise:U}=yield kn(I);return U?U.catch(console.error):Q(I).catch(console.error),k.fid})).apply(this,arguments)}function Li(){return(Li=(0,L.Z)(function*(T,I=!1){const k=T;return yield Qe(k),(yield Q(k,I)).token})).apply(this,arguments)}function Qe(T){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,L.Z)(function*(T){const{registrationPromise:I}=yield kn(T);I&&(yield I)})).apply(this,arguments)}function Pt(T){return nt.create("missing-app-config-values",{valueName:T})}const zl="installations",Vn=T=>{const I=T.getProvider("app").getImmediate(),k=function po(T){if(!T||!T.options)throw Pt("App Configuration");if(!T.name)throw Pt("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!T.options[k])throw Pt(k);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(I);return{app:I,appConfig:k,heartbeatServiceProvider:(0,ue._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},mo=T=>{const I=T.getProvider("app").getImmediate(),k=(0,ue._getProvider)(I,zl).getImmediate();return{getId:()=>function En(T){return On.apply(this,arguments)}(k),getToken:ee=>function Ei(T){return Li.apply(this,arguments)}(k,ee)}};(function Vi(){(0,ue._registerComponent)(new fe.wA(zl,Vn,"PUBLIC")),(0,ue._registerComponent)(new fe.wA("installations-internal",mo,"PRIVATE"))})(),(0,ue.registerVersion)(_e,G),(0,ue.registerVersion)(_e,G,"esm2017");const go="@firebase/remote-config",Ht=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _h{constructor(I,k,U,ee){this.client=I,this.storage=k,this.storageCache=U,this.logger=ee}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-k,ee=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${ee}.`),ee}fetch(I){var k=this;return(0,L.Z)(function*(){const[U,ee]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(ee&&k.isCachedDataFresh(I.cacheMaxAgeMillis,U))return ee;I.eTag=ee&&ee.eTag;const le=yield k.client.fetch(I),Ie=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Ie.push(k.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Ie),le})()}}function yh(T=navigator){return T.languages&&T.languages[0]||T.language}class Zu{constructor(I,k,U,ee,le,Ie){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=U,this.projectId=ee,this.apiKey=le,this.appId=Ie}fetch(I){var k=this;return(0,L.Z)(function*(){var U,ee,le;const[Ie,qe]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Rt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},vt={sdk_version:k.sdkVersion,app_instance_id:Ie,app_instance_id_token:qe,app_id:k.appId,language_code:yh()},Bn={method:"POST",headers:Ot,body:JSON.stringify(vt)},Mi=fetch(Rt,Bn),Po=new Promise((va,pl)=>{I.signal.addEventListener(()=>{const Uh=new Error("The operation was aborted.");Uh.name="AbortError",pl(Uh)})});let fr;try{yield Promise.race([Mi,Po]),fr=yield Mi}catch(va){let pl="fetch-client-network";throw"AbortError"===(null===(U=va)||void 0===U?void 0:U.name)&&(pl="fetch-timeout"),Ht.create(pl,{originalErrorMessage:null===(ee=va)||void 0===ee?void 0:ee.message})}let as=fr.status;const fd=fr.headers.get("ETag")||void 0;let fl,No;if(200===fr.status){let va;try{va=yield fr.json()}catch(pl){throw Ht.create("fetch-client-parse",{originalErrorMessage:null===(le=pl)||void 0===le?void 0:le.message})}fl=va.entries,No=va.state}if("INSTANCE_STATE_UNSPECIFIED"===No?as=500:"NO_CHANGE"===No?as=304:("NO_TEMPLATE"===No||"EMPTY_CONFIG"===No)&&(fl={}),304!==as&&200!==as)throw Ht.create("fetch-status",{httpStatus:as});return{status:as,eTag:fd,config:fl}})()}}class Wg{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,L.Z)(function*(){const U=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:U}){var ee=this;return(0,L.Z)(function*(){yield function hi(T,I){return new Promise((k,U)=>{const ee=Math.max(I-Date.now(),0),le=setTimeout(k,ee);T.addEventListener(()=>{clearTimeout(le),U(Ht.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const le=yield ee.client.fetch(I);return yield ee.storage.deleteThrottleMetadata(),le}catch(le){if(!function vh(T){if(!(T instanceof ae.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}(le))throw le;const Ie={throttleEndTimeMillis:Date.now()+(0,ae.$s)(U),backoffCount:U+1};return yield ee.storage.setThrottleMetadata(Ie),ee.attemptFetch(I,Ie)}})()}}class qa{constructor(I,k,U,ee,le){this.app=I,this._client=k,this._storageCache=U,this._storage=ee,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Yu(T,I){var k;const U=T.target.error||void 0;return Ht.create(I,{originalErrorMessage:U&&(null===(k=U)||void 0===k?void 0:k.message)})}const vo="app_namespace_store";class na{constructor(I,k,U,ee=function Jg(){return new Promise((T,I)=>{var k;try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=ee=>{I(Yu(ee,"storage-open"))},U.onsuccess=ee=>{T(ee.target.result)},U.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(vo,{keyPath:"compositeKey"})}}catch(U){I(Ht.create("storage-open",{originalErrorMessage:null===(k=U)||void 0===k?void 0:k.message}))}})}()){this.appId=I,this.appName=k,this.namespace=U,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,L.Z)(function*(){const U=yield k.openDbPromise;return new Promise((ee,le)=>{var Ie;const Ct=U.transaction([vo],"readonly").objectStore(vo),Rt=k.createCompositeKey(I);try{const Ot=Ct.get(Rt);Ot.onerror=vt=>{le(Yu(vt,"storage-get"))},Ot.onsuccess=vt=>{const Bn=vt.target.result;ee(Bn?Bn.value:void 0)}}catch(Ot){le(Ht.create("storage-get",{originalErrorMessage:null===(Ie=Ot)||void 0===Ie?void 0:Ie.message}))}})})()}set(I,k){var U=this;return(0,L.Z)(function*(){const ee=yield U.openDbPromise;return new Promise((le,Ie)=>{var qe;const Rt=ee.transaction([vo],"readwrite").objectStore(vo),Ot=U.createCompositeKey(I);try{const vt=Rt.put({compositeKey:Ot,value:k});vt.onerror=Bn=>{Ie(Yu(Bn,"storage-set"))},vt.onsuccess=()=>{le()}}catch(vt){Ie(Ht.create("storage-set",{originalErrorMessage:null===(qe=vt)||void 0===qe?void 0:qe.message}))}})})()}delete(I){var k=this;return(0,L.Z)(function*(){const U=yield k.openDbPromise;return new Promise((ee,le)=>{var Ie;const Ct=U.transaction([vo],"readwrite").objectStore(vo),Rt=k.createCompositeKey(I);try{const Ot=Ct.delete(Rt);Ot.onerror=vt=>{le(Yu(vt,"storage-delete"))},Ot.onsuccess=()=>{ee()}}catch(Ot){le(Ht.create("storage-delete",{originalErrorMessage:null===(Ie=Ot)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class $l{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,L.Z)(function*(){const k=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),ee=I.storage.getActiveConfig(),le=yield k;le&&(I.lastFetchStatus=le);const Ie=yield U;Ie&&(I.lastSuccessfulFetchTimestampMillis=Ie);const qe=yield ee;qe&&(I.activeConfig=qe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function rs(){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,L.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Ga(){(0,ue._registerComponent)(new fe.wA("remote-config",function T(I,{instanceIdentifier:k}){const U=I.getProvider("app").getImmediate(),ee=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ht.create("registration-window");if(!(0,ae.hl)())throw Ht.create("indexed-db-unavailable");const{projectId:le,apiKey:Ie,appId:qe}=U.options;if(!le)throw Ht.create("registration-project-id");if(!Ie)throw Ht.create("registration-api-key");if(!qe)throw Ht.create("registration-app-id");const Ct=new na(qe,U.name,k=k||"firebase"),Rt=new $l(Ct),Ot=new ie.Yd(go);Ot.logLevel=ie.in.ERROR;const vt=new Zu(ee,ue.SDK_VERSION,k,le,Ie,qe),Bn=new Wg(vt,Ct),Mi=new _h(Bn,Ct,Rt,Ot),Po=new qa(U,Mi,Rt,Ct,Ot);return function dn(T){const I=(0,ae.m9)(T);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Po),Po},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(go,"0.3.11"),(0,ue.registerVersion)(go,"0.3.11","esm2017")}();const $a="/firebase-messaging-sw.js",bs="/firebase-cloud-messaging-push-scope",ia="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ya="google.c.a.c_id",Zl="google.c.a.c_l",Dh="google.c.a.ts",Eh="google.c.a.e";var fi=(()=>{return(T=fi||(fi={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",fi;var T})();function ur(T){const I=new Uint8Array(T);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sh(T){const k=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(k),ee=new Uint8Array(U.length);for(let le=0;le<U.length;++le)ee[le]=U.charCodeAt(le);return ee}const Wa="fcm_token_details_db",dr="fcm_token_object_Store";function Jn(T){return Th.apply(this,arguments)}function Th(){return Th=(0,L.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Wa))return null;let I=null;return(yield(0,pe.X3)(Wa,5,{upgrade:(U=(0,L.Z)(function*(ee,le,Ie,qe){var Ct;if(le<2||!ee.objectStoreNames.contains(dr))return;const Rt=qe.objectStore(dr),Ot=yield Rt.index("fcmSenderId").get(T);if(yield Rt.clear(),Ot)if(2===le){const vt=Ot;if(!vt.auth||!vt.p256dh||!vt.endpoint)return;I={token:vt.fcmToken,createTime:null!==(Ct=vt.createTime)&&void 0!==Ct?Ct:Date.now(),subscriptionOptions:{auth:vt.auth,p256dh:vt.p256dh,endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:"string"==typeof vt.vapidKey?vt.vapidKey:ur(vt.vapidKey)}}}else if(3===le){const vt=Ot;I={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:ur(vt.auth),p256dh:ur(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:ur(vt.vapidKey)}}}else if(4===le){const vt=Ot;I={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:ur(vt.auth),p256dh:ur(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:ur(vt.vapidKey)}}}}),function(le,Ie,qe,Ct){return U.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Wa),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),gp(I)?I:null;var U}),Th.apply(this,arguments)}function gp(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:I}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Us="firebase-messaging-store";let Yl=null;function Hs(){return Yl||(Yl=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(Us)}})),Yl}function Ui(T){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,L.Z)(function*(T){const I=Qa(T),U=yield(yield Hs()).transaction(Us).objectStore(Us).get(I);if(U)return U;{const ee=yield Jn(T.appConfig.senderId);if(ee)return yield ss(T,ee),ee}})).apply(this,arguments)}function ss(T,I){return js.apply(this,arguments)}function js(){return(js=(0,L.Z)(function*(T,I){const k=Qa(T),ee=(yield Hs()).transaction(Us,"readwrite");return yield ee.objectStore(Us).put(I,k),yield ee.done,I})).apply(this,arguments)}function zs(T){return qs.apply(this,arguments)}function qs(){return(qs=(0,L.Z)(function*(T){const I=Qa(T),U=(yield Hs()).transaction(Us,"readwrite");yield U.objectStore(Us).delete(I),yield U.done})).apply(this,arguments)}function Qa({appConfig:T}){return T.appId}const qn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ih(T,I){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,L.Z)(function*(T,I){var k;const U=yield Se(T),ee=wo(I),le={method:"POST",headers:U,body:JSON.stringify(ee)};let Ie;try{Ie=yield(yield fetch(Ja(T.appConfig),le)).json()}catch(qe){throw qn.create("token-subscribe-failed",{errorInfo:null===(k=qe)||void 0===k?void 0:k.toString()})}if(Ie.error)throw qn.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw qn.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function Ku(T,I){return sa.apply(this,arguments)}function sa(){return(sa=(0,L.Z)(function*(T,I){var k;const U=yield Se(T),ee=wo(I.subscriptionOptions),le={method:"PATCH",headers:U,body:JSON.stringify(ee)};let Ie;try{Ie=yield(yield fetch(`${Ja(T.appConfig)}/${I.token}`,le)).json()}catch(qe){throw qn.create("token-update-failed",{errorInfo:null===(k=qe)||void 0===k?void 0:k.toString()})}if(Ie.error)throw qn.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw qn.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function bo(T,I){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,L.Z)(function*(T,I){var k;const ee={method:"DELETE",headers:yield Se(T)};try{const Ie=yield(yield fetch(`${Ja(T.appConfig)}/${I}`,ee)).json();if(Ie.error)throw qn.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(le){throw qn.create("token-unsubscribe-failed",{errorInfo:null===(k=le)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function Ja({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Se(T){return jt.apply(this,arguments)}function jt(){return(jt=(0,L.Z)(function*({appConfig:T,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function wo({p256dh:T,auth:I,endpoint:k,vapidKey:U}){const ee={web:{endpoint:k,auth:I,p256dh:T}};return U!==ia&&(ee.web.applicationPubKey=U),ee}const Xa=6048e5;function Pn(T){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,L.Z)(function*(T){const I=yield _p(T.swRegistration,T.vapidKey),k={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:I.endpoint,auth:ur(I.getKey("auth")),p256dh:ur(I.getKey("p256dh"))},U=yield Ui(T.firebaseDependencies);if(U){if(oi(U.subscriptionOptions,k))return Date.now()>=U.createTime+Xa?Kl(T,{token:U.token,createTime:Date.now(),subscriptionOptions:k}):U.token;try{yield bo(T.firebaseDependencies,U.token)}catch(ee){console.warn(ee)}return el(T.firebaseDependencies,k)}return el(T.firebaseDependencies,k)})).apply(this,arguments)}function Co(T){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,L.Z)(function*(T){const I=yield Ui(T.firebaseDependencies);I&&(yield bo(T.firebaseDependencies,I.token),yield zs(T.firebaseDependencies));const k=yield T.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Kl(T,I){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,L.Z)(function*(T,I){try{const k=yield Ku(T.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield ss(T.firebaseDependencies,U),k}catch(k){throw yield Co(T),k}})).apply(this,arguments)}function el(T,I){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,L.Z)(function*(T,I){const U={token:yield Ih(T,I),createTime:Date.now(),subscriptionOptions:I};return yield ss(T,U),U.token})).apply(this,arguments)}function _p(T,I){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,L.Z)(function*(T,I){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sh(I)})})).apply(this,arguments)}function oi(T,I){return I.vapidKey===T.vapidKey&&I.endpoint===T.endpoint&&I.auth===T.auth&&I.p256dh===T.p256dh}function ws(T){const I={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Xl(T,I){if(!I.notification)return;T.notification={};const k=I.notification.title;k&&(T.notification.title=k);const U=I.notification.body;U&&(T.notification.body=U);const ee=I.notification.image;ee&&(T.notification.image=ee)}(I,T),function oa(T,I){!I.data||(T.data=I.data)}(I,T),function $s(T,I){var k,U,ee,le,Ie;if(!(I.fcmOptions||null!==(k=I.notification)&&void 0!==k&&k.click_action))return;T.fcmOptions={};const qe=null!==(ee=null===(U=I.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==ee?ee:null===(le=I.notification)||void 0===le?void 0:le.click_action;qe&&(T.fcmOptions.link=qe);const Ct=null===(Ie=I.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;Ct&&(T.fcmOptions.analyticsLabel=Ct)}(I,T),I}function Qu(T){return"object"==typeof T&&!!T&&Ya in T}function Ju(T,I){const k=[];for(let U=0;U<T.length;U++)k.push(T.charAt(U)),U<I.length&&k.push(I.charAt(U));return k.join("")}function ec(T){return qn.create("missing-app-config-values",{valueName:T})}Ju("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ju("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xu{constructor(I,k,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function xh(T){if(!T||!T.options)throw ec("App Configuration Object");if(!T.name)throw ec("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=T;for(const U of I)if(!k[U])throw ec(U);return{appName:T.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:ee,installations:k,analyticsProvider:U}}_delete(){return Promise.resolve()}}function aa(T){return jc.apply(this,arguments)}function jc(){return(jc=(0,L.Z)(function*(T){var I;try{T.swRegistration=yield navigator.serviceWorker.register($a,{scope:bs}),T.swRegistration.update().catch(()=>{})}catch(k){throw qn.create("failed-service-worker-registration",{browserErrorMessage:null===(I=k)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function tc(T,I){return ed.apply(this,arguments)}function ed(){return(ed=(0,L.Z)(function*(T,I){if(!I&&!T.swRegistration&&(yield aa(T)),I||!T.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw qn.create("invalid-sw-registration");T.swRegistration=I}})).apply(this,arguments)}function tl(T,I){return zc.apply(this,arguments)}function zc(){return(zc=(0,L.Z)(function*(T,I){I?T.vapidKey=I:T.vapidKey||(T.vapidKey=ia)})).apply(this,arguments)}function Gc(){return(Gc=(0,L.Z)(function*(T,I){if(!navigator)throw qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qn.create("permission-blocked");return yield tl(T,I?.vapidKey),yield tc(T,I?.serviceWorkerRegistration),Pn(T)})).apply(this,arguments)}function $c(T,I,k){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,L.Z)(function*(T,I,k){const U=nl(I);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:k[Ya],message_name:k[Zl],message_time:k[Dh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function nl(T){switch(T){case fi.NOTIFICATION_CLICKED:return"notification_open";case fi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yc(){return(Yc=(0,L.Z)(function*(T,I){const k=I.data;if(!k.isFirebaseMessaging)return;T.onMessageHandler&&k.messageType===fi.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(ws(k)):T.onMessageHandler.next(ws(k)));const U=k.data;Qu(U)&&"1"===U[Eh]&&(yield $c(T,k.messageType,U))})).apply(this,arguments)}const pi="@firebase/messaging",Nn=T=>{const I=new Xu(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function yp(T,I){return Yc.apply(this,arguments)}(I,k)),I},il=T=>{const I=T.getProvider("messaging").getImmediate();return{getToken:U=>function qc(T,I){return Gc.apply(this,arguments)}(I,U)}};function Mh(){return td.apply(this,arguments)}function td(){return(td=(0,L.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ah(){(0,ue._registerComponent)(new fe.wA("messaging",Nn,"PUBLIC")),(0,ue._registerComponent)(new fe.wA("messaging-internal",il,"PRIVATE")),(0,ue.registerVersion)(pi,"0.9.16"),(0,ue.registerVersion)(pi,"0.9.16","esm2017")}();const Cs="analytics",rl="firebase_id",Ds="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ic="https://www.googletagmanager.com/gtag/js",Ti=new ie.Yd("@firebase/analytics");function Cp(T){return Promise.all(T.map(I=>I.catch(k=>k)))}function eb(T,I){const k=document.createElement("script");k.src=`${ic}?l=${T}&id=${I}`,k.async=!0,document.head.appendChild(k)}function rc(T,I,k,U,ee,le){return sc.apply(this,arguments)}function sc(){return(sc=(0,L.Z)(function*(T,I,k,U,ee,le){const Ie=U[ee];try{if(Ie)yield I[Ie];else{const Ct=(yield Cp(k)).find(Rt=>Rt.measurementId===ee);Ct&&(yield I[Ct.appId])}}catch(qe){Ti.error(qe)}T("config",ee,le)})).apply(this,arguments)}function Oh(T,I,k,U,ee){return Do.apply(this,arguments)}function Do(){return(Do=(0,L.Z)(function*(T,I,k,U,ee){try{let le=[];if(ee&&ee.send_to){let Ie=ee.send_to;Array.isArray(Ie)||(Ie=[Ie]);const qe=yield Cp(k);for(const Ct of Ie){const Rt=qe.find(vt=>vt.measurementId===Ct),Ot=Rt&&I[Rt.appId];if(!Ot){le=[];break}le.push(Ot)}}0===le.length&&(le=Object.values(I)),yield Promise.all(le),T("event",U,ee||{})}catch(le){Ti.error(le)}})).apply(this,arguments)}function oc(){const T=window.document.getElementsByTagName("script");for(const I of Object.values(T))if(I.src&&I.src.includes(ic))return I;return null}const Hi=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Nh=new class So{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function dt(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Fn(T){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,L.Z)(function*(T){var I;const{appId:k,apiKey:U}=T,ee={method:"GET",headers:dt(U)},le=Ds.replace("{app-id}",k),Ie=yield fetch(le,ee);if(200!==Ie.status&&304!==Ie.status){let qe="";try{const Ct=yield Ie.json();null!==(I=Ct.error)&&void 0!==I&&I.message&&(qe=Ct.error.message)}catch{}throw Hi.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:qe})}return Ie.json()})).apply(this,arguments)}function ai(T){return ca.apply(this,arguments)}function ca(){return(ca=(0,L.Z)(function*(T,I=Nh,k){const{appId:U,apiKey:ee,measurementId:le}=T.options;if(!U)throw Hi.create("no-app-id");if(!ee){if(le)return{measurementId:le,appId:U};throw Hi.create("no-api-key")}const Ie=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new ua;return setTimeout((0,L.Z)(function*(){qe.abort()}),void 0!==k?k:6e4),sl({appId:U,apiKey:ee,measurementId:le},Ie,qe,I)})).apply(this,arguments)}function sl(T,I,k){return ol.apply(this,arguments)}function ol(){return(ol=(0,L.Z)(function*(T,{throttleEndTimeMillis:I,backoffCount:k},U,ee=Nh){var le,Ie;const{appId:qe,measurementId:Ct}=T;try{yield al(U,I)}catch(Rt){if(Ct)return Ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ct} provided in the "measurementId" field in the local Firebase config. [${null===(le=Rt)||void 0===le?void 0:le.message}]`),{appId:qe,measurementId:Ct};throw Rt}try{const Rt=yield Fn(T);return ee.deleteThrottleMetadata(qe),Rt}catch(Rt){const Ot=Rt;if(!Er(Ot)){if(ee.deleteThrottleMetadata(qe),Ct)return Ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ct} provided in the "measurementId" field in the local Firebase config. [${Ot?.message}]`),{appId:qe,measurementId:Ct};throw Rt}const vt=503===Number(null===(Ie=Ot?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,ae.$s)(k,ee.intervalMillis,30):(0,ae.$s)(k,ee.intervalMillis),Bn={throttleEndTimeMillis:Date.now()+vt,backoffCount:k+1};return ee.setThrottleMetadata(qe,Bn),Ti.debug(`Calling attemptFetch again in ${vt} millis`),sl(T,Bn,U,ee)}})).apply(this,arguments)}function al(T,I){return new Promise((k,U)=>{const ee=Math.max(I-Date.now(),0),le=setTimeout(k,ee);T.addEventListener(()=>{clearTimeout(le),U(Hi.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Er(T){if(!(T instanceof ae.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}class ua{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let hn,ll;function da(){return(da=(0,L.Z)(function*(T,I,k,U,ee){if(ee&&ee.global)T("event",k,U);else{const le=yield I;T("event",k,Object.assign(Object.assign({},U),{send_to:le}))}})).apply(this,arguments)}function Qc(T){ll=T}function Jc(T){hn=T}function Ep(){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,L.Z)(function*(){var T;if(!(0,ae.hl)())return Ti.warn(Hi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(I){return Ti.warn(Hi.create("indexeddb-unavailable",{errorInfo:null===(T=I)||void 0===T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function Qi(){return(Qi=(0,L.Z)(function*(T,I,k,U,ee,le,Ie){var qe;const Ct=ai(T);Ct.then(Mi=>{k[Mi.measurementId]=Mi.appId,T.options.measurementId&&Mi.measurementId!==T.options.measurementId&&Ti.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Mi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mi=>Ti.error(Mi)),I.push(Ct);const Rt=Ep().then(Mi=>{if(Mi)return U.getId()}),[Ot,vt]=yield Promise.all([Ct,Rt]);oc()||eb(le,Ot.measurementId),ll&&(ee("consent","default",ll),Qc(void 0)),ee("js",new Date);const Bn=null!==(qe=Ie?.config)&&void 0!==qe?qe:{};return Bn.origin="firebase",Bn.update=!0,null!=vt&&(Bn[rl]=vt),ee("config",Ot.measurementId,Bn),hn&&(ee("set",hn),Jc(void 0)),Ot.measurementId})).apply(this,arguments)}class ha{constructor(I){this.app=I}_delete(){return delete sn[this.app.options.appId],Promise.resolve()}}let sn={},Nr=[];const Xc={};let od,Kt,lt="dataLayer",cl=!1;function Tp(T,I,k){!function Sp(){const T=[];if((0,ae.ru)()&&T.push("This is a browser extension environment."),(0,ae.zI)()||T.push("Cookies are not available."),T.length>0){const I=T.map((U,ee)=>`(${ee+1}) ${U}`).join(" "),k=Hi.create("invalid-analytics-context",{errorInfo:I});Ti.warn(k.message)}}();const U=T.options.appId;if(!U)throw Hi.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Hi.create("no-api-key");Ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=sn[U])throw Hi.create("already-exists",{id:U});if(!cl){!function tb(T){let I=[];Array.isArray(window[T])?I=window[T]:window[T]=I}(lt);const{wrappedGtag:le,gtagCore:Ie}=function Dp(T,I,k,U,ee){let le=function(...Ie){window[U].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(le=window[ee]),window[ee]=function Ph(T,I,k,U){function le(){return(le=(0,L.Z)(function*(Ie,qe,Ct){try{"event"===Ie?yield Oh(T,I,k,qe,Ct):"config"===Ie?yield rc(T,I,k,U,qe,Ct):"consent"===Ie?T("consent","update",Ct):T("set",qe)}catch(Rt){Ti.error(Rt)}})).apply(this,arguments)}return function ee(Ie,qe,Ct){return le.apply(this,arguments)}}(le,T,I,k),{gtagCore:le,wrappedGtag:window[ee]}}(sn,Nr,Xc,lt,"gtag");Kt=le,od=Ie,cl=!0}return sn[U]=function Ao(T,I,k,U,ee,le,Ie){return Qi.apply(this,arguments)}(T,Nr,Xc,I,od,lt,k),new ha(T)}function Ip(){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,L.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const ji="@firebase/analytics";!function ud(){(0,ue._registerComponent)(new fe.wA(Cs,(I,{options:k})=>Tp(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ue._registerComponent)(new fe.wA("analytics-internal",function T(I){try{const k=I.getProvider(Cs).getImmediate();return{logEvent:(U,ee,le)=>function Lh(T,I,k,U){T=(0,ae.m9)(T),function Ue(T,I,k,U,ee){return da.apply(this,arguments)}(Kt,sn[T.app.options.appId],I,k,U).catch(ee=>Ti.error(ee))}(k,U,ee,le)}}catch(k){throw Hi.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ue.registerVersion)(ji,"0.8.0"),(0,ue.registerVersion)(ji,"0.8.0","esm2017")}();var fa=V(4408),ma=V(7565);const eu=new class lc extends ma.v{}(class pa extends fa.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(I,k,U):I.flush(this)}});var xi=V(4986),Ai=V(8505),Gn=V(5363),tu=V(9468);const cc=new s.GfV("7.4.1"),hr="__angularfire_symbol__analyticsIsSupportedValue",Ji="__angularfire_symbol__analyticsIsSupported",ga="__angularfire_symbol__remoteConfigIsSupportedValue",_a="__angularfire_symbol__remoteConfigIsSupported",dd="__angularfire_symbol__messagingIsSupportedValue",uc="__angularfire_symbol__messagingIsSupported";function xp(T,I,k){if(I){if(1===I.length)return I[0];const le=I.filter(Ie=>Ie.app===k);if(1===le.length)return le[0]}return k.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ji]||(globalThis[Ji]=Ip().then(T=>globalThis[hr]=T).catch(()=>globalThis[hr]=!1)),globalThis[uc]||(globalThis[uc]=Mh().then(T=>globalThis[dd]=T).catch(()=>globalThis[dd]=!1)),globalThis[_a]||(globalThis[_a]=rs().then(T=>globalThis[ga]=T).catch(()=>globalThis[ga]=!1));const ul=(T,I)=>{const k=I?[I]:(0,ne.C6)(),U=[];return k.forEach(ee=>{ee.container.getProvider(T).instances.forEach(Ie=>{U.includes(Ie)||U.push(Ie)})}),U};function ya(){}class ko{constructor(I,k=eu){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,U){const ee=this.zone;return this.delegate.schedule(function(Ie){ee.runGuarded(()=>{I.apply(this,[Ie])})},k,U)}}class Ap{constructor(I){this.zone=I,this.task=null}call(I,k){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ya,{},ya,ya)),k.pipe((0,Ai.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bh=(()=>{class T{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new ko(Zone.current)),this.insideAngular=k.run(()=>new ko(Zone.current,xi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(k){return new(k||T)(s.LFG(s.R0b))},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Ys(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Ro(T){return T.pipe((0,Gn.Q)(Ys().outsideAngular))}function xn(T){return Ys(),function Oo(T){return function(k){return(k=k.lift(new Ap(T.ngZone))).pipe((0,tu.R)(T.outsideAngular),(0,Gn.Q)(T.insideAngular))}}(Ys())(T)}},2090:(pt,Te,V)=>{V.d(Te,{$s:()=>fo,BH:()=>He,DV:()=>Vt,Dv:()=>ys,G6:()=>$e,GJ:()=>ln,L:()=>pe,LL:()=>Le,Mn:()=>Ee,Pz:()=>Wt,Sg:()=>Me,UG:()=>ve,UI:()=>Jo,US:()=>fe,Wj:()=>ho,Yr:()=>ze,ZB:()=>$,ZR:()=>oe,b$:()=>ht,cI:()=>en,d:()=>Ae,dS:()=>ot,eu:()=>ye,g5:()=>L,gK:()=>zn,gQ:()=>ts,h$:()=>ie,hl:()=>z,hu:()=>ne,jU:()=>ge,lb:()=>In,m9:()=>qt,ne:()=>wt,p$:()=>G,pd:()=>Mr,r3:()=>or,ru:()=>nt,tV:()=>_e,uI:()=>st,ug:()=>Xe,vZ:()=>Ar,w1:()=>we,w9:()=>an,xO:()=>gs,xb:()=>wn,z$:()=>Ce,zI:()=>J,zd:()=>Fs});const ne=function(Q,Z){if(!Q)throw L(Z)},L=function(Q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Q)},ue=function(Q){const Z=[];let H=0;for(let Y=0;Y<Q.length;Y++){let K=Q.charCodeAt(Y);K<128?Z[H++]=K:K<2048?(Z[H++]=K>>6|192,Z[H++]=63&K|128):55296==(64512&K)&&Y+1<Q.length&&56320==(64512&Q.charCodeAt(Y+1))?(K=65536+((1023&K)<<10)+(1023&Q.charCodeAt(++Y)),Z[H++]=K>>18|240,Z[H++]=K>>12&63|128,Z[H++]=K>>6&63|128,Z[H++]=63&K|128):(Z[H++]=K>>12|224,Z[H++]=K>>6&63|128,Z[H++]=63&K|128)}return Z},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,Z){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let K=0;K<Q.length;K+=3){const xe=Q[K],je=K+1<Q.length,gt=je?Q[K+1]:0,Dn=K+2<Q.length,un=Dn?Q[K+2]:0;let En=(15&gt)<<2|un>>6,On=63&un;Dn||(On=64,je||(En=64)),Y.push(H[xe>>2],H[(3&xe)<<4|gt>>4],H[En],H[On])}return Y.join("")},encodeString(Q,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(Q):this.encodeByteArray(ue(Q),Z)},decodeString(Q,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(Q):function(Q){const Z=[];let H=0,Y=0;for(;H<Q.length;){const K=Q[H++];if(K<128)Z[Y++]=String.fromCharCode(K);else if(K>191&&K<224){const xe=Q[H++];Z[Y++]=String.fromCharCode((31&K)<<6|63&xe)}else if(K>239&&K<365){const Dn=((7&K)<<18|(63&Q[H++])<<12|(63&Q[H++])<<6|63&Q[H++])-65536;Z[Y++]=String.fromCharCode(55296+(Dn>>10)),Z[Y++]=String.fromCharCode(56320+(1023&Dn))}else{const xe=Q[H++],je=Q[H++];Z[Y++]=String.fromCharCode((15&K)<<12|(63&xe)<<6|63&je)}}return Z.join("")}(this.decodeStringToByteArray(Q,Z))},decodeStringToByteArray(Q,Z){this.init_();const H=Z?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let K=0;K<Q.length;){const xe=H[Q.charAt(K++)],gt=K<Q.length?H[Q.charAt(K)]:0;++K;const un=K<Q.length?H[Q.charAt(K)]:64;++K;const at=K<Q.length?H[Q.charAt(K)]:64;if(++K,null==xe||null==gt||null==un||null==at)throw Error();Y.push(xe<<2|gt>>4),64!==un&&(Y.push(gt<<4&240|un>>2),64!==at&&Y.push(un<<6&192|at))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},ie=function(Q){const Z=ue(Q);return fe.encodeByteArray(Z,!0)},pe=function(Q){return ie(Q).replace(/\./g,"")},_e=function(Q){try{return fe.decodeString(Q,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function G(Q){return $(void 0,Q)}function $(Q,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return Z}for(const H in Z)!Z.hasOwnProperty(H)||!X(H)||(Q[H]=$(Q[H],Z[H]));return Q}function X(Q){return"__proto__"!==Q}class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,H)=>{this.resolve=Z,this.reject=H})}wrapCallback(Z){return(H,Y)=>{H?this.reject(H):this.resolve(Y),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(H):Z(H,Y))}}}function Me(Q,Z){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=Z||"demo-project",K=Q.iat||0,xe=Q.sub||Q.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:K,exp:K+3600,auth_time:K,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(je)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function st(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ge(){return"object"==typeof self&&self.self===self}function nt(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Ce().indexOf("Electron/")>=0}function we(){const Q=Ce();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function Ee(){return Ce().indexOf("MSAppHost/")>=0}function ze(){return!1}function $e(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){return"object"==typeof indexedDB}function ye(){return new Promise((Q,Z)=>{try{let H=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(Y);K.onsuccess=()=>{K.result.close(),H||self.indexedDB.deleteDatabase(Y),Q(!0)},K.onupgradeneeded=()=>{H=!1},K.onerror=()=>{var xe;Z((null===(xe=K.error)||void 0===xe?void 0:xe.message)||"")}}catch(H){Z(H)}})}function J(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class oe extends Error{constructor(Z,H,Y){super(H),this.code=Z,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(Z,H,Y){this.service=Z,this.serviceName=H,this.errors=Y}create(Z,...H){const Y=H[0]||{},K=`${this.service}/${Z}`,xe=this.errors[Z],je=xe?function Ne(Q,Z){return Q.replace(yt,(H,Y)=>{const K=Z[Y];return null!=K?String(K):`<${Y}?>`})}(xe,Y):"Error";return new oe(K,`${this.serviceName}: ${je} (${K}).`,Y)}}const yt=/\{\$([^}]+)}/g;function en(Q){return JSON.parse(Q)}function Wt(Q){return JSON.stringify(Q)}const Ke=function(Q){let Z={},H={},Y={},K="";try{const xe=Q.split(".");Z=en(_e(xe[0])||""),H=en(_e(xe[1])||""),K=xe[2],Y=H.d||{},delete H.d}catch{}return{header:Z,claims:H,data:Y,signature:K}},an=function(Q){const H=Ke(Q).claims;return!!H&&"object"==typeof H&&H.hasOwnProperty("iat")},ln=function(Q){const Z=Ke(Q).claims;return"object"==typeof Z&&!0===Z.admin};function or(Q,Z){return Object.prototype.hasOwnProperty.call(Q,Z)}function Vt(Q,Z){if(Object.prototype.hasOwnProperty.call(Q,Z))return Q[Z]}function wn(Q){for(const Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))return!1;return!0}function Jo(Q,Z,H){const Y={};for(const K in Q)Object.prototype.hasOwnProperty.call(Q,K)&&(Y[K]=Z.call(H,Q[K],K,Q));return Y}function Ar(Q,Z){if(Q===Z)return!0;const H=Object.keys(Q),Y=Object.keys(Z);for(const K of H){if(!Y.includes(K))return!1;const xe=Q[K],je=Z[K];if(Ki(xe)&&Ki(je)){if(!Ar(xe,je))return!1}else if(xe!==je)return!1}for(const K of Y)if(!H.includes(K))return!1;return!0}function Ki(Q){return null!==Q&&"object"==typeof Q}function gs(Q){const Z=[];for(const[H,Y]of Object.entries(Q))Array.isArray(Y)?Y.forEach(K=>{Z.push(encodeURIComponent(H)+"="+encodeURIComponent(K))}):Z.push(encodeURIComponent(H)+"="+encodeURIComponent(Y));return Z.length?"&"+Z.join("&"):""}function Fs(Q){const Z={};return Q.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[K,xe]=Y.split("=");Z[decodeURIComponent(K)]=decodeURIComponent(xe)}}),Z}function Mr(Q){const Z=Q.indexOf("?");if(!Z)return"";const H=Q.indexOf("#",Z);return Q.substring(Z,H>0?H:void 0)}class ts{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Z=1;Z<this.blockSize;++Z)this.pad_[Z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Z,H){H||(H=0);const Y=this.W_;if("string"==typeof Z)for(let at=0;at<16;at++)Y[at]=Z.charCodeAt(H)<<24|Z.charCodeAt(H+1)<<16|Z.charCodeAt(H+2)<<8|Z.charCodeAt(H+3),H+=4;else for(let at=0;at<16;at++)Y[at]=Z[H]<<24|Z[H+1]<<16|Z[H+2]<<8|Z[H+3],H+=4;for(let at=16;at<80;at++){const En=Y[at-3]^Y[at-8]^Y[at-14]^Y[at-16];Y[at]=4294967295&(En<<1|En>>>31)}let un,ui,K=this.chain_[0],xe=this.chain_[1],je=this.chain_[2],gt=this.chain_[3],Dn=this.chain_[4];for(let at=0;at<80;at++){at<40?at<20?(un=gt^xe&(je^gt),ui=1518500249):(un=xe^je^gt,ui=1859775393):at<60?(un=xe&je|gt&(xe|je),ui=2400959708):(un=xe^je^gt,ui=3395469782);const En=(K<<5|K>>>27)+un+Dn+ui+Y[at]&4294967295;Dn=gt,gt=je,je=4294967295&(xe<<30|xe>>>2),xe=K,K=En}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+xe&4294967295,this.chain_[2]=this.chain_[2]+je&4294967295,this.chain_[3]=this.chain_[3]+gt&4294967295,this.chain_[4]=this.chain_[4]+Dn&4294967295}update(Z,H){if(null==Z)return;void 0===H&&(H=Z.length);const Y=H-this.blockSize;let K=0;const xe=this.buf_;let je=this.inbuf_;for(;K<H;){if(0===je)for(;K<=Y;)this.compress_(Z,K),K+=this.blockSize;if("string"==typeof Z){for(;K<H;)if(xe[je]=Z.charCodeAt(K),++je,++K,je===this.blockSize){this.compress_(xe),je=0;break}}else for(;K<H;)if(xe[je]=Z[K],++je,++K,je===this.blockSize){this.compress_(xe),je=0;break}}this.inbuf_=je,this.total_+=H}digest(){const Z=[];let H=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&H,H/=256;this.compress_(this.buf_);let Y=0;for(let K=0;K<5;K++)for(let xe=24;xe>=0;xe-=8)Z[Y]=this.chain_[K]>>xe&255,++Y;return Z}}function wt(Q,Z){const H=new Tn(Q,Z);return H.subscribe.bind(H)}class Tn{constructor(Z,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{Z(this)}).catch(Y=>{this.error(Y)})}next(Z){this.forEachObserver(H=>{H.next(Z)})}error(Z){this.forEachObserver(H=>{H.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,H,Y){let K;if(void 0===Z&&void 0===H&&void 0===Y)throw new Error("Missing Observer.");K=function Wn(Q,Z){if("object"!=typeof Q||null===Q)return!1;for(const H of Z)if(H in Q&&"function"==typeof Q[H])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:H,complete:Y},void 0===K.next&&(K.next=_s),void 0===K.error&&(K.error=_s),void 0===K.complete&&(K.complete=_s);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),xe}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,Z)}sendOne(Z,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{H(this.observers[Z])}catch(Y){typeof console<"u"&&console.error&&console.error(Y)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _s(){}const ys=function(Q,Z,H,Y){let K;if(Y<Z?K="at least "+Z:Y>H&&(K=0===H?"none":"no more than "+H),K)throw new Error(Q+" failed: Was called with "+Y+(1===Y?" argument.":" arguments.")+" Expects "+K+".")};function zn(Q,Z){return`${Q} failed: ${Z} argument `}function ho(Q,Z,H,Y){if((!Y||H)&&"function"!=typeof H)throw new Error(zn(Q,Z)+"must be a valid function.")}function In(Q,Z,H,Y){if((!Y||H)&&("object"!=typeof H||null===H))throw new Error(zn(Q,Z)+"must be a valid context object.")}const ot=function(Q){const Z=[];let H=0;for(let Y=0;Y<Q.length;Y++){let K=Q.charCodeAt(Y);if(K>=55296&&K<=56319){const xe=K-55296;Y++,ne(Y<Q.length,"Surrogate pair missing trail surrogate."),K=65536+(xe<<10)+(Q.charCodeAt(Y)-56320)}K<128?Z[H++]=K:K<2048?(Z[H++]=K>>6|192,Z[H++]=63&K|128):K<65536?(Z[H++]=K>>12|224,Z[H++]=K>>6&63|128,Z[H++]=63&K|128):(Z[H++]=K>>18|240,Z[H++]=K>>12&63|128,Z[H++]=K>>6&63|128,Z[H++]=63&K|128)}return Z},Xe=function(Q){let Z=0;for(let H=0;H<Q.length;H++){const Y=Q.charCodeAt(H);Y<128?Z++:Y<2048?Z+=2:Y>=55296&&Y<=56319?(Z+=4,H++):Z+=3}return Z};function fo(Q,Z=1e3,H=2){const Y=Z*Math.pow(H,Q),K=Math.round(.5*Y*(Math.random()-.5)*2);return Math.min(144e5,Y+K)}function qt(Q){return Q&&Q._delegate?Q._delegate:Q}},9807:(pt,Te,V)=>{var s=V(4650);let ne=null;function L(){return ne}const ie=new s.OlP("DocumentToken");let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function _e(){return(0,s.LFG)($)}()},providedIn:"platform"}),n})();const G=new s.OlP("Location Initialized");let $=(()=>{class n extends pe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){X()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){X()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function He(){return new $((0,s.LFG)(ie))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Me(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ce(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function st(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(nt)},providedIn:"root"}),n})();const ge=new s.OlP("appBaseHref");let nt=(()=>{class n extends ve{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Me(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+st(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const c=this.prepareExternalUrl(r+st(o));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){const c=this.prepareExternalUrl(r+st(o));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pe),s.LFG(ge,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ht=(()=>{class n extends ve{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Me(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let c=this.prepareExternalUrl(r+st(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){let c=this.prepareExternalUrl(r+st(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pe),s.LFG(ge,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(ze(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+st(i))}normalize(e){return n.stripTrailingSlash(function Ee(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ze(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+st(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+st(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=st,n.joinWithSlash=Me,n.stripTrailingSlash=Ce,n.\u0275fac=function(e){return new(e||n)(s.LFG(ve))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function we(){return new Ae((0,s.LFG)(ve))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}var J=(()=>((J=J||{})[J.Format=0]="Format",J[J.Standalone=1]="Standalone",J))(),re=(()=>((re=re||{})[re.Narrow=0]="Narrow",re[re.Abbreviated=1]="Abbreviated",re[re.Wide=2]="Wide",re[re.Short=3]="Short",re))(),ce=(()=>((ce=ce||{})[ce.Short=0]="Short",ce[ce.Medium=1]="Medium",ce[ce.Long=2]="Long",ce[ce.Full=3]="Full",ce))(),oe=(()=>((oe=oe||{})[oe.Decimal=0]="Decimal",oe[oe.Group=1]="Group",oe[oe.List=2]="List",oe[oe.PercentSign=3]="PercentSign",oe[oe.PlusSign=4]="PlusSign",oe[oe.MinusSign=5]="MinusSign",oe[oe.Exponential=6]="Exponential",oe[oe.SuperscriptingExponent=7]="SuperscriptingExponent",oe[oe.PerMille=8]="PerMille",oe[oe.Infinity=9]="Infinity",oe[oe.NaN=10]="NaN",oe[oe.TimeSeparator=11]="TimeSeparator",oe[oe.CurrencyDecimal=12]="CurrencyDecimal",oe[oe.CurrencyGroup=13]="CurrencyGroup",oe))();function an(n,t){return Tn((0,s.cg1)(n)[s.wAp.DateFormat],t)}function ln(n,t){return Tn((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function or(n,t){return Tn((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function Vt(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===oe.CurrencyDecimal)return e[s.wAp.NumberSymbols][oe.Decimal];if(t===oe.CurrencyGroup)return e[s.wAp.NumberSymbols][oe.Group]}return i}function Fs(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Tn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function ns(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const zn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,kn={},ho=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var In=(()=>((In=In||{})[In.Short=0]="Short",In[In.ShortGMT=1]="ShortGMT",In[In.Long=2]="Long",In[In.Extended=3]="Extended",In))(),ot=(()=>((ot=ot||{})[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot))(),Xe=(()=>((Xe=Xe||{})[Xe.DayPeriods=0]="DayPeriods",Xe[Xe.Days=1]="Days",Xe[Xe.Months=2]="Months",Xe[Xe.Eras=3]="Eras",Xe))();function Ba(n,t,e,i){let r=function On(n){if(Li(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,c=1]=n.split("-").map(d=>+d);return Di(r,o-1,c)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(zn))return function Ei(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-e,d=Number(n[5]||0)-i,p=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,c,d,p,y),t}(i)}const t=new Date(n);if(!Li(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Rn(e,t)||t;let d,c=[];for(;t;){if(d=ho.exec(t),!d){c.push(t);break}{c=c.concat(d.slice(1));const C=c.pop();if(!C)break;t=C}}let p=r.getTimezoneOffset();i&&(p=ui(i,p),r=function En(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function at(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(ui(t,r)-r))}(r,i,!0));let y="";return c.forEach(C=>{const E=function un(n){if(Dn[n])return Dn[n];let t;switch(n){case"G":case"GG":case"GGG":t=qt(Xe.Eras,re.Abbreviated);break;case"GGGG":t=qt(Xe.Eras,re.Wide);break;case"GGGGG":t=qt(Xe.Eras,re.Narrow);break;case"y":t=cn(ot.FullYear,1,0,!1,!0);break;case"yy":t=cn(ot.FullYear,2,0,!0,!0);break;case"yyy":t=cn(ot.FullYear,3,0,!1,!0);break;case"yyyy":t=cn(ot.FullYear,4,0,!1,!0);break;case"Y":t=gt(1);break;case"YY":t=gt(2,!0);break;case"YYY":t=gt(3);break;case"YYYY":t=gt(4);break;case"M":case"L":t=cn(ot.Month,1,1);break;case"MM":case"LL":t=cn(ot.Month,2,1);break;case"MMM":t=qt(Xe.Months,re.Abbreviated);break;case"MMMM":t=qt(Xe.Months,re.Wide);break;case"MMMMM":t=qt(Xe.Months,re.Narrow);break;case"LLL":t=qt(Xe.Months,re.Abbreviated,J.Standalone);break;case"LLLL":t=qt(Xe.Months,re.Wide,J.Standalone);break;case"LLLLL":t=qt(Xe.Months,re.Narrow,J.Standalone);break;case"w":t=je(1);break;case"ww":t=je(2);break;case"W":t=je(1,!0);break;case"d":t=cn(ot.Date,1);break;case"dd":t=cn(ot.Date,2);break;case"c":case"cc":t=cn(ot.Day,1);break;case"ccc":t=qt(Xe.Days,re.Abbreviated,J.Standalone);break;case"cccc":t=qt(Xe.Days,re.Wide,J.Standalone);break;case"ccccc":t=qt(Xe.Days,re.Narrow,J.Standalone);break;case"cccccc":t=qt(Xe.Days,re.Short,J.Standalone);break;case"E":case"EE":case"EEE":t=qt(Xe.Days,re.Abbreviated);break;case"EEEE":t=qt(Xe.Days,re.Wide);break;case"EEEEE":t=qt(Xe.Days,re.Narrow);break;case"EEEEEE":t=qt(Xe.Days,re.Short);break;case"a":case"aa":case"aaa":t=qt(Xe.DayPeriods,re.Abbreviated);break;case"aaaa":t=qt(Xe.DayPeriods,re.Wide);break;case"aaaaa":t=qt(Xe.DayPeriods,re.Narrow);break;case"b":case"bb":case"bbb":t=qt(Xe.DayPeriods,re.Abbreviated,J.Standalone,!0);break;case"bbbb":t=qt(Xe.DayPeriods,re.Wide,J.Standalone,!0);break;case"bbbbb":t=qt(Xe.DayPeriods,re.Narrow,J.Standalone,!0);break;case"B":case"BB":case"BBB":t=qt(Xe.DayPeriods,re.Abbreviated,J.Format,!0);break;case"BBBB":t=qt(Xe.DayPeriods,re.Wide,J.Format,!0);break;case"BBBBB":t=qt(Xe.DayPeriods,re.Narrow,J.Format,!0);break;case"h":t=cn(ot.Hours,1,-12);break;case"hh":t=cn(ot.Hours,2,-12);break;case"H":t=cn(ot.Hours,1);break;case"HH":t=cn(ot.Hours,2);break;case"m":t=cn(ot.Minutes,1);break;case"mm":t=cn(ot.Minutes,2);break;case"s":t=cn(ot.Seconds,1);break;case"ss":t=cn(ot.Seconds,2);break;case"S":t=cn(ot.FractionalSeconds,1);break;case"SS":t=cn(ot.FractionalSeconds,2);break;case"SSS":t=cn(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Z(In.Short);break;case"ZZZZZ":t=Z(In.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Z(In.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Z(In.Long);break;default:return null}return Dn[n]=t,t}(C);y+=E?E(r,e,p):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function Di(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Rn(n,t){const e=function Ne(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(kn[e]=kn[e]||{},kn[e][t])return kn[e][t];let i="";switch(t){case"shortDate":i=an(n,ce.Short);break;case"mediumDate":i=an(n,ce.Medium);break;case"longDate":i=an(n,ce.Long);break;case"fullDate":i=an(n,ce.Full);break;case"shortTime":i=ln(n,ce.Short);break;case"mediumTime":i=ln(n,ce.Medium);break;case"longTime":i=ln(n,ce.Long);break;case"fullTime":i=ln(n,ce.Full);break;case"short":const r=Rn(n,"shortTime"),o=Rn(n,"shortDate");i=Ut(or(n,ce.Short),[r,o]);break;case"medium":const c=Rn(n,"mediumTime"),d=Rn(n,"mediumDate");i=Ut(or(n,ce.Medium),[c,d]);break;case"long":const p=Rn(n,"longTime"),y=Rn(n,"longDate");i=Ut(or(n,ce.Long),[p,y]);break;case"full":const C=Rn(n,"fullTime"),E=Rn(n,"fullDate");i=Ut(or(n,ce.Full),[C,E])}return i&&(kn[e][t]=i),i}function Ut(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function si(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let c=String(n);for(;c.length<t;)c="0"+c;return i&&(c=c.slice(c.length-t)),o+c}function cn(n,t,e=0,i=!1,r=!1){return function(o,c){let d=function vs(n,t){switch(n){case ot.FullYear:return t.getFullYear();case ot.Month:return t.getMonth();case ot.Date:return t.getDate();case ot.Hours:return t.getHours();case ot.Minutes:return t.getMinutes();case ot.Seconds:return t.getSeconds();case ot.FractionalSeconds:return t.getMilliseconds();case ot.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||d>-e)&&(d+=e),n===ot.Hours)0===d&&-12===e&&(d=12);else if(n===ot.FractionalSeconds)return function fo(n,t){return si(n,3).substring(0,t)}(d,t);const p=Vt(c,oe.MinusSign);return si(d,t,p,i,r)}}function qt(n,t,e=J.Format,i=!1){return function(r,o){return function Q(n,t,e,i,r,o){switch(e){case Xe.Months:return function Wt(n,t,e){const i=(0,s.cg1)(n),o=Tn([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return Tn(o,e)}(t,r,i)[n.getMonth()];case Xe.Days:return function en(n,t,e){const i=(0,s.cg1)(n),o=Tn([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return Tn(o,e)}(t,r,i)[n.getDay()];case Xe.DayPeriods:const c=n.getHours(),d=n.getMinutes();if(o){const y=function Mr(n){const t=(0,s.cg1)(n);return Fs(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?ns(i):[ns(i[0]),ns(i[1])])}(t),C=function ts(n,t,e){const i=(0,s.cg1)(n);Fs(i);const o=Tn([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return Tn(o,e)||[]}(t,r,i),E=y.findIndex(M=>{if(Array.isArray(M)){const[P,F]=M,j=c>=P.hours&&d>=P.minutes,te=c<F.hours||c===F.hours&&d<F.minutes;if(P.hours<F.hours){if(j&&te)return!0}else if(j||te)return!0}else if(M.hours===c&&M.minutes===d)return!0;return!1});if(-1!==E)return C[E]}return function yt(n,t,e){const i=(0,s.cg1)(n),o=Tn([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return Tn(o,e)}(t,r,i)[c<12?0:1];case Xe.Eras:return function Ke(n,t){return Tn((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Z(n){return function(t,e,i){const r=-1*i,o=Vt(e,oe.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case In.Short:return(r>=0?"+":"")+si(c,2,o)+si(Math.abs(r%60),2,o);case In.ShortGMT:return"GMT"+(r>=0?"+":"")+si(c,1,o);case In.Long:return"GMT"+(r>=0?"+":"")+si(c,2,o)+":"+si(Math.abs(r%60),2,o);case In.Extended:return 0===i?"Z":(r>=0?"+":"")+si(c,2,o)+":"+si(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function xe(n){return Di(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function je(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,c=e.getDate();r=1+Math.floor((c+o)/7)}else{const o=xe(e),c=function K(n){const t=Di(n,0,1).getDay();return Di(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),d=o.getTime()-c.getTime();r=1+Math.round(d/6048e5)}return si(r,n,Vt(i,oe.MinusSign))}}function gt(n,t=!1){return function(e,i){return si(xe(e).getFullYear(),n,Vt(i,oe.MinusSign),t)}}const Dn={};function ui(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Li(n){return n instanceof Date&&!isNaN(n.valueOf())}let ea=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ja{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let di=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ja(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const d=i.get(o);i.move(d,c),Qn(d,r)}});for(let r=0,o=i.length;r<o;r++){const d=i.get(r).context;d.index=r,d.count=o,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Qn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Qn(n,t){n.context.$implicit=t.item}let dn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Cr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){za("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){za("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Cr{constructor(){this.$implicit=null,this.ngIf=null}}function za(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class ta{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Vs=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Bi=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new ta(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Vs,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),pp=(()=>{class n{constructor(e,i,r){r._addDefault(new ta(e,i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Vs,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),_h=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),c=-1===r.indexOf("-")?void 0:s.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function hi(n,t){return new s.vHH(2100,!1)}class vh{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Wg{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Bs=new Wg,Kg=new vh;let qa=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return Bs;if((0,s.F4k)(e))return Kg;throw hi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Jg=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let na=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){if(null==e||""===e||e!=e)return null;try{return Ba(e,i,o||this.locale,r??this.defaultTimezone??void 0)}catch(c){throw hi()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(Jg,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),cr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const fi="browser";function dr(n){return"server"===n}let ra=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Dr((0,s.LFG)(ie),window)}),n})();class Dr{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Yl(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Us(this.window.history)||Us(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Us(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ss extends class Ka extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){ne||(ne=n)}(new ss)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function zs(){return js=js||document.querySelector("base"),js?js.getAttribute("href"):null}();return null==e?null:function Qa(n){qs=qs||document.createElement("a"),qs.setAttribute("href",n);const t=qs.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){js=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Gu(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let qs,js=null;const It=new s.OlP("TRANSITION_ID"),Ih=[{provide:s.ip1,useFactory:function qn(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[It,ie,s.zs3],multi:!0}];let Ku=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const sa=new s.OlP("EventManagerPlugins");let bo=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sa),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Hc{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Ja=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends Ja{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(jt),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(jt))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function jt(n){L().remove(n)}const wo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xa=/%COMP%/g;function el(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?el(n,r,e):(r=r.replace(Xa,n),e.push(r))}return e}function Jl(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Gs=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new oi(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new $s(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Qu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=el(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bo),s.LFG(Se),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class oi{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(wo[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(oa(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(oa(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=wo[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=wo[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Jl(i)):this.eventManager.addEventListener(t,e,Jl(i))}}function oa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class $s extends oi{constructor(t,e,i,r){super(t),this.component=i;const o=el(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Kl(n){return"_ngcontent-%COMP%".replace(Xa,n)}(r+"-"+i.id),this.hostAttr=function Ql(n){return"_nghost-%COMP%".replace(Xa,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Qu extends oi{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=el(r.id,r.styles,[]);for(let c=0;c<o.length;c++){const d=document.createElement("style");d.textContent=o[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ju=(()=>{class n extends Hc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const xh=["alt","control","meta","shift"],Xu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aa={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tc=(()=>{class n extends Hc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="";if(xh.forEach(p=>{const y=i.indexOf(p);y>-1&&(i.splice(y,1),c+=p+".")}),c+=o,0!=i.length||0===o.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(e){let i="",r=function ed(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&aa.hasOwnProperty(t)&&(t=aa[t]))}return Xu[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),xh.forEach(o=>{o!=r&&(0,jc[o])(e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const yp=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:fi},{provide:s.g9A,useValue:function Gc(){ss.makeCurrent()},multi:!0},{provide:ie,useFactory:function Zc(){return(0,s.RDi)(document),document},deps:[]}]),Yc=new s.OlP(""),pi=[{provide:s.rWj,useClass:class Uc{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const d=function(p){c=c||p,o--,0==o&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Or=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function $c(){return new s.qLn},deps:[]},{provide:sa,useClass:Ju,multi:!0,deps:[ie,s.R0b,s.Lbi]},{provide:sa,useClass:tc,multi:!0,deps:[ie]},{provide:Gs,useClass:Gs,deps:[bo,Se,s.AFp]},{provide:s.FYo,useExisting:Gs},{provide:Ja,useExisting:Se},{provide:Se,useClass:Se,deps:[ie]},{provide:bo,useClass:bo,deps:[sa,s.R0b]},{provide:class Ui{},useClass:Ku,deps:[]},[]];let Nn=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:It,useExisting:s.AFp},Ih]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yc,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...Or,...pi],imports:[cr,s.hGG]}),n})(),kh=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function td(){return new kh((0,s.LFG)(ie))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Eo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(So),i},providedIn:"root"}),n})(),So=(()=>{class n extends Eo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function id(n){return new So(n.get(ie))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var dt=V(8996),Fn=V(9751);const{isArray:Pr}=Array,{getPrototypeOf:ai,prototype:ca,keys:sl}=Object;function ol(n){if(1===n.length){const t=n[0];if(Pr(t))return{args:t,keys:null};if(function al(n){return n&&"object"==typeof n&&ai(n)===ca}(t)){const e=sl(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Er=V(8421),ua=V(3269),hn=V(5403),Ue=V(4004);const{isArray:da}=Array;function Zs(n){return(0,Ue.U)(t=>function rd(n,t){return da(t)?n(...t):n(t)}(n,t))}function To(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Io(...n){const t=(0,ua.jO)(n),{args:e,keys:i}=ol(n),r=new Fn.y(o=>{const{length:c}=e;if(!c)return void o.complete();const d=new Array(c);let p=c,y=c;for(let C=0;C<c;C++){let E=!1;(0,Er.Xf)(e[C]).subscribe((0,hn.x)(o,M=>{E||(E=!0,y--),d[C]=M},()=>p--,void 0,()=>{(!p||!E)&&(y||o.next(i?To(i,d):d),o.complete())}))}});return t?r.pipe(Zs(t)):r}let Kc=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),os=(()=>{class n extends Kc{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const mi=new s.OlP("NgValueAccessor"),Qc={provide:mi,useExisting:(0,s.Gpc)(()=>Ii),multi:!0},Ep=new s.OlP("CompositionEventMode");let Ii=(()=>{class n extends Kc{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Jc(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Ep,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([Qc]),s.qOj]}),n})();function Qi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ha(n){return null!=n&&"number"==typeof n.length}const sn=new s.OlP("NgValidators"),Nr=new s.OlP("NgAsyncValidators"),Xc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lt{static min(t){return function sd(n){return t=>{if(Qi(t.value)||Qi(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function od(n){return t=>{if(Qi(t.value)||Qi(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Kt(t)}static requiredTrue(t){return function cl(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function e_(n){return Qi(n.value)||Xc.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Sp(n){return t=>Qi(t.value)||!ha(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Tp(n){return t=>ha(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Fh(n){if(!n)return ad;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Qi(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return ac(t)}static composeAsync(t){return cd(t)}}function Kt(n){return Qi(n.value)?{required:!0}:null}function ad(n){return null}function Ip(n){return null!=n}function Mo(n){return(0,s.QGY)(n)?(0,dt.D)(n):n}function t_(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function n_(n,t){return t.map(e=>e(n))}function ld(n){return n.map(t=>function li(n){return!n.validate}(t)?t:e=>t.validate(e))}function ac(n){if(!n)return null;const t=n.filter(Ip);return 0==t.length?null:function(e){return t_(n_(e,t))}}function Lh(n){return null!=n?ac(ld(n)):null}function cd(n){if(!n)return null;const t=n.filter(Ip);return 0==t.length?null:function(e){return Io(n_(e,t).map(Mo)).pipe((0,Ue.U)(t_))}}function ji(n){return null!=n?cd(ld(n)):null}function Sr(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ud(n){return n._rawValidators}function fa(n){return n._rawAsyncValidators}function pa(n){return n?Array.isArray(n)?n:[n]:[]}function ma(n,t){return Array.isArray(n)?n.includes(t):n===t}function lc(n,t){const e=pa(t);return pa(n).forEach(r=>{ma(e,r)||e.push(r)}),e}function eu(n,t){return pa(t).filter(e=>!ma(n,e))}class i_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Lh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ji(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class xi extends i_{get formDirective(){return null}get path(){return null}}class Ai extends i_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gn{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hr=(()=>{class n extends Gn{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ai,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),Ji=(()=>{class n extends Gn{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xi,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const dl="VALID",xn="INVALID",Oo="PENDING",hl="DISABLED";function iu(n){return(U(n)?n.validators:n)||null}function T(n){return Array.isArray(n)?Lh(n):n||null}function I(n,t){return(U(t)?t.asyncValidators:n)||null}function k(n){return Array.isArray(n)?ji(n):n||null}function U(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function ee(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function le(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class Ie{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=T(this._rawValidators),this._composedAsyncValidatorFn=k(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===dl}get invalid(){return this.status===xn}get pending(){return this.status==Oo}get disabled(){return this.status===hl}get enabled(){return this.status!==hl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=T(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=k(t)}addValidators(t){this.setValidators(lc(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(lc(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(eu(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(eu(t,this._rawAsyncValidators))}hasValidator(t){return ma(this._rawValidators,t)}hasAsyncValidator(t){return ma(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Oo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=hl,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=dl,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dl||this.status===Oo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hl:dl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Oo,this._hasOwnPendingAsyncValidator=!0;const e=Mo(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?hl:this.errors?xn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oo)?Oo:this._anyControlsHaveStatus(xn)?xn:dl}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){U(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class qe extends Ie{constructor(t,e,i){super(iu(e),I(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){le(this,0,t),Object.keys(t).forEach(i=>{ee(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Bn(n,t){return[...t.path,n]}function Mi(n,t){fd(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function No(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pl(n,t)})}(n,t),function Uh(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function va(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pl(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function as(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Po(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),fl(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function fr(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function fd(n,t){const e=ud(n);null!==t.validator?n.setValidators(Sr(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=fa(n);null!==t.asyncValidator?n.setAsyncValidators(Sr(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();fr(t._rawValidators,r),fr(t._rawAsyncValidators,r)}function fl(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=ud(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=fa(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return fr(t._rawValidators,i),fr(t._rawAsyncValidators,i),e}function pl(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Hh(n,t){fd(n,t)}function s_(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function rb(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function pd(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Ii?e=o:function o_(n){return Object.getPrototypeOf(n.constructor)===os}(o)?i=o:r=o}),r||i||e||null}const zh={provide:xi,useExisting:(0,s.Gpc)(()=>zi)},hc=(()=>Promise.resolve(null))();let zi=(()=>{class n extends xi{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new qe({},Lh(e),ji(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){hc.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Mi(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){hc.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){hc.then(()=>{const i=this._findContainer(e.path),r=new qe({});Hh(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){hc.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){hc.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,rb(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(sn,10),s.Y36(Nr,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([zh]),s.qOj]}),n})();function a_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function l_(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const md=class extends Ie{constructor(t=null,e,i){super(iu(e),I(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),U(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=l_(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){a_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){a_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){l_(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Np={provide:Ai,useExisting:(0,s.Gpc)(()=>ls)},u_=(()=>Promise.resolve(null))();let ls=(()=>{class n extends Ai{constructor(e,i,r,o,c){super(),this._changeDetectorRef=c,this.control=new md,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=pd(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),s_(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mi(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){u_.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);u_.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Bn(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xi,9),s.Y36(sn,10),s.Y36(Nr,10),s.Y36(mi,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([Np]),s.qOj,s.TTD]}),n})(),Xi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Fp={provide:mi,useExisting:(0,s.Gpc)(()=>Lp),multi:!0};let Lp=(()=>{class n extends os{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([Fp]),s.qOj]}),n})(),h_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Bp=new s.OlP("NgModelWithFormControlWarning"),db={provide:Ai,useExisting:(0,s.Gpc)(()=>Gh)};let Gh=(()=>{class n extends Ai{constructor(e,i,r,o){super(),this._ngModelWarningConfig=o,this.update=new s.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=pd(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Po(i,this,!1),Mi(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}s_(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Po(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(sn,10),s.Y36(Nr,10),s.Y36(mi,10),s.Y36(Bp,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s._Bn([db]),s.qOj,s.TTD]}),n})();const hb={provide:xi,useExisting:(0,s.Gpc)(()=>Un)};let Un=(()=>{class n extends xi{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Mi(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Po(e.control||null,e,!1),function sb(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,rb(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Po(i||null,e),(n=>n instanceof md)(r)&&(Mi(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Hh(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function ib(n,t){return fl(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fd(this.form,this),this._oldForm&&fl(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(sn,10),s.Y36(Nr,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([hb]),s.qOj,s.TTD]}),n})();const Zh={provide:Ai,useExisting:(0,s.Gpc)(()=>Fo)};let Fo=(()=>{class n extends Ai{constructor(e,i,r,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=pd(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),s_(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Bn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(xi,13),s.Y36(sn,10),s.Y36(Nr,10),s.Y36(mi,10),s.Y36(Bp,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([Zh]),s.qOj,s.TTD]}),n})(),Lo=(()=>{class n{constructor(){this._validator=ad}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ad,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const b_={provide:sn,useExisting:(0,s.Gpc)(()=>pc),multi:!0};let pc=(()=>{class n extends Lo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>Kt}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([b_]),s.qOj]}),n})(),yd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[h_]}),n})(),Db=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[yd]}),n})(),Ir=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Bp,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[yd]}),n})();class gc extends Ie{constructor(t,e,i){super(iu(e),I(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){le(this,0,t),t.forEach((i,r)=>{ee(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Qh(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Fr=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return Qh(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new qe(r,o)}control(e,i,r){let o={};return this.useNonNullable?(Qh(i)?o=i:(o.validators=i,o.asyncValidators=r),new md(e,{...o,nonNullable:!0})):new md(e,i,r)}array(e,i,r){const o=e.map(c=>this._createControl(c));return new gc(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof md||e instanceof Ie?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:Ir}),n})();function Fe(...n){const t=(0,ua.yG)(n);return(0,dt.D)(n,t)}var et=V(7579);class ki extends et.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const au=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Vo=V(4671),gi=V(9672);function Bo(...n){const t=(0,ua.yG)(n),e=(0,ua.jO)(n),{args:i,keys:r}=ol(n);if(0===i.length)return(0,dt.D)([],t);const o=new Fn.y(function vd(n,t,e=Vo.y){return i=>{E_(t,()=>{const{length:r}=n,o=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)E_(t,()=>{const y=(0,dt.D)(n[p],t);let C=!1;y.subscribe((0,hn.x)(i,E=>{o[p]=E,C||(C=!0,d--),d||i.next(e(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>To(r,c):Vo.y));return e?o.pipe(Zs(e)):o}function E_(n,t,e){n?(0,gi.f)(e,n,t):t()}var cs=V(8189);function Ws(...n){return function lu(){return(0,cs.J)(1)}()((0,dt.D)(n,(0,ua.yG)(n)))}function _l(n){return new Fn.y(t=>{(0,Er.Xf)(n()).subscribe(t)})}var Tb=V(9635),Lr=V(576);function cu(n,t){const e=(0,Lr.m)(n)?n:()=>n,i=r=>r.error(e());return new Fn.y(t?r=>t.schedule(i,0,r):i)}var Uo=V(515),$n=V(727),ei=V(4482);function v(){return(0,ei.e)((n,t)=>{let e=null;n._refCount++;const i=(0,hn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class m extends Fn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ei.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new $n.w0;const e=this.getSubject();t.add(this.source.subscribe((0,hn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=$n.w0.EMPTY)}return t}refCount(){return v()(this)}}function g(n,t){return(0,ei.e)((e,i)=>{let r=null,o=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe((0,hn.x)(i,p=>{r?.unsubscribe();let y=0;const C=o++;(0,Er.Xf)(n(p,C)).subscribe(r=(0,hn.x)(i,E=>i.next(t?t(p,E,C,y++):E),()=>{r=null,d()}))},()=>{c=!0,d()}))})}function w(n){return n<=0?()=>Uo.E:(0,ei.e)((t,e)=>{let i=0;t.subscribe((0,hn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function A(...n){const t=(0,ua.yG)(n);return(0,ei.e)((e,i)=>{(t?Ws(n,e,t):Ws(n,e)).subscribe(i)})}function R(n,t){return(0,ei.e)((e,i)=>{let r=0;e.subscribe((0,hn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var q=V(5577);function de(n){return(0,ei.e)((t,e)=>{let i=!1;t.subscribe((0,hn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Be(n=it){return(0,ei.e)((t,e)=>{let i=!1;t.subscribe((0,hn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function it(){return new au}function mt(n,t){const e=arguments.length>=2;return i=>i.pipe(n?R((r,o)=>n(r,o,i)):Vo.y,w(1),e?de(t):Be(()=>new au))}function ct(n,t){return(0,Lr.m)(t)?(0,q.z)(n,t,1):(0,q.z)(n,1)}var Gt=V(8505);function Ri(n){return(0,ei.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,hn.x)(e,void 0,void 0,c=>{o=(0,Er.Xf)(n(c,Ri(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function bd(n,t,e,i,r){return(o,c)=>{let d=e,p=t,y=0;o.subscribe((0,hn.x)(c,C=>{const E=y++;p=d?n(p,C,E):(d=!0,C),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}function ba(n,t){return(0,ei.e)(bd(n,t,arguments.length>=2,!0))}function _c(n){return n<=0?()=>Uo.E:(0,ei.e)((t,e)=>{let i=[];t.subscribe((0,hn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function qp(n,t){const e=arguments.length>=2;return i=>i.pipe(n?R((r,o)=>n(r,o,i)):Vo.y,_c(1),e?de(t):Be(()=>new au))}function Gp(n,t=!1){return(0,ei.e)((e,i)=>{let r=0;e.subscribe((0,hn.x)(i,o=>{const c=n(o,r++);(c||t)&&i.next(o),!c&&i.complete()}))})}function yl(n){return(0,Ue.U)(()=>n)}function uu(n){return(0,ei.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const $t="primary";class wd{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function du(n){return new wd(n)}function OD(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],d=n[o];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function wa(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!hA(n[r],t[r]))return!1;return!0}function hA(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function PD(n){return Array.prototype.concat.apply([],n)}function Ib(n){return n.length>0?n[n.length-1]:null}function pr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function vl(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,dt.D)(Promise.resolve(n)):Fe(n)}const fA={exact:function FD(n,t,e){if(!Ed(n.segments,t.segments)||!x_(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!FD(n.children[i],t.children[i],e))return!1;return!0},subset:Ab},I_={exact:function pA(n,t){return wa(n,t)},subset:function mA(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>hA(n[e],t[e]))},ignored:()=>!0};function Jh(n,t,e){return fA[e.paths](n.root,t.root,e.matrixParams)&&I_[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Ab(n,t,e){return LD(n,t,t.segments,e)}function LD(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ed(r,e)||t.hasChildren()||!x_(r,e,i))}if(n.segments.length===e.length){if(!Ed(n.segments,e)||!x_(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Ab(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Ed(n.segments,r)&&x_(n.segments,r,i)&&n.children[$t])&&LD(n.children[$t],t,o,i)}}function x_(n,t,e){return t.every((i,r)=>I_[e](n[r].parameters,i.parameters))}class Cd{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=du(this.queryParams)),this._queryParamMap}toString(){return yA.serialize(this)}}class Jt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,pr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mr(this)}}class Dd{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=du(this.parameters)),this._parameterMap}toString(){return BD(this)}}function Ed(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Mb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new kb},providedIn:"root"}),n})();class kb{parse(t){const e=new DA(t);return new Cd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Sd(t.root,!0)}`,i=function vA(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Xh(e)}=${Xh(r)}`).join("&"):`${Xh(e)}=${Xh(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Vr(n){return encodeURI(n)}(t.fragment)}`:""}`}}const yA=new kb;function mr(n){return n.segments.map(t=>BD(t)).join("/")}function Sd(n,t){if(!n.hasChildren())return mr(n);if(t){const e=n.children[$t]?Sd(n.children[$t],!1):"",i=[];return pr(n.children,(r,o)=>{o!==$t&&i.push(`${o}:${Sd(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function _A(n,t){let e=[];return pr(n.children,(i,r)=>{r===$t&&(e=e.concat(t(i,r)))}),pr(n.children,(i,r)=>{r!==$t&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===$t?[Sd(n.children[$t],!1)]:[`${r}:${Sd(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${mr(n)}/${e[0]}`:`${mr(n)}/(${e.join("//")})`}}function Rb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xh(n){return Rb(n).replace(/%3B/gi,";")}function Td(n){return Rb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ef(n){return decodeURIComponent(n)}function VD(n){return ef(n.replace(/\+/g,"%20"))}function BD(n){return`${Td(n.path)}${function UD(n){return Object.keys(n).map(t=>`;${Td(t)}=${Td(n[t])}`).join("")}(n.parameters)}`}const HD=/^[^\/()?;=#]+/;function A_(n){const t=n.match(HD);return t?t[0]:""}const jD=/^[^=?&#]+/,wA=/^[^&#]+/;class DA{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[$t]=new Jt(t,e)),i}parseSegment(){const t=A_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(t),new Dd(ef(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=A_(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=A_(this.remaining);r&&(i=r,this.capture(i))}t[ef(e)]=ef(i)}parseQueryParam(t){const e=function bA(n){const t=n.match(jD);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function CA(n){const t=n.match(wA);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=VD(e),o=VD(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=A_(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=$t);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[$t]:new Jt([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,!1)}}function Ob(n){return n.segments.length>0?new Jt([],{[$t]:n}):n}function M_(n){const t={};for(const i of Object.keys(n.children)){const o=M_(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function tf(n){if(1===n.numberOfChildren&&n.children[$t]){const t=n.children[$t];return new Jt(n.segments.concat(t.segments),t.children)}return n}(new Jt(n.segments,t))}function us(n){return n instanceof Cd}function zD(n,t,e,i,r){if(0===e.length)return hu(t.root,t.root,t.root,i,r);const o=function Nb(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qD(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const d={};return pr(o.outlets,(p,y)=>{d[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,o]},[]);return new qD(e,t,i)}(e);return o.toRoot()?hu(t.root,t.root,new Jt([],{}),i,r):function c(p){const y=function EA(n,t,e,i){if(n.isAbsolute)return new nf(t.root,!0,0);if(-1===i)return new nf(e,e===t.root,0);return function Fb(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new nf(i,!1,r-o)}(e,i+(k_(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,p),C=y.processChildren?rf(y.segmentGroup,y.index,o.commands):Zp(y.segmentGroup,y.index,o.commands);return hu(t.root,y.segmentGroup,C,i,r)}(n.snapshot?._lastPathIndex)}function k_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ss(n){return"object"==typeof n&&null!=n&&n.outlets}function hu(n,t,e,i,r){let c,o={};i&&pr(i,(p,y)=>{o[y]=Array.isArray(p)?p.map(C=>`${C}`):`${p}`}),c=n===t?e:R_(n,t,e);const d=Ob(M_(c));return new Cd(d,o,r)}function R_(n,t,e){const i={};return pr(n.children,(r,o)=>{i[o]=r===t?e:R_(r,t,e)}),new Jt(n.segments,i)}class qD{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&k_(i[0]))throw new s.vHH(4003,!1);const r=i.find(Ss);if(r&&r!==Ib(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nf{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Zp(n,t,e){if(n||(n=new Jt([],{})),0===n.segments.length&&n.hasChildren())return rf(n,t,e);const i=function oL(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const c=n.segments[r],d=e[i];if(Ss(d))break;const p=`${d}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!GD(p,y,c))return o;i+=2}else{if(!GD(p,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Jt(n.segments.slice(0,i.pathIndex),{});return o.children[$t]=new Jt(n.segments.slice(i.pathIndex),n.children),rf(o,0,r)}return i.match&&0===r.length?new Jt(n.segments,{}):i.match&&!n.hasChildren()?fu(n,t,e):i.match?rf(n,0,r):fu(n,t,e)}function rf(n,t,e){if(0===e.length)return new Jt(n.segments,{});{const i=function Lb(n){return Ss(n[0])?n[0].outlets:{[$t]:n}}(e),r={};return pr(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=Zp(n.children[c],t,o))}),pr(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new Jt(n.segments,r)}}function fu(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Ss(o)){const p=Vb(o.outlets);return new Jt(i,p)}if(0===r&&k_(e[0])){i.push(new Dd(n.segments[t].path,Bb(e[0]))),r++;continue}const c=Ss(o)?o.outlets[$t]:`${o}`,d=r<e.length-1?e[r+1]:null;c&&d&&k_(d)?(i.push(new Dd(c,Bb(d))),r+=2):(i.push(new Dd(c,{})),r++)}return new Jt(i,{})}function Vb(n){const t={};return pr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=fu(new Jt([],{}),0,e))}),t}function Bb(n){const t={};return pr(n,(e,i)=>t[i]=`${e}`),t}function GD(n,t,e){return n==e.path&&wa(t,e.parameters)}class Ca{constructor(t,e){this.id=t,this.url=e}}class Ub extends Ca{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Id extends Ca{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class O_ extends Ca{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $D extends Ca{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SA extends Ca{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TA extends Ca{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZD extends Ca{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hb extends Ca{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YD extends Ca{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jb{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class IA{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xA{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WD{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KD{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xd{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zb{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class JD{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=XD(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=XD(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=sf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return sf(t,this._root).map(e=>e.value)}}function XD(n,t){if(n===t.value)return t;for(const e of t.children){const i=XD(n,e);if(i)return i}return null}function sf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=sf(n,e);if(i.length)return i.unshift(t),i}return[]}class yc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ad(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class qb extends JD{constructor(t,e){super(t),this.snapshot=e,F_(this,t)}toString(){return this.snapshot.toString()}}function Gb(n,t){const e=function $b(n,t){const c=new Wp([],{},{},"",{},$t,t,null,n.root,-1,{});return new N_("",new yc(c,[]))}(n,t),i=new ki([new Dd("",{})]),r=new ki({}),o=new ki({}),c=new ki({}),d=new ki(""),p=new pu(i,r,c,d,o,$t,t,e.root);return p.snapshot=e.root,new qb(new yc(p,[]),e)}class pu{constructor(t,e,i,r,o,c,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ue.U)(t=>du(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ue.U)(t=>du(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yp(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function P_(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Wp{constructor(t,e,i,r,o,c,d,p,y,C,E,M){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=C,this._correctedLastPathIndex=M??C,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=du(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=du(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class N_ extends JD{constructor(t,e){super(e),this.url=t,F_(this,e)}toString(){return L_(this._root)}}function F_(n,t){t.value._routerState=n,t.children.forEach(e=>F_(n,e))}function L_(n){const t=n.children.length>0?` { ${n.children.map(L_).join(", ")} } `:"";return`${n.value}${t}`}function Md(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,wa(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),wa(t.params,e.params)||n.params.next(e.params),function S_(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!wa(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),wa(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Zb(n,t){const e=wa(n.params,t.params)&&function gA(n,t){return Ed(n,t)&&n.every((e,i)=>wa(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Zb(n.parent,t.parent))}function Kp(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function AA(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Kp(n,i,r);return Kp(n,i)})}(n,t,e);return new yc(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>Kp(n,d)),c}}const i=function tE(n){return new pu(new ki(n.url),new ki(n.params),new ki(n.queryParams),new ki(n.fragment),new ki(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Kp(n,o));return new yc(i,r)}}const Qp="ngNavigationCancelingError";function Yb(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=us(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=MA(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function MA(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Qp]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Wb(n){return nE(n)&&us(n.url)}function nE(n){return n&&n[Qp]}class iE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Jp,this.attachRef=null}}let Jp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new iE,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const V_=!1;let Br=(()=>{class n{constructor(e,i,r,o,c){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||$t,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,V_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,V_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,V_);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,V_);this._activatedRoute=e;const r=this.location,c=e._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new kA(e,d,r.injector);if(i&&function rE(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(c);this.activated=r.createComponent(y,r.length,p)}else this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Jp),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class kA{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===pu?this.route:t===Jp?this.childContexts:this.parent.get(t,e)}}let sE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[Br],encapsulation:2}),n})();function oE(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function B_(n){const t=n.children&&n.children.map(B_),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$t&&(e.component=sE),e}function Ks(n){return n.outlet||$t}function lE(n,t){const e=n.filter(i=>Ks(i)===t);return e.push(...n.filter(i=>Ks(i)!==t)),e}function cE(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class PA{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Md(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Ad(e);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),pr(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ad(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ad(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Ad(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new xd(o.value.snapshot))}),t.children.length&&this.forwardEvent(new WD(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Md(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),Md(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=cE(r.snapshot),p=d?.get(s._Vd)??null;c.attachRef=null,c.route=r,c.resolver=p,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class Qb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class U_{constructor(t,e){this.component=t,this.route=e}}function NA(n,t,e){const i=n._root;return af(i,t?t._root:null,e,[i.value])}function Xp(n,t,e){return(cE(t)??e).get(n)}function af(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ad(t);return n.children.forEach(c=>{(function kd(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const p=function FA(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ed(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ed(n.url,t.url)||!wa(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zb(n,t)||!wa(n.queryParams,t.queryParams);default:return!Zb(n,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new Qb(i)):(o.data=c.data,o._resolvedData=c._resolvedData),af(n,t,o.component?d?d.children:null:e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new U_(d.outlet.component,c))}else c&&Rd(t,d,r),r.canActivateChecks.push(new Qb(i)),af(n,null,o.component?d?d.children:null:e,i,r)})(c,o[c.value.outlet],e,i.concat([c.value]),r),delete o[c.value.outlet]}),pr(o,(c,d)=>Rd(c,e.getContext(d),r)),r}function Rd(n,t,e){const i=Ad(n),r=n.value;pr(i,(o,c)=>{Rd(o,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new U_(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Od(n){return"function"==typeof n}function mu(n){return n instanceof au||"EmptyError"===n?.name}const H_=Symbol("INITIAL_VALUE");function Pd(){return g(n=>Bo(n.map(t=>t.pipe(w(1),A(H_)))).pipe((0,Ue.U)(t=>{for(const e of t)if(!0!==e){if(e===H_)return H_;if(!1===e||e instanceof Cd)return e}return!0}),R(t=>t!==H_),w(1)))}function pE(n){return(0,Tb.z)((0,Gt.b)(t=>{if(us(t))throw Yb(0,t)}),(0,Ue.U)(t=>!0===t))}const z_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function q_(n,t,e,i,r){const o=gE(n,t,e);return o.matched?function mE(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Fe(r.map(c=>{const d=n.get(c),p=function dE(n){return n&&Od(n.canMatch)}(d)?d.canMatch(t,e):d(t,e);return vl(p)})).pipe(Pd(),pE()):Fe(!0)}(i=oE(t,i),t,e).pipe((0,Ue.U)(c=>!0===c?o:{...z_})):Fe(o)}function gE(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...z_}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||OD)(e,n,t);if(!r)return{...z_};const o={};pr(r.posParams,(d,p)=>{o[p]=d.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function lf(n,t,e,i,r="corrected"){if(e.length>0&&function cf(n,t,e){return e.some(i=>em(n,t,i)&&Ks(i)!==$t)}(n,e,i)){const c=new Jt(t,function pL(n,t,e,i){const r={};r[$t]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Ks(o)!==$t){const c=new Jt([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[Ks(o)]=c}return r}(n,t,i,new Jt(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function _E(n,t,e){return e.some(i=>em(n,t,i))}(n,e,i)){const c=new Jt(n.segments,function $A(n,t,e,i,r,o){const c={};for(const d of i)if(em(n,e,d)&&!r[Ks(d)]){const p=new Jt([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===o?n.segments.length:t.length,c[Ks(d)]=p}return{...r,...c}}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const o=new Jt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function em(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function tm(n,t,e,i){return!!(Ks(n)===i||i!==$t&&em(t,e,n))&&("**"===n.path||gE(t,n,e).matched)}function Ho(n,t,e){return 0===t.length&&!n.children[e]}const nm=!1;class G_{constructor(t){this.segmentGroup=t||null}}class $_{constructor(t){this.urlTree=t}}function Qs(n){return cu(new G_(n))}function Z_(n){return cu(new $_(n))}class vE{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=lf(this.urlTree.root,[],[],this.config).segmentGroup,e=new Jt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,$t).pipe((0,Ue.U)(o=>this.createUrlTree(M_(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ri(o=>{if(o instanceof $_)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof G_?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,$t).pipe((0,Ue.U)(r=>this.createUrlTree(M_(r),t.queryParams,t.fragment))).pipe(Ri(r=>{throw r instanceof G_?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,nm)}createUrlTree(t,e,i){const r=Ob(t);return new Cd(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Ue.U)(o=>new Jt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,dt.D)(r).pipe(ct(o=>{const c=i.children[o],d=lE(e,o);return this.expandSegmentGroup(t,d,c,o).pipe((0,Ue.U)(p=>({segment:p,outlet:o})))}),ba((o,c)=>(o[c.outlet]=c.segment,o),{}),qp())}expandSegment(t,e,i,r,o,c){return(0,dt.D)(i).pipe(ct(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,o,c).pipe(Ri(y=>{if(y instanceof G_)return Fe(null);throw y}))),mt(d=>!!d),Ri((d,p)=>{if(mu(d))return Ho(e,r,o)?Fe(new Jt([],{})):Qs(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,o,c,d){return tm(r,e,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c):Qs(e):Qs(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Z_(o):this.lineralizeSegments(i,o).pipe((0,q.z)(c=>{const d=new Jt(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){const{matched:d,consumedSegments:p,remainingSegments:y,positionalParamSegments:C}=gE(e,r,o);if(!d)return Qs(e);const E=this.applyRedirectCommands(p,r.redirectTo,C);return r.redirectTo.startsWith("/")?Z_(E):this.lineralizeSegments(r,E).pipe((0,q.z)(M=>this.expandSegment(t,e,i,M.concat(y),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=oE(i,t),i.loadChildren?(i._loadedRoutes?Fe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Ue.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new Jt(r,{})))):Fe(new Jt(r,{}))):q_(e,i,r,t).pipe(g(({matched:c,consumedSegments:d,remainingSegments:p})=>c?this.getChildConfig(t=i._injector??t,i,r).pipe((0,q.z)(C=>{const E=C.injector??t,M=C.routes,{segmentGroup:P,slicedSegments:F}=lf(e,d,p,M),j=new Jt(P.segments,P.children);if(0===F.length&&j.hasChildren())return this.expandChildren(E,M,j).pipe((0,Ue.U)(We=>new Jt(d,We)));if(0===M.length&&0===F.length)return Fe(new Jt(d,{}));const te=Ks(i)===o;return this.expandSegment(E,j,M,F,te?$t:o,!0).pipe((0,Ue.U)(Ge=>new Jt(d.concat(Ge.segments),Ge.children)))})):Qs(e)))}getChildConfig(t,e,i){return e.children?Fe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Fe({routes:e._loadedRoutes,injector:e._loadedInjector}):function fE(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Fe(!0):Fe(r.map(c=>{const d=n.get(c),p=function dL(n){return n&&Od(n.canLoad)}(d)?d.canLoad(t,e):d(t,e);return vl(p)})).pipe(Pd(),pE())}(t,e,i).pipe((0,q.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Gt.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Jb(n){return cu(MA(nm,3))}())):Fe({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Fe(i);if(r.numberOfChildren>1||!r.children[$t])return cu(new s.vHH(4e3,nm));r=r.children[$t]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Cd(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return pr(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[o]=e[d]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let c={};return pr(e.children,(d,p)=>{c[p]=this.createSegmentGroup(t,d,i,r)}),new Jt(o,c)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,nm);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class Y_{}class t0{constructor(t,e,i,r,o,c,d,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d,this.urlSerializer=p}recognize(){const t=lf(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,$t).pipe((0,Ue.U)(e=>{if(null===e)return null;const i=new Wp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new yc(i,e),o=new N_(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=Yp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,dt.D)(Object.keys(i.children)).pipe(ct(r=>{const o=i.children[r],c=lE(e,r);return this.processSegmentGroup(t,c,o,r)}),ba((r,o)=>r&&o?(r.push(...o),r):null),Gp(r=>null!==r),de(null),qp(),(0,Ue.U)(r=>{if(null===r)return null;const o=bE(r);return function _L(n){n.sort((t,e)=>t.value.outlet===$t?-1:e.value.outlet===$t?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,dt.D)(e).pipe(ct(c=>this.processSegmentAgainstRoute(c._injector??t,c,i,r,o)),mt(c=>!!c),Ri(c=>{if(mu(c))return Ho(i,r,o)?Fe([]):Fe(null);throw c}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!tm(e,i,r,o))return Fe(null);let c;if("**"===e.path){const d=r.length>0?Ib(r).parameters:{},p=KA(i)+r.length;c=Fe({snapshot:new Wp(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QA(e),Ks(e),e.component??e._loadedComponent??null,e,n0(i),p,r0(e),p),consumedSegments:[],remainingSegments:[]})}else c=q_(i,e,r,t).pipe((0,Ue.U)(({matched:d,consumedSegments:p,remainingSegments:y,parameters:C})=>{if(!d)return null;const E=KA(i)+p.length;return{snapshot:new Wp(p,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QA(e),Ks(e),e.component??e._loadedComponent??null,e,n0(i),E,r0(e),E),consumedSegments:p,remainingSegments:y}}));return c.pipe(g(d=>{if(null===d)return Fe(null);const{snapshot:p,consumedSegments:y,remainingSegments:C}=d;t=e._injector??t;const E=e._loadedInjector??t,M=function ZA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:P,slicedSegments:F}=lf(i,y,C,M.filter(te=>void 0===te.redirectTo),this.relativeLinkResolution);if(0===F.length&&P.hasChildren())return this.processChildren(E,M,P).pipe((0,Ue.U)(te=>null===te?null:[new yc(p,te)]));if(0===M.length&&0===F.length)return Fe([new yc(p,[])]);const j=Ks(e)===o;return this.processSegment(E,M,P,F,j?$t:o).pipe((0,Ue.U)(te=>null===te?null:[new yc(p,te)]))}))}}function YA(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function bE(n){const t=[],e=new Set;for(const i of n){if(!YA(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=bE(i.children);t.push(new yc(i.value,r))}return t.filter(i=>!e.has(i))}function n0(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function KA(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function QA(n){return n.data||{}}function r0(n){return n.resolve||{}}const s0=Symbol("RouteTitle");function JA(n){return"string"==typeof n.title||null===n.title}function DE(n){return g(t=>{const e=n(t);return e?(0,dt.D)(e).pipe((0,Ue.U)(()=>t)):Fe(t)})}let XA=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===$t);return i}getResolvedTitleForRoute(e){return e.data[s0]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(eM)},providedIn:"root"}),n})(),eM=(()=>{class n extends XA{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class CL{}class a0 extends class gu{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const W_=new s.OlP("",{providedIn:"root",factory:()=>({})}),Q_=new s.OlP("ROUTES");let im=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Fe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=vl(e.loadComponent()).pipe((0,Gt.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),uu(()=>{this.componentLoaders.delete(e)})),r=new m(i,()=>new et.x).pipe(v());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Fe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ue.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,y,C=!1;Array.isArray(d)?y=d:(p=d.create(e).injector,y=PD(p.get(Q_,[],s.XFs.Self|s.XFs.Optional)));return{routes:y.map(B_),injector:p}}),uu(()=>{this.childrenLoaders.delete(i)})),c=new m(o,()=>new et.x).pipe(v());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return vl(e()).pipe((0,q.z)(i=>i instanceof s.YKP||Array.isArray(i)?Fe(i):(0,dt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nM{}class _u{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function iM(n){throw n}function l0(n,t,e){return t.parse("/")}const rM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function SE(){const n=(0,s.f3M)(Mb),t=(0,s.f3M)(Jp),e=(0,s.f3M)(Ae),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(Q_,{optional:!0})??[],c=(0,s.f3M)(W_,{optional:!0})??{},d=(0,s.f3M)(eM),p=(0,s.f3M)(XA,{optional:!0}),y=(0,s.f3M)(nM,{optional:!0}),C=(0,s.f3M)(CL,{optional:!0}),E=new fn(null,n,t,e,i,r,PD(o));return y&&(E.urlHandlingStrategy=y),C&&(E.routeReuseStrategy=C),E.titleStrategy=p??d,function sM(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,E),E}let fn=(()=>{class n{constructor(e,i,r,o,c,d,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new et.x,this.errorHandler=iM,this.malformedUriErrorHandler=l0,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Fe(void 0),this.urlHandlingStrategy=new _u,this.routeReuseStrategy=new a0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(im),this.configLoader.onLoadEndListener=M=>this.triggerEvent(new IA(M)),this.configLoader.onLoadStartListener=M=>this.triggerEvent(new jb(M)),this.ngModule=c.get(s.h0i),this.console=c.get(s.c2e);const E=c.get(s.R0b);this.isNgZoneEnabled=E instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function xb(){return new Cd(new Jt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Gb(this.currentUrlTree,this.rootComponentType),this.transitions=new ki({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(R(r=>0!==r.id),(0,Ue.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),g(r=>{let o=!1,c=!1;return Fe(r).pipe((0,Gt.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),g(d=>{const p=this.browserUrlTree.toString(),y=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return J_(d.source)&&(this.browserUrlTree=d.extractedUrl),Fe(d).pipe(g(E=>{const M=this.transitions.getValue();return i.next(new Ub(E.id,this.serializeUrl(E.extractedUrl),E.source,E.restoredState)),M!==this.transitions.getValue()?Uo.E:Promise.resolve(E)}),function gL(n,t,e,i){return g(r=>function mL(n,t,e,i,r){return new vE(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Ue.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Gt.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},r.urlAfterRedirects=E.urlAfterRedirects}),function CE(n,t,e,i,r,o){return(0,q.z)(c=>function e0(n,t,e,i,r,o,c="emptyOnly",d="legacy"){return new t0(n,t,e,i,r,c,d,o).recognize().pipe(g(p=>null===p?function Xb(n){return new Fn.y(t=>t.error(n))}(new Y_):Fe(p)))}(n,t,e,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,o).pipe((0,Ue.U)(d=>({...c,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Gt.b)(E=>{if(r.targetSnapshot=E.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!E.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);this.setBrowserUrl(P,E)}this.browserUrlTree=E.urlAfterRedirects}const M=new SA(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);i.next(M)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:P,source:F,restoredState:j,extras:te}=d,Re=new Ub(M,this.serializeUrl(P),F,j);i.next(Re);const Ge=Gb(P,this.rootComponentType).snapshot;return Fe(r={...d,targetSnapshot:Ge,urlAfterRedirects:P,extras:{...te,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),Uo.E}),(0,Gt.b)(d=>{const p=new TA(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,Ue.U)(d=>r={...d,guards:NA(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function j_(n,t){return(0,q.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?Fe({...e,guardsResult:!0}):function UA(n,t,e,i){return(0,dt.D)(n).pipe((0,q.z)(r=>function GA(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Fe(o.map(d=>{const p=Xp(d,t,r);return vl(function VA(n){return n&&Od(n.canDeactivate)}(p)?p.canDeactivate(n,t,e,i):p(n,t,e,i)).pipe(mt())})).pipe(Pd()):Fe(!0)}(r.component,r.route,e,t,i)),mt(r=>!0!==r,!0))}(c,i,r,n).pipe((0,q.z)(d=>d&&function LA(n){return"boolean"==typeof n}(d)?function hE(n,t,e,i){return(0,dt.D)(t).pipe(ct(r=>Ws(function jA(n,t){return null!==n&&t&&t(new xA(n)),Fe(!0)}(r.route.parent,i),function HA(n,t){return null!==n&&t&&t(new KD(n)),Fe(!0)}(r.route,i),function qA(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function uL(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>_l(()=>Fe(c.guards.map(p=>{const y=Xp(p,c.node,e);return vl(function fL(n){return n&&Od(n.canActivateChild)}(y)?y.canActivateChild(i,n):y(i,n)).pipe(mt())})).pipe(Pd())));return Fe(o).pipe(Pd())}(n,r.path,e),function zA(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Fe(!0);const r=i.map(o=>_l(()=>{const c=Xp(o,t,e);return vl(function hL(n){return n&&Od(n.canActivate)}(c)?c.canActivate(t,n):c(t,n)).pipe(mt())}));return Fe(r).pipe(Pd())}(n,r.route,e))),mt(r=>!0!==r,!0))}(i,o,n,t):Fe(d)),(0,Ue.U)(d=>({...e,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Gt.b)(d=>{if(r.guardsResult=d.guardsResult,us(d.guardsResult))throw Yb(0,d.guardsResult);const p=new ZD(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),R(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),DE(d=>{if(d.guards.canActivateChecks.length)return Fe(d).pipe((0,Gt.b)(p=>{const y=new Hb(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),g(p=>{let y=!1;return Fe(p).pipe(function o0(n,t){return(0,q.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Fe(e);let o=0;return(0,dt.D)(r).pipe(ct(c=>function yL(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!JA(r)&&(o[s0]=r.title),function vL(n,t,e,i){const r=function bL(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Fe({});const o={};return(0,dt.D)(r).pipe((0,q.z)(c=>function wL(n,t,e,i){const r=Xp(n,t,i);return vl(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe(mt(),(0,Gt.b)(d=>{o[c]=d}))),_c(1),yl(o),Ri(c=>mu(c)?Uo.E:cu(c)))}(o,n,t,i).pipe((0,Ue.U)(c=>(n._resolvedData=c,n.data=Yp(n,e).resolve,r&&JA(r)&&(n.data[s0]=r.title),null)))}(c.route,i,n,t)),(0,Gt.b)(()=>o++),_c(1),(0,q.z)(c=>o===r.length?Fe(e):Uo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Gt.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,Gt.b)(p=>{const y=new YD(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),DE(d=>{const p=y=>{const C=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,Gt.b)(E=>{y.component=E}),(0,Ue.U)(()=>{})));for(const E of y.children)C.push(...p(E));return C};return Bo(p(d.targetSnapshot.root)).pipe(de(),w(1))}),DE(()=>this.afterPreactivation()),(0,Ue.U)(d=>{const p=function eE(n,t,e){const i=Kp(n,t._root,e?e._root:void 0);return new qb(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:p}}),(0,Gt.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,Ue.U)(i=>(new PA(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Gt.b)({next(){o=!0},complete(){o=!0}}),uu(()=>{o||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ri(d=>{if(c=!0,nE(d)){Wb(d)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new O_(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(p),Wb(d)){const y=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||J_(r.source)};this.scheduleNavigation(y,"imperative",null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new $D(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(d))}catch(y){r.reject(y)}}return Uo.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const d={...o};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(B_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,y=r||this.routerState.root,C=p?this.currentUrlTree.fragment:c;let E=null;switch(d){case"merge":E={...this.currentUrlTree.queryParams,...o};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=o||null}return null!==E&&(E=this.removeEmptyProps(E)),zD(y,this.currentUrlTree,e,E,C??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=us(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function uf(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...rM}:!1===i?{...EE}:i,us(e))return Jh(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Jh(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Id(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let d,p,y;c?(d=c.resolve,p=c.reject,y=c.promise):y=new Promise((M,P)=>{d=M,p=P});const C=++this.navigationId;let E;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),E=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):E=0,this.setTransition({id:C,targetPageId:E,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:d,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(M=>Promise.reject(M))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new O_(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return SE()},providedIn:"root"}),n})();function J_(n){return"imperative"!==n}let Js=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new et.x,this.subscription=e.events.subscribe(o=>{o instanceof Id&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,c){if(0!==e||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fn),s.Y36(pu),s.Y36(ve))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();class c0{}let X_=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(R(e=>e instanceof Id),ct(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const c=o._injector??e,d=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(d,o.children??o._loadedRoutes))}return(0,dt.D)(r).pipe((0,cs.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Fe(null);const o=r.pipe((0,q.z)(c=>null===c?Fe(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,dt.D)([o,c]).pipe((0,cs.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fn),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(c0),s.LFG(im))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const u0=new s.OlP("");let d0=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ub?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Id&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof zb&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new zb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const IE=new s.OlP("ROUTER_FORROOT_GUARD"),h0=new s.OlP(""),lM=[Ae,{provide:Mb,useClass:kb},{provide:fn,useFactory:SE},Jp,{provide:pu,useFactory:function xE(n){return n.routerState.root},deps:[fn]},im];function AE(){return new s.PXZ("Router",fn)}let ME=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[lM,[],RE(e),{provide:IE,useFactory:DL,deps:[[fn,new s.FiY,new s.tp0]]},{provide:W_,useValue:i||{}},i?.useHash?{provide:ve,useClass:ht}:{provide:ve,useClass:nt},{provide:u0,useFactory:()=>{const n=(0,s.f3M)(fn),t=(0,s.f3M)(ra),e=(0,s.f3M)(W_);return e.scrollOffset&&t.setOffset(e.scrollOffset),new d0(n,t,e)}},i?.preloadingStrategy?fM(i.preloadingStrategy):[],{provide:s.PXZ,multi:!0,useFactory:AE},i?.initialNavigation?uM(i):[],[{provide:p0,useFactory:f0},{provide:s.tb,multi:!0,useExisting:p0}]]}}static forChild(e){return{ngModule:n,providers:[RE(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(IE,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function DL(n){return"guarded"}function RE(n){return[{provide:Q_,multi:!0,useValue:n}]}function f0(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(fn),r=n.get(OE);1===n.get(m0)&&i.initialNavigation(),n.get(h0,null,s.XFs.Optional)?.setUpPreloading(),n.get(u0,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const p0=new s.OlP("");function uM(n){return["disabled"===n.initialNavigation?[{provide:s.ip1,multi:!0,useFactory:()=>{const n=(0,s.f3M)(fn);return()=>{n.setUpLocationChangeListener()}}},{provide:m0,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:m0,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:n=>{const t=n.get(G,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(r=>{const o=n.get(fn),c=n.get(OE);(function i(r){n.get(fn).events.pipe(R(c=>c instanceof Id||c instanceof O_||c instanceof $D),(0,Ue.U)(c=>c instanceof Id||c instanceof O_&&(0===c.code||1===c.code)&&null),R(c=>null!==c),w(1)).subscribe(()=>{r()})})(()=>{r(!0),e=!0}),o.afterPreactivation=()=>(r(!0),e||c.closed?Fe(void 0):c),o.initialNavigation()}))}}]:[]]}const OE=new s.OlP("",{factory:()=>new et.x}),m0=new s.OlP("",{providedIn:"root",factory:()=>1});function fM(n){return[X_,{provide:h0,useExisting:X_},{provide:c0,useExisting:n}]}const FE=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function mM(){return(0,s.f3M)(ie)}}),bl=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ur=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function g0(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?bl.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(FE,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Dt(n){return null!=n&&"false"!=`${n}`}function _0(n,t=0){return LE(n)?Number(n):t}function LE(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function ey(n){return Array.isArray(n)?n:[n]}function _i(n){return null==n?"":"string"==typeof n?n:`${n}px`}function vc(n){return n instanceof s.SBq?n.nativeElement:n}function VE(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const o=`${r}`.trim();o&&e.push(o)}}return e}function am(n){return n&&"function"==typeof n.connect}class y0{applyChanges(t,e,i,r,o){t.forEachOperation((c,d,p)=>{let y,C;if(null==c.previousIndex){const E=i(c,d,p);y=e.createEmbeddedView(E.templateRef,E.context,E.index),C=1}else null==p?(e.remove(d),C=3):(y=e.get(d),e.move(y,p),C=2);o&&o({context:y?.context,operation:C,record:c})})}detach(){}}class lm{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new et.x,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}const Fd=new s.OlP("_ViewRepeater");let BE;try{BE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{BE=!1}let Ld,er=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Wu(n){return n===fi}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!BE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const v0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function b0(){if(Ld)return Ld;if("object"!=typeof document||!document)return Ld=new Set(v0),Ld;let n=document.createElement("input");return Ld=new Set(v0.filter(t=>(n.setAttribute("type",t),n.type===t))),Ld}let Vd,Ud,Da,iy;function Bd(n){return function bc(){if(null==Vd&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Vd=!0}))}finally{Vd=Vd||!1}return Vd}()?n:!!n.capture}function UE(){if(null==Da){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Da=!1,Da;if("scrollBehavior"in document.documentElement.style)Da=!0;else{const n=Element.prototype.scrollTo;Da=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Da}function Hd(){if("object"!=typeof document||!document)return 0;if(null==Ud){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Ud=0,0===n.scrollLeft&&(n.scrollLeft=1,Ud=0===n.scrollLeft?1:2),n.remove()}return Ud}function wc(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function bu(n){return n.composedPath?n.composedPath()[0]:n.target}function HE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var vM=V(1144);const TL=["addListener","removeListener"],bM=["addEventListener","removeEventListener"],wM=["on","off"];function Cc(n,t,e,i){if((0,Lr.m)(e)&&(i=e,e=void 0),i)return Cc(n,t,e).pipe(Zs(i));const[r,o]=function w0(n){return(0,Lr.m)(n.addEventListener)&&(0,Lr.m)(n.removeEventListener)}(n)?bM.map(c=>d=>n[c](t,d,e)):function IL(n){return(0,Lr.m)(n.addListener)&&(0,Lr.m)(n.removeListener)}(n)?TL.map(jE(n,t)):function zE(n){return(0,Lr.m)(n.on)&&(0,Lr.m)(n.off)}(n)?wM.map(jE(n,t)):[];if(!r&&(0,vM.z)(n))return(0,q.z)(c=>Cc(c,t,e))((0,Er.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Fn.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>o(d)})}function jE(n,t){return e=>i=>n[e](t,i)}var qE=V(4408);const jd={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=jd;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new $n.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=jd;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=jd;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var GE=V(7565);new class DM extends GE.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class CM extends qE.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=jd.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(jd.cancelAnimationFrame(e),t._scheduled=void 0)}});let df,SM=1;const wl={};function TM(n){return n in wl&&(delete wl[n],!0)}const cm={setImmediate(n){const t=SM++;return wl[t]=!0,df||(df=Promise.resolve()),df.then(()=>TM(t)&&n()),t},clearImmediate(n){TM(n)}},{setImmediate:IM,clearImmediate:C0}=cm,ry={setImmediate(...n){const{delegate:t}=ry;return(t?.setImmediate||IM)(...n)},clearImmediate(n){const{delegate:t}=ry;return(t?.clearImmediate||C0)(n)},delegate:void 0};new class um extends GE.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Cl extends qE.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ry.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(ry.clearImmediate(e),t._scheduled=void 0)}});var Dc=V(4986),D0=V(3532);function zd(n=0,t,e=Dc.P){let i=-1;return null!=t&&((0,D0.K)(t)?e=t:i=t),new Fn.y(r=>{let o=function ff(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function qd(n,t=Dc.z){return function jo(n){return(0,ei.e)((t,e)=>{let i=!1,r=null,o=null,c=!1;const d=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const y=r;r=null,e.next(y)}c&&e.complete()},p=()=>{o=null,c&&e.complete()};t.subscribe((0,hn.x)(e,y=>{i=!0,r=y,o||(0,Er.Xf)(n(y)).subscribe(o=(0,hn.x)(e,d,p))},()=>{c=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>zd(n,t))}var wu=V(5032);function Zt(n){return(0,ei.e)((t,e)=>{(0,Er.Xf)(n).subscribe((0,hn.x)(e,()=>e.complete(),wu.Z)),!e.closed&&t.subscribe(e)})}let sy=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new et.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Fn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(qd(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Fe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(R(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=vc(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Cc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(er),s.LFG(ie,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oy=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new et.x,this._elementScrolled=new Fn.y(c=>this.ngZone.runOutsideAngular(()=>Cc(this.elementRef.nativeElement,"scroll").pipe(Zt(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Hd()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Hd()?e.left=e.right:1==Hd()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;UE()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==Hd()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&1==Hd()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(sy),s.Y36(s.R0b),s.Y36(Ur,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Gd=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new et.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(qd(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(er),s.LFG(s.R0b),s.LFG(ie,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ec=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),E0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[om,Ec,om,Ec]}),n})();const ly=[[["caption"]],[["colgroup"],["col"]]],S0=["caption","colgroup, col"];function pf(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Dt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Cu=new s.OlP("CDK_TABLE");let Du=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),$d=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),mm=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class T0{}const I0=pf(T0);let Sc=(()=>{class n extends I0{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Dt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Cu,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Du,5),s.Suo(r,$d,5),s.Suo(r,mm,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class uy{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let dy=(()=>{class n extends uy{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sc),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),hy=(()=>{class n extends uy{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sc),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class KE{constructor(){this.tasks=[],this.endTasks=[]}}const fy=new s.OlP("_COALESCED_STYLE_SCHEDULER");let A0=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new et.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new KE,this._getScheduleObservable().pipe(Zt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new KE;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,dt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(w(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),gm=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof mf?e.headerCell.template:this instanceof gf?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class QE extends gm{}const JE=pf(QE);let mf=(()=>{class n extends JE{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Cu,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class XE extends gm{}const eS=pf(XE);let gf=(()=>{class n extends eS{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Cu,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),_m=(()=>{class n extends gm{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Cu,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),Dl=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),tS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Dl],encapsulation:2}),n})(),k0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Dl],encapsulation:2}),n})(),ym=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const nS=["top","bottom","left","right"];class tr{constructor(t,e,i,r,o=!0,c=!0,d){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=c,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(M=>M)&&!i.some(M=>M))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],c=o.children.length,d=this._getCellWidths(o,r),p=this._getStickyStartColumnPositions(d,e),y=this._getStickyEndColumnPositions(d,i),C=e.lastIndexOf(!0),E=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const M="rtl"===this.direction,P=M?"right":"left",F=M?"left":"right";for(const j of t)for(let te=0;te<c;te++){const Re=j.children[te];e[te]&&this._addStickyStyle(Re,P,p[te],te===C),i[te]&&this._addStickyStyle(Re,F,y[te],te===E)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===C?[]:d.slice(0,C+1).map((j,te)=>e[te]?j:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===E?[]:d.slice(E).map((j,te)=>i[te+E]?j:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,c=[],d=[],p=[];for(let C=0,E=0;C<r.length;C++){if(!o[C])continue;c[C]=E;const M=r[C];p[C]=this._isNativeHtmlTable?Array.from(M.children):[M];const P=M.getBoundingClientRect().height;E+=P,d[C]=P}const y=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let C=0;C<r.length;C++){if(!o[C])continue;const E=c[C],M=C===y;for(const P of p[C])this._addStickyStyle(P,i,E,M)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:d,offsets:c,elements:p}):this._positionListener?.stickyFooterRowsUpdated({sizes:d,offsets:c,elements:p})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);nS.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of nS)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const R0=new s.OlP("CDK_SPL");let bm=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),py=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),wm=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),O0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),eo=(()=>{class n{constructor(e,i,r,o,c,d,p,y,C,E,M,P){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=c,this._platform=p,this._viewRepeater=y,this._coalescedStyleScheduler=C,this._viewportRuler=E,this._stickyPositioningListener=M,this._ngZone=P,this._onDestroy=new et.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new ki({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Dt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Dt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Zt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),am(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,c)=>this._getEmbeddedViewArgs(r.item,c),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe(w(1),Zt(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,c)=>{this._addStickyColumnStyles([o],this._headerRowDefs[c])}),this._rowDefs.forEach(o=>{const c=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===o&&c.push(i[d]);this._addStickyColumnStyles(c,o)}),r.forEach((o,c)=>{this._addStickyColumnStyles([o],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const c=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let d=0;d<c.length;d++){let p=c[d];const y=this._cachedRenderRowsMap.get(p.data);y.has(p.rowDef)?y.get(p.rowDef).push(p):y.set(p.rowDef,[p]),e.push(p)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(c=>{const d=r&&r.has(c)?r.get(c):[];if(d.length){const p=d.shift();return p.dataIndex=i,p}return{data:e,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),my(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=my(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=my(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=my(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(c,d)=>c||!!d.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],am(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;am(this.dataSource)?e=this.dataSource.connect(this):function ay(n){return!!n&&(n instanceof Fn.y||(0,Lr.m)(n.lift)&&(0,Lr.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Fe(this.dataSource)),this._renderChangeSubscription=e.pipe(Zt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(d=>this._columnDefsByName.get(d)),o=r.map(d=>d.sticky),c=r.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(c=>c.when&&c.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const c=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),c}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Dl.mostRecentCellOutlet&&Dl.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const c=e.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const c of r.outlets)o.appendChild(c.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new tr(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Fe()).pipe(Zt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),c=o.rootNodes[0];1===o.rootNodes.length&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(Ur,8),s.Y36(ie),s.Y36(er),s.Y36(Fd),s.Y36(fy),s.Y36(Gd),s.Y36(R0,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,ym,5),s.Suo(r,Sc,5),s.Suo(r,_m,5),s.Suo(r,mf,5),s.Suo(r,gf,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(bm,7),s.Gf(py,7),s.Gf(wm,7),s.Gf(O0,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:Cu,useExisting:n},{provide:Fd,useClass:y0},{provide:fy,useClass:A0},{provide:R0,useValue:null}])],ngContentSelectors:S0,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(ly),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[bm,py,wm,O0],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function my(n,t){return n.concat(Array.from(t))}let Ea=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[E0]}),n})();function gr(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Im(n,t=Dc.z){return(0,ei.e)((e,i)=>{let r=null,o=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const y=o;o=null,i.next(y)}};function p(){const y=c+n,C=t.now();if(C<y)return r=this.schedule(void 0,y-C),void i.add(r);d()}e.subscribe((0,hn.x)(i,y=>{o=y,c=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{o=r=null}))})}function hS(n){return R((t,e)=>n<=e)}function xm(n,t=Vo.y){return n=n??fS,(0,ei.e)((e,i)=>{let r,o=!0;e.subscribe((0,hn.x)(i,c=>{const d=t(c);(o||!n(r,d))&&(o=!1,r=d,i.next(c))}))})}function fS(n,t){return n===t}let pS=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dk=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=vc(e);return new Fn.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new et.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pS))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yf=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Dt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=_0(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Im(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Dk),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),mS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pS]}),n})();const gS=new Set;let Yd,Sk=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Tk}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function _S(n){if(!gS.has(n))try{Yd||(Yd=document.createElement("style"),Yd.setAttribute("type","text/css"),document.head.appendChild(Yd)),Yd.sheet&&(Yd.sheet.insertRule(`@media ${n} {body{ }}`,0),gS.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(er))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tk(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let U0=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new et.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return yS(ey(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Bo(yS(ey(e)).map(c=>this._registerQuery(c).observable));return o=Ws(o.pipe(w(1)),o.pipe(hS(1),Im(0))),o.pipe((0,Ue.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:y})=>{d.matches=d.matches||p,d.breakpoints[y]=p}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Fn.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(A(i),(0,Ue.U)(({matches:c})=>({query:e,matches:c})),Zt(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Sk),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yS(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class wS{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new et.x,this._typeaheadSubscription=$n.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new et.x,this.change=new et.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Gt.b)(e=>this._pressedLetters.push(e)),Im(t),R(()=>this._pressedLetters.length>0),(0,Ue.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,c=i[o];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||gr(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class CS extends wS{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class DS extends wS{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let vf=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function kk(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function ES(n){try{return n.frameElement}catch{return null}}(function Fk(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Ey(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=Ey(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function TS(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function j0(n){return!function SS(n){return function Pk(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Rk(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Ok(n){return function Nk(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Dy(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(er))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dy(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Ey(n){if(!Dy(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Lk{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(w(1)).subscribe(t)}}let Wd=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Lk(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vf),s.LFG(s.R0b),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vk=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Dt(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Dt(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=wc(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Wd),s.Y36(ie))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[s.TTD]}),n})();function z0(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Sy(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Hk=new s.OlP("cdk-input-modality-detector-options"),q0={ignoreKeys:[18,17,224,91,16]},bf=Bd({passive:!0,capture:!0});let G0=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new ki(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=bu(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(z0(c)?"keyboard":"mouse"),this._mostRecentTarget=bu(c))},this._onTouchstart=c=>{Sy(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bu(c))},this._options={...q0,...o},this.modalityDetected=this._modality.pipe(hS(1)),this.modalityChanged=this.modalityDetected.pipe(xm()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,bf),r.addEventListener("mousedown",this._onMousedown,bf),r.addEventListener("touchstart",this._onTouchstart,bf)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,bf),document.removeEventListener("mousedown",this._onMousedown,bf),document.removeEventListener("touchstart",this._onTouchstart,bf))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(er),s.LFG(s.R0b),s.LFG(ie),s.LFG(Hk,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xS=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function AS(){return null}}),MS=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let kS=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[o,c]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xS,8),s.LFG(s.R0b),s.LFG(ie),s.LFG(MS,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jk=new s.OlP("cdk-focus-monitor-default-options"),Ty=Bd({passive:!0,capture:!0});let Kd=(()=>{class n{constructor(e,i,r,o,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new et.x,this._rootNodeFocusAndBlurListener=d=>{for(let y=bu(d);y;y=y.parentElement)"focus"===d.type?this._onFocus(d,y):this._onBlur(d,y)},this._document=o,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=vc(e);if(!this._platform.isBrowser||1!==r.nodeType)return Fe(null);const o=function yM(n){if(function _M(){if(null==iy){const n=typeof document<"u"?document.head:null;iy=!(!n||!n.createShadowRoot&&!n.attachShadow)}return iy}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new et.x,rootNode:o};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=vc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=vc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=bu(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ty),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ty)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Zt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ty),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ty),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let c=0;c<o.length;c++)if(o[c].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(er),s.LFG(G0),s.LFG(ie,8),s.LFG(jk,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$0=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new s.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Kd))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const zk="cdk-high-contrast-black-on-white",Z0="cdk-high-contrast-white-on-black",Y0="cdk-high-contrast-active";let RS=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(U0).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Y0,zk,Z0),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Y0,zk):2===i&&e.add(Y0,Z0)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(er),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qk=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(RS))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mS]}),n})();function $k(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function Zk(n,t){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const OS=["*"],Wk=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function Yk(){return!0}});let pn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!HE()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(RS),s.LFG(Wk,8),s.LFG(ie))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[om,om]}),n})();function W0(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Dt(t)}}}function wf(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Qd(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Dt(t)}}}function K0(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?_0(e):this.defaultTabIndex}}}function Mm(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}const B2=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function NS(){return(0,s.f3M)(s.soG)}});class yi{constructor(){this._localeChanges=new et.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Tl=new s.OlP("mat-date-formats"),Qk=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Q0(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let km=(()=>{class n extends yi{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Q0(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Q0(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Q0(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Qk.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B2,8),s.LFG(er))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Jk={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let J0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:yi,useClass:km}]}),n})(),Il=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:Tl,useValue:Jk}],imports:[J0]}),n})(),qo=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Rm(n,t,e){n.nativeElement.classList.toggle(t,e)}let FS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[pn,pn]}),n})();class xy{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Om={enterDuration:225,exitDuration:150},X0=Bd({passive:!0}),ew=["mousedown","touchstart"],tw=["mouseup","mouseleave","touchend","touchcancel"];class Ay{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=vc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Om,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function LS(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,p=e-r.top,y=o.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=d-c+"px",C.style.top=p-c+"px",C.style.height=2*c+"px",C.style.width=2*c+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(C);const E=window.getComputedStyle(C),P=E.transitionDuration,F="none"===E.transitionProperty||"0s"===P||"0s, 0s"===P,j=new xy(this,C,i,F);C.style.transform="scale3d(1, 1, 1)",j.state=0,i.persistent||(this._mostRecentTransientRipple=j);let te=null;return!F&&(y||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Re=()=>this._finishRippleTransition(j),Ge=()=>this._destroyRipple(j);C.addEventListener("transitionend",Re),C.addEventListener("transitioncancel",Ge),te={onTransitionEnd:Re,onTransitionCancel:Ge}}),this._activeRipples.set(j,te),(F||!y)&&this._finishRippleTransition(j),j}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...Om,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=vc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(ew))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(tw),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=z0(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Sy(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,X0)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(ew.forEach(t=>{this._triggerElement.removeEventListener(t,this,X0)}),this._pointerUpEventsRegistered&&tw.forEach(t=>{this._triggerElement.removeEventListener(t,this,X0)}))}}const VS=new s.OlP("mat-ripple-global-options");let My=(()=>{class n{constructor(e,i,r,o,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Ay(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(er),s.Y36(VS,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),nw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[pn,pn]}),n})(),ky=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),Pm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[pn]}),n})();const Ry=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),iw=new s.OlP("MatOptgroup");let t1=0;class rw{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let sw=(()=>{class n{constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+t1++,this.onSelectionChange=new s.vpe,this._stateChanges=new et.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Dt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!gr(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new rw(this,e))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Eu=(()=>{class n extends sw{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ry,8),s.Y36(iw,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),s.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:OS,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,$k,1,2,"mat-pseudo-checkbox",0),s.TgZ(1,"span",1),s.Hsn(2),s.qZA(),s.YNc(3,Zk,2,1,"span",2),s._UZ(4,"div",3)),2&e&&(s.Q6J("ngIf",i.multiple),s.xp6(3),s.Q6J("ngIf",i.group&&i.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[My,dn,ky],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function Oy(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[o]&&o++;return o}return 0}function ow(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}let Nm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[nw,cr,pn,Pm]}),n})();var ti=V(6451);const HS=[[["caption"]],[["colgroup"],["col"]]],jS=["caption","colgroup, col"];let _r=(()=>{class n extends eo{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:Fd,useClass:y0},{provide:eo,useExisting:n},{provide:Cu,useExisting:n},{provide:fy,useClass:A0},{provide:R0,useValue:null}]),s.qOj],ngContentSelectors:jS,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(HS),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[bm,py,wm,O0],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),xl=(()=>{class n extends Du{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:Du,useExisting:n}]),s.qOj]}),n})(),Fm=(()=>{class n extends $d{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:$d,useExisting:n}]),s.qOj]}),n})(),Py=(()=>{class n extends Sc{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:Sc,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),Ny=(()=>{class n extends dy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[s.qOj]}),n})(),Df=(()=>{class n extends hy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[s.qOj]}),n})(),Su=(()=>{class n extends mf{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:mf,useExisting:n}]),s.qOj]}),n})(),Ef=(()=>{class n extends _m{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:_m,useExisting:n}]),s.qOj]}),n})(),Fy=(()=>{class n extends tS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:tS,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Dl],encapsulation:2}),n})(),Ly=(()=>{class n extends k0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[s._Bn([{provide:k0,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Dl],encapsulation:2}),n})(),aw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ea,pn,pn]}),n})();class Tf extends class YS extends class ty{}{constructor(t=[]){super(),this._renderData=new ki([]),this._filter=new ki(""),this._internalPageChanges=new et.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(LE(r)){const o=Number(r);return o<9007199254740991?o:r}return r},this.sortData=(e,i)=>{const r=i.active,o=i.direction;return r&&""!=o?e.sort((c,d)=>{let p=this.sortingDataAccessor(c,r),y=this.sortingDataAccessor(d,r);const C=typeof p,E=typeof y;C!==E&&("number"===C&&(p+=""),"number"===E&&(y+=""));let M=0;return null!=p&&null!=y?p>y?M=1:p<y&&(M=-1):null!=p?M=1:null!=y&&(M=-1),M*("asc"==o?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((c,d)=>c+e[d]+"\u25ec","").toLowerCase(),o=i.trim().toLowerCase();return-1!=r.indexOf(o)},this._data=new ki(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,ti.T)(this._sort.sortChange,this._sort.initialized):Fe(null),e=this._paginator?(0,ti.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Fe(null),r=Bo([this._data,this._filter]).pipe((0,Ue.U)(([d])=>this._filterData(d))),o=Bo([r,t]).pipe((0,Ue.U)(([d])=>this._orderData(d))),c=Bo([o,e]).pipe((0,Ue.U)(([d])=>this._pageData(d)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=c.subscribe(d=>this._renderData.next(d))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}{}class lw{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class If extends lw{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class xf extends lw{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class G2 extends lw{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class cw{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof If?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof xf?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof G2?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class c1 extends cw{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Af=(()=>{class n extends cw{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const c=o.element,d=this._document.createComment("dom-portal");o.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(ie))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Jd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const KS=UE();class h1{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=_i(-this._previousScrollPosition.left),t.style.top=_i(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),KS&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),KS&&(i.scrollBehavior=o,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class p1{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class uw{enable(){}disable(){}attach(){}}function Vy(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function dw(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class QS{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Vy(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let m1=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new uw,this.close=c=>new p1(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new h1(this._viewportRuler,this._document),this.reposition=c=>new QS(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sy),s.LFG(Gd),s.LFG(s.R0b),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Vm{constructor(t){if(this.scrollStrategy=new uw,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class W2{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let _1=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K2=(()=>{class n extends _1{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){const d=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q2=(()=>{class n extends _1{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=bu(o)},this._clickListener=o=>{const c=bu(o),d="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const C=p[y];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(c)||C.overlayElement.contains(d))break;const E=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>E.next(o)):E.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(er),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hw=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||HE()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),HE()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(er))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class By{constructor(t,e,i,r,o,c,d,p,y,C=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=y,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new et.x,this._attachments=new et.x,this._detachments=new et.x,this._locationChanges=$n.w0.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._backdropTransitionendHandler=E=>{this._disposeBackdrop(E.target)},this._keydownEvents=new et.x,this._outsidePointerEvents=new et.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(w(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=_i(this._config.width),t.height=_i(this._config.height),t.minWidth=_i(this._config.minWidth),t.minHeight=_i(this._config.minHeight),t.maxWidth=_i(this._config.maxWidth),t.maxHeight=_i(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=ey(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Zt((0,ti.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Bm="cdk-overlay-connected-position-bounding-box",J2=/([A-Za-z%]+)$/;class fw{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new et.x,this._resizeSubscription=$n.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Bm),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,r,d),y=this._getOverlayPoint(p,e,d),C=this._getOverlayFit(y,e,i,d);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(C,y,i)?o.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<C.visibleArea)&&(c={overlayFit:C,overlayPoint:y,originPoint:p,position:d,overlayRect:e})}if(o.length){let d=null,p=-1;for(const y of o){const C=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);C>p&&(p=C,d=y)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Al(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Bm),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?c:d}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=mw(e);let{x:c,y:d}=t,p=this._getOffset(r,"x"),y=this._getOffset(r,"y");p&&(c+=p),y&&(d+=y);let M=0-d,P=d+o.height-i.height,F=this._subtractOverflows(o.width,0-c,c+o.width-i.width),j=this._subtractOverflows(o.height,M,P),te=F*j;return{visibleArea:te,isCompletelyWithinViewport:o.width*o.height===te,fitsInViewportVertically:j===o.height,fitsInViewportHorizontally:F==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,c=pw(this._overlayRef.getConfig().minHeight),d=pw(this._overlayRef.getConfig().minWidth),y=t.fitsInViewportHorizontally||null!=d&&d<=o;return(t.fitsInViewportVertically||null!=c&&c<=r)&&y}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=mw(e),o=this._viewportRect,c=Math.max(t.x+r.width-o.width,0),d=Math.max(t.y+r.height-o.height,0),p=Math.max(o.top-i.top-t.y,0),y=Math.max(o.left-i.left-t.x,0);let C=0,E=0;return C=r.width<=o.width?y||-c:t.x<this._viewportMargin?o.left-i.left-t.x:0,E=r.height<=o.height?p||-d:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:C,y:E},{x:t.x+C,y:t.y+E}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new W2(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,c,d,C,E,M;if("top"===e.overlayY)c=t.y,o=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,o=i.height-d+this._viewportMargin;else{const P=Math.min(i.bottom-t.y+i.top,t.y),F=this._lastBoundingBoxSize.height;o=2*P,c=t.y-P,o>F&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-F/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)M=i.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)E=t.x,C=i.right-t.x;else{const P=Math.min(i.right-t.x+i.left,t.x),F=this._lastBoundingBoxSize.width;C=2*P,E=t.x-P,C>F&&!this._isInitialRender&&!this._growAfterOpen&&(E=t.x-F/2)}return{top:c,left:E,bottom:d,right:M,width:C,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=_i(i.height),r.top=_i(i.top),r.bottom=_i(i.bottom),r.width=_i(i.width),r.left=_i(i.left),r.right=_i(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=_i(o)),c&&(r.maxWidth=_i(c))}this._lastBoundingBoxSize=i,Al(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Al(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Al(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();Al(i,this._getExactOverlayY(e,t,C)),Al(i,this._getExactOverlayX(e,t,C))}else i.position="static";let d="",p=this._getOffset(e,"x"),y=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),y&&(d+=`translateY(${y}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=_i(c.maxHeight):o&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=_i(c.maxWidth):o&&(i.maxWidth="")),Al(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=_i(o.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=_i(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dw(t,i),isOriginOutsideView:Vy(t,i),isOverlayClipped:dw(e,i),isOverlayOutsideView:Vy(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ey(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Al(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function pw(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(J2);return e&&"px"!==e?null:parseFloat(t)}return n||null}function mw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const gw="cdk-global-overlay-wrapper";class y1{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(gw),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),y=!("100%"!==o&&"100vh"!==o||d&&"100%"!==d&&"100vh"!==d),C=this._xPosition,E=this._xOffset,M="rtl"===this._overlayRef.getConfig().direction;let P="",F="",j="";p?j="flex-start":"center"===C?(j="center",M?F=E:P=E):M?"left"===C||"end"===C?(j="flex-end",P=E):("right"===C||"start"===C)&&(j="flex-start",F=E):"left"===C||"start"===C?(j="flex-start",P=E):("right"===C||"end"===C)&&(j="flex-end",F=E),t.position=this._cssPosition,t.marginLeft=p?"0":P,t.marginTop=y?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":F,e.justifyContent=j,e.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(gw),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let XS=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new y1}flexibleConnectedTo(e){return new fw(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Gd),s.LFG(ie),s.LFG(er),s.LFG(hw))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X2=0,Go=(()=>{class n{constructor(e,i,r,o,c,d,p,y,C,E,M,P){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=y,this._directionality=C,this._location=E,this._outsideClickDispatcher=M,this._animationsModuleType=P}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),c=new Vm(e);return c.direction=c.direction||this._directionality.value,new By(o,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+X2++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new c1(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(m1),s.LFG(hw),s.LFG(s._Vd),s.LFG(XS),s.LFG(K2),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(ie),s.LFG(Ur),s.LFG(Ae),s.LFG(Q2),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const v1=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],eT=new s.OlP("cdk-connected-overlay-scroll-strategy");let Um=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),tT=(()=>{class n{constructor(e,i,r,o,c){this._overlay=e,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=$n.w0.EMPTY,this._attachSubscription=$n.w0.EMPTY,this._detachSubscription=$n.w0.EMPTY,this._positionSubscription=$n.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new xf(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Dt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Dt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Dt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Dt(e)}get push(){return this._push}set push(e){this._push=Dt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=v1);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!gr(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Vm({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Um?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Gp(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Go),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(eT),s.Y36(Ur,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[s.TTD]}),n})();const tV={provide:eT,deps:[Go],useFactory:function eV(n){return()=>n.scrollStrategies.reposition()}};let Uy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Go,tV],imports:[om,Jd,E0,E0]}),n})();function b1(n,t){}class Hy{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let nT=(()=>{class n extends cw{constructor(e,i,r,o,c,d,p,y){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=c,this._ngZone=d,this._overlayRef=p,this._focusMonitor=y,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=C=>{this._portalOutlet.hasAttached();const E=this._portalOutlet.attachDomPortal(C);return this._contentAttached(),E},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=wc(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=wc();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=wc())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Wd),s.Y36(ie,8),s.Y36(Hy),s.Y36(vf),s.Y36(s.R0b),s.Y36(By),s.Y36(Kd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(Af,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,b1,0,0,"ng-template",0)},dependencies:[Af],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class jy{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new et.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!gr(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const _w=new s.OlP("DialogScrollStrategy"),iV=new s.OlP("DialogData"),Ta=new s.OlP("DefaultDialogConfig"),yw={provide:_w,deps:[Go],useFactory:function w1(n){return()=>n.scrollStrategies.block()}};let C1=0,Ts=(()=>{class n{constructor(e,i,r,o,c,d){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new et.x,this._afterOpenedAtThisLevel=new et.x,this._ariaHiddenElements=new Map,this.afterAllClosed=_l(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(A(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new Hy,...i}).id=i.id||"cdk-dialog-"+C1++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),c=this._overlay.create(o),d=new jy(c,i),p=this._attachContainer(c,d,i);return d.containerInstance=p,this._attachDialogContent(e,d,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){vw(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){vw(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),vw(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Vm({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,c=[{provide:Hy,useValue:r},{provide:jy,useValue:i},{provide:By,useValue:e}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,c.push(...r.container.providers(r))):d=nT;const p=new If(d,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:c}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,o){if(e instanceof s.Rgc){const c=this._createInjector(o,i,r,void 0);let d={$implicit:o.data,dialogRef:i};o.templateContext&&(d={...d,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new xf(e,null,d,c))}else{const c=this._createInjector(o,i,r,this._injector),d=r.attachComponentPortal(new If(e,o.viewContainerRef,c,o.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(e,i,r,o){const c=e.injector||e.viewContainerRef?.injector,d=[{provide:iV,useValue:e.data},{provide:jy,useValue:i}];return e.providers&&("function"==typeof e.providers?d.push(...e.providers(i,e,r)):d.push(...e.providers)),e.direction&&(!c||!c.get(Ur,null,s.XFs.Optional))&&d.push({provide:Ur,useValue:{value:e.direction,change:Fe()}}),s.zs3.create({parent:c||o,providers:d})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,c)=>{o?c.setAttribute("aria-hidden",o):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Go),s.LFG(s.zs3),s.LFG(Ta,8),s.LFG(n,12),s.LFG(hw),s.LFG(_w))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function vw(n,t){let e=n.length;for(;e--;)t(n[e])}let bw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ts,yw],imports:[Uy,Jd,qk,Jd]}),n})();class iT{}const Ia="*";function Ml(n,t){return{type:7,name:n,definitions:t,options:{}}}function Is(n,t=null){return{type:4,styles:t,timings:n}}function rT(n,t=null){return{type:3,steps:n,options:t}}function ww(n,t=null){return{type:2,steps:n,options:t}}function An(n){return{type:6,styles:n,offset:null}}function jr(n,t,e){return{type:0,name:n,styles:t,options:e}}function Cw(n){return{type:5,steps:n}}function xs(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function kl(n=null){return{type:9,options:n}}function Hm(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function oT(n){Promise.resolve(null).then(n)}class zy{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class aT{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?oT(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function S1(n,t){}const Mf={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},lT={dialogContainer:Ml("dialogContainer",[jr("void, exit",An({opacity:0,transform:"scale(0.7)"})),jr("enter",An({transform:"none"})),xs("* => enter",rT([Is("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",An({transform:"none",opacity:1})),Hm("@*",kl(),{optional:!0})]),Mf),xs("* => void, * => exit",rT([Is("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",An({opacity:0})),Hm("@*",kl(),{optional:!0})]),Mf)])};class Ew{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Mf.params.enterAnimationDuration,this.exitAnimationDuration=Mf.params.exitAnimationDuration}}let cT=(()=>{class n extends nT{constructor(e,i,r,o,c,d,p,y){super(e,i,r,o,c,d,p,y),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Wd),s.Y36(ie,8),s.Y36(Ew),s.Y36(vf),s.Y36(s.R0b),s.Y36(By),s.Y36(Kd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),T1=(()=>{class n extends cT{constructor(e,i,r,o,c,d,p,y,C){super(e,i,r,o,c,d,p,C),this._changeDetectorRef=y,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Mf.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Mf.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Wd),s.Y36(ie,8),s.Y36(Ew),s.Y36(vf),s.Y36(s.R0b),s.Y36(By),s.Y36(s.sBO),s.Y36(Kd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._getAnimationState()))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,S1,0,0,"ng-template",0)},dependencies:[Af],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[lT.dialogContainer]}}),n})();class qy{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new et.x,this._beforeClosed=new et.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(R(r=>"opened"===r.state),w(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(R(r=>"closed"===r.state),w(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,ti.T)(this.backdropClick(),this.keydownEvents().pipe(R(r=>27===r.keyCode&&!this.disableClose&&!gr(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),I1(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(R(e=>"closing"===e.state),w(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function I1(n,t,e){return n._closeInteractionType=t,n.close(e)}const jm=new s.OlP("MatDialogData"),uT=new s.OlP("mat-dialog-default-options"),Sw=new s.OlP("mat-dialog-scroll-strategy"),hT={provide:Sw,deps:[Go],useFactory:function dT(n){return()=>n.scrollStrategies.block()}};let Gy=0,$y=(()=>{class n{constructor(e,i,r,o,c,d,p,y,C,E){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=p,this._dialogContainerType=y,this._dialogDataToken=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new et.x,this._afterOpenedAtThisLevel=new et.x,this._idPrefix="mat-dialog-",this.afterAllClosed=_l(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(A(void 0))),this._scrollStrategy=d,this._dialog=i.get(Ts)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new Ew,...i}).id=i.id||`${this._idPrefix}${Gy++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Ew,useValue:i},{provide:Hy,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,d,p)=>(r=new this._dialogRefConstructor(c,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Xd=(()=>{class n extends $y{constructor(e,i,r,o,c,d,p,y){super(e,i,o,d,p,c,qy,T1,jm,y)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Go),s.LFG(s.zs3),s.LFG(Ae,8),s.LFG(uT,8),s.LFG(Sw),s.LFG(n,12),s.LFG(hw),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),x1=0,Tw=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=k1(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){I1(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qy,8),s.Y36(s.SBq),s.Y36(Xd))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._onButtonClick(o)}),2&e&&s.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),n})(),fT=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+x1++}ngOnInit(){this._dialogRef||(this._dialogRef=k1(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qy,8),s.Y36(s.SBq),s.Y36(Xd))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),A1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),M1=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function k1(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let sV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Xd,hT],imports:[bw,Uy,Jd,pn,pn]}),n})();var mn=V(5813);function Iw(){return(0,ei.e)((n,t)=>{let e,i=!1;n.subscribe((0,hn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var ut,nr=V(2011),pT=(V(1451),V(3942)),be=V(5861),As=V(9681),Rl=V(4859),Ol=V(1877),N=V(2090),Zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ac={},Yy=Yy||{},At=Zy||self;function zm(){}function qm(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function eh(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Gm="closure_uid_"+(1e9*Math.random()>>>0),xw=0;function Wy(n,t,e){return n.call.apply(n.bind,arguments)}function aV(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function zr(n,t,e){return(zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wy:aV).apply(null,arguments)}function Aw(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function qr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function Mc(){this.s=this.s,this.o=this.o}var P1={};Mc.prototype.s=!1,Mc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function R1(n){return Object.prototype.hasOwnProperty.call(n,Gm)&&n[Gm]||(n[Gm]=++xw)}(this);delete P1[n]}},Mc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mT=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},gT=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function Mw(n){return Array.prototype.concat.apply([],arguments)}function Ky(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Qy(n){return/^[\s\xa0]*$/.test(n)}var Ms,yT=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Gr(n,t){return-1!=n.indexOf(t)}function $m(n,t){return n<t?-1:n>t?1:0}e:{var kw=At.navigator;if(kw){var Jy=kw.userAgent;if(Jy){Ms=Jy;break e}}Ms=""}function Rw(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function vT(n){const t={};for(const e in n)t[e]=n[e];return t}var N1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F1(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<N1.length;o++)e=N1[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Ow(n){return Ow[" "](n),n}Ow[" "]=zm;var Pw,n,V1=Gr(Ms,"Opera"),Zm=Gr(Ms,"Trident")||Gr(Ms,"MSIE"),B1=Gr(Ms,"Edge"),bT=B1||Zm,U1=Gr(Ms,"Gecko")&&!(Gr(Ms.toLowerCase(),"webkit")&&!Gr(Ms,"Edge"))&&!(Gr(Ms,"Trident")||Gr(Ms,"MSIE"))&&!Gr(Ms,"Edge"),lV=Gr(Ms.toLowerCase(),"webkit")&&!Gr(Ms,"Edge");function wT(){var n=At.document;return n?n.documentMode:void 0}e:{var CT="",DT=(n=Ms,U1?/rv:([^\);]+)(\)|;)/.exec(n):B1?/Edge\/([\d\.]+)/.exec(n):Zm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lV?/WebKit\/(\S+)/.exec(n):V1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(DT&&(CT=DT?DT[1]:""),Zm){var ET=wT();if(null!=ET&&ET>parseFloat(CT)){Pw=String(ET);break e}}Pw=CT}var cV={};var u=At.document&&Zm&&(wT()||parseInt(Pw,10))||void 0,h=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{At.addEventListener("test",zm,t),At.removeEventListener("test",zm,t)}catch{}return n}();function f(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function _(n,t){if(f.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(U1){e:{try{Ow(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:b[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&_.Z.h.call(this)}}f.prototype.h=function(){this.defaultPrevented=!0},qr(_,f);var b={2:"touch",3:"pen",4:"mouse"};_.prototype.h=function(){_.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var D="closure_listenable_"+(1e6*Math.random()|0),S=0;function x(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++S,this.ca=this.fa=!1}function O(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function B(n){this.src=n,this.g={},this.h=0}function W(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=mT(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(O(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function se(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}B.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=se(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new x(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var De="closure_lm_"+(1e6*Math.random()|0),Pe={};function Ye(n,t,e,i,r){if(i&&i.once)return ke(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ye(n,t[o],e,i,r);return null}return e=Km(e),n&&n[D]?n.N(t,e,eh(i)?!!i.capture:!!i,r):rt(n,t,e,!1,i,r)}function rt(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var c=eh(r)?!!r.capture:!!r,d=Ym(n);if(d||(n[De]=d=new B(n)),(e=d.add(t,e,i,c,o)).proxy)return e;if(i=function Mt(){var t=th;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)h||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Hn(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function ke(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ke(n,t[o],e,i,r);return null}return e=Km(e),n&&n[D]?n.O(t,e,eh(i)?!!i.capture:!!i,r):rt(n,t,e,!0,i,r)}function Et(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)Et(n,t[o],e,i,r);else i=eh(i)?!!i.capture:!!i,e=Km(e),n&&n[D]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=se(o=n.g[t],e,i,r))&&(O(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Ym(n))&&(t=n.g[t.toString()],n=-1,t&&(n=se(t,e,i,r)),(e=-1<n?t[n]:null)&&Xt(e))}function Xt(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[D])W(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Hn(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Ym(t))?(W(e,n),0==e.h&&(e.src=null,t[De]=null)):O(n)}}}function Hn(n){return n in Pe?Pe[n]:Pe[n]="on"+n}function th(n,t){if(n.ca)n=!0;else{t=new _(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&Xt(n),n=e.call(i,t)}return n}function Ym(n){return(n=n[De])instanceof B?n:null}var Wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Km(n){return"function"==typeof n?n:(n[Wm]||(n[Wm]=function(t){return n.handleEvent(t)}),n[Wm])}function qi(){Mc.call(this),this.i=new B(this),this.P=this,this.I=null}function ir(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new f(t,n);else if(t instanceof f)t.target=t.target||n;else{var r=t;F1(t=new f(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var c=t.g=e[o];r=kf(c,i,!0,t)&&r}if(r=kf(c=t.g=n,i,!0,t)&&r,r=kf(c,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=kf(c=t.g=e[o],i,!1,t)&&r}function kf(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var c=t[o];if(c&&!c.ca&&c.capture==e){var d=c.listener,p=c.ia||c.src;c.fa&&W(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}qr(qi,Mc),qi.prototype[D]=!0,qi.prototype.removeEventListener=function(n,t,e,i){Et(this,n,t,e,i)},qi.prototype.M=function(){if(qi.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)O(e[i]);delete n.g[t],n.h--}}this.I=null},qi.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},qi.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Qm=At.JSON.stringify;function Nw(){var n=hV;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var j1,dV=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new AG,n=>n.reset());class AG{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function MG(n){At.setTimeout(()=>{throw n},0)}function H1(n,t){j1||function kG(){var n=At.Promise.resolve(void 0);j1=function(){n.then(RG)}}(),z1||(j1(),z1=!0),hV.add(n,t)}var z1=!1,hV=new class Fw{constructor(){this.h=this.g=null}add(t,e){const i=dV.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function RG(){for(var n;n=Nw();){try{n.h.call(n.g)}catch(e){MG(e)}var t=dV;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}z1=!1}function ST(n,t){qi.call(this),this.h=n||1,this.g=t||At,this.j=zr(this.kb,this),this.l=Date.now()}function q1(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function G1(n,t,e){if("function"==typeof n)e&&(n=zr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zr(n.handleEvent,n)}return 2147483647<Number(t)?-1:At.setTimeout(n,t||0)}function fV(n){n.g=G1(()=>{n.g=null,n.i&&(n.i=!1,fV(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}qr(ST,qi),(ut=ST.prototype).da=!1,ut.S=null,ut.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ir(this,"tick"),this.da&&(q1(this),this.start()))}},ut.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ut.M=function(){ST.Z.M.call(this),q1(this),delete this.g};class OG extends Mc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:fV(this)}M(){super.M(),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lw(n){Mc.call(this),this.h=n,this.g={}}qr(Lw,Mc);var pV=[];function mV(n,t,e,i){Array.isArray(e)||(e&&(pV[0]=e.toString()),e=pV);for(var r=0;r<e.length;r++){var o=Ye(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function gV(n){Rw(n.g,function(t,e){this.g.hasOwnProperty(e)&&Xt(t)},n),n.g={}}function TT(){this.g=!0}function Xy(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function LG(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return Qm(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Lw.prototype.M=function(){Lw.Z.M.call(this),gV(this)},Lw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},TT.prototype.Aa=function(){this.g=!1},TT.prototype.info=function(){};var Jm={},_V=null;function IT(){return _V=_V||new qi}function yV(n){f.call(this,Jm.Ma,n)}function Vw(n){const t=IT();ir(t,new yV(t,n))}function vV(n,t){f.call(this,Jm.STAT_EVENT,n),this.stat=t}function io(n){const t=IT();ir(t,new vV(t,n))}function bV(n,t){f.call(this,Jm.Na,n),this.size=t}function Bw(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){n()},t)}Jm.Ma="serverreachability",qr(yV,f),Jm.STAT_EVENT="statevent",qr(vV,f),Jm.Na="timingevent",qr(bV,f);var xT={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wV={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $1(){}function DV(){}$1.prototype.h=null;var W1,Uw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Z1(){f.call(this,"d")}function Y1(){f.call(this,"c")}function AT(){}function Hw(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Lw(this),this.P=VG,this.W=new ST(n=bT?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new EV}function EV(){this.i=null,this.g="",this.h=!1}qr(Z1,f),qr(Y1,f),qr(AT,$1),AT.prototype.g=function(){return new XMLHttpRequest},AT.prototype.i=function(){return{}},W1=new AT;var VG=45e3,K1={},MT={};function Q1(n,t,e){n.K=1,n.v=NT(nh(t)),n.s=e,n.U=!0,SV(n,null)}function SV(n,t){n.F=Date.now(),jw(n),n.A=nh(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),PV(e.h,"t",i),n.C=0,e=n.l.H,n.h=new EV,n.g=iB(n.l,e?t:null,!n.s),0<n.O&&(n.L=new OG(zr(n.Ia,n,n.g),n.O)),mV(n.V,n.g,"readystatechange",n.gb),t=n.H?vT(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Vw(1),function PG(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",d=o.split("&"),p=0;p<d.length;p++){var y=d[p].split("=");if(1<y.length){var C=y[0];y=y[1];var E=C.split("_");c=2<=E.length&&"type"==E[1]?c+(C+"=")+y+"&":c+(C+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function TV(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function IV(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=BG(n,e),r==MT){4==t&&(n.o=4,io(14),i=!1),Xy(n.j,n.m,null,"[Incomplete Response]");break}if(r==K1){n.o=4,io(15),Xy(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Xy(n.j,n.m,r,null),J1(n,r)}TV(n)&&r!=MT&&r!=K1&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,io(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),cR(t),t.L=!0,io(11))):(Xy(n.j,n.m,e,"[Invalid Chunked Response]"),Xm(n),zw(n))}function BG(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?MT:(e=Number(t.substring(e,i)),isNaN(e)?K1:(i+=1)+e>t.length?MT:(t=t.substr(i,e),n.C=i+e,t))}function jw(n){n.Y=Date.now()+n.P,xV(n,n.P)}function xV(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bw(zr(n.eb,n),t)}function kT(n){n.B&&(At.clearTimeout(n.B),n.B=null)}function zw(n){0==n.l.G||n.I||XV(n.l,n)}function Xm(n){kT(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,q1(n.W),gV(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function J1(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||tR(e.i,n)))if(e.I=n.N,!n.J&&tR(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;HT(e),BT(e)}lR(e),io(18)}}else e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Bw(zr(e.ab,e),6e3));if(1>=LV(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else ng(e,11)}else if((n.J||e.g==n)&&HT(e),!Qy(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.U=y[0],y=y[1],2==e.G)if("c"==y[0]){e.J=y[1],e.la=y[2];const C=y[3];null!=C&&(e.ma=C,e.h.info("VER="+e.ma));const E=y[4];null!=E&&(e.za=E,e.h.info("SVER="+e.za));const M=y[5];null!=M&&"number"==typeof M&&0<M&&(e.K=i=1.5*M,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const P=n.g;if(P){const F=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var o=i.i;!o.g&&(Gr(F,"spdy")||Gr(F,"quic")||Gr(F,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(nR(o,o.h),o.h=null))}if(i.D){const j=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(i.sa=j,vi(i.F,i.D,j))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=nB(i,i.H?i.la:null,i.W),c.J){VV(i.i,c);var d=c,p=i.K;p&&d.setTimeout(p),d.B&&(kT(d),jw(d)),i.g=c}else QV(i);0<e.l.length&&UT(e)}else"stop"!=y[0]&&"close"!=y[0]||ng(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?ng(e,7):oR(e):"noop"!=y[0]&&e.j&&e.j.wa(y),e.A=0)}Vw(4)}catch{}}function X1(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(qm(n)||"string"==typeof n)gT(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(qm(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function UG(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(qm(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function ev(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof ev)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function eR(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];eg(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)eg(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function eg(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(ut=Hw.prototype).setTimeout=function(n){this.P=n},ut.gb=function(n){n=n.target;const t=this.L;t&&3==ih(n)?t.l():this.Ia(n)},ut.Ia=function(n){try{if(n==this.g)e:{const C=ih(this.g);var t=this.g.Da();const E=this.g.ba();if(!(3>C)&&(3!=C||bT||this.g&&(this.h.h||this.g.ga()||$V(this.g)))){this.I||4!=C||7==t||Vw(8==t||0>=E?3:2),kT(this);var e=this.g.ba();this.N=e;t:if(TV(this)){var i=$V(this.g);n="";var r=i.length,o=4==ih(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xm(this),zw(this);var c="";break t}this.h.i=new At.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function NG(n,t,e,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.X,C,e),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qy(d)){var y=d;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,io(12),Xm(this),zw(this);break e}Xy(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,J1(this,e)}this.U?(IV(this,C,c),bT&&this.i&&3==C&&(mV(this.V,this.W,"tick",this.fb),this.W.start())):(Xy(this.j,this.m,c,null),J1(this,c)),4==C&&Xm(this),this.i&&!this.I&&(4==C?XV(this.l,this):(this.i=!1,jw(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,io(12)):(this.o=0,io(13)),Xm(this),zw(this)}}}catch{}},ut.fb=function(){if(this.g){var n=ih(this.g),t=this.g.ga();this.C<t.length&&(kT(this),IV(this,n,t),this.i&&4!=n&&jw(this))}},ut.cancel=function(){this.I=!0,Xm(this)},ut.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function FG(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Vw(3),io(17)),Xm(this),this.o=2,zw(this)):xV(this,this.Y-n)},(ut=ev.prototype).R=function(){eR(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},ut.T=function(){return eR(this),this.g.concat()},ut.get=function(n,t){return eg(this.h,n)?this.h[n]:t},ut.set=function(n,t){eg(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},ut.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var AV=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tg(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof tg){this.g=void 0!==t?t:n.g,RT(this,n.j),this.s=n.s,OT(this,n.i),PT(this,n.m),this.l=n.l,t=n.h;var e=new $w;e.i=t.i,t.g&&(e.g=new ev(t.g),e.h=t.h),MV(this,e),this.o=n.o}else n&&(e=String(n).match(AV))?(this.g=!!t,RT(this,e[1]||"",!0),this.s=qw(e[2]||""),OT(this,e[3]||"",!0),PT(this,e[4]),this.l=qw(e[5]||"",!0),MV(this,e[6]||"",!0),this.o=qw(e[7]||"")):(this.g=!!t,this.h=new $w(null,this.g))}function nh(n){return new tg(n)}function RT(n,t,e){n.j=e?qw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function OT(n,t,e){n.i=e?qw(t,!0):t}function PT(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function MV(n,t,e){t instanceof $w?(n.h=t,function WG(n,t){t&&!n.j&&(Rf(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(RV(this,i),PV(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Gw(t,ZG)),n.h=new $w(t,n.g))}function vi(n,t,e){n.h.set(t,e)}function NT(n){return vi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function qw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,qG),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qG(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tg.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Gw(t,kV,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Gw(t,kV,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Gw(e,"/"==e.charAt(0)?$G:GG,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Gw(e,YG)),n.join("")};var kV=/[#\/\?@]/g,GG=/[#\?:]/g,$G=/[#\?]/g,ZG=/[#\?@]/g,YG=/#/g;function $w(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Rf(n){n.g||(n.g=new ev,n.h=0,n.i&&function HG(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function RV(n,t){Rf(n),t=tv(n,t),eg(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,eg((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&eR(n)))}function OV(n,t){return Rf(n),t=tv(n,t),eg(n.g.h,t)}function PV(n,t,e){RV(n,t),0<e.length&&(n.i=null,n.g.set(tv(n,t),Ky(e)),n.h+=e.length)}function tv(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function NV(n){this.l=n||QG,n=At.PerformanceNavigationTiming?0<(n=At.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(At.g&&At.g.Ea&&At.g.Ea()&&At.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ut=$w.prototype).add=function(n,t){Rf(this),this.i=null,n=tv(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ut.forEach=function(n,t){Rf(this),this.g.forEach(function(e,i){gT(e,function(r){n.call(t,r,i,this)},this)},this)},ut.T=function(){Rf(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},ut.R=function(n){Rf(this);var t=[];if("string"==typeof n)OV(this,n)&&(t=Mw(t,this.g.get(tv(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=Mw(t,n[e])}return t},ut.set=function(n,t){return Rf(this),this.i=null,OV(this,n=tv(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ut.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var c=r;""!==i[o]&&(c+="="+encodeURIComponent(String(i[o]))),n.push(c)}}return this.i=n.join("&")};var QG=10;function FV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function LV(n){return n.h?1:n.g?n.g.size:0}function tR(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function nR(n,t){n.g?n.g.add(t):n.h=t}function VV(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function BV(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Ky(n.i)}function iR(){}function JG(){this.g=new iR}function XG(n,t,e){const i=e||"";try{X1(n,function(r,o){let c=r;eh(r)&&(c=Qm(r)),t.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function FT(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Zw(n){this.l=n.$b||null,this.j=n.ib||!1}function LT(n,t){qi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=rR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}NV.prototype.cancel=function(){if(this.i=BV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},iR.prototype.stringify=function(n){return At.JSON.stringify(n,void 0)},iR.prototype.parse=function(n){return At.JSON.parse(n,void 0)},qr(Zw,$1),Zw.prototype.g=function(){return new LT(this.l,this.j)},Zw.prototype.i=function(n){return function(){return n}}({}),qr(LT,qi);var rR=0;function UV(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Yw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ww(n)}function Ww(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ut=LT.prototype).open=function(n,t){if(this.readyState!=rR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Ww(this)},ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||At).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yw(this)),this.readyState=rR},ut.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ww(this)),this.g&&(this.readyState=3,Ww(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof At.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UV(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ut.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Yw(this):Ww(this),3==this.readyState&&UV(this)}},ut.Ua=function(n){this.g&&(this.response=this.responseText=n,Yw(this))},ut.Ta=function(n){this.g&&(this.response=n,Yw(this))},ut.ha=function(){this.g&&Yw(this)},ut.setRequestHeader=function(n,t){this.v.append(n,t)},ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ut.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(LT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var t$=At.JSON.parse;function yr(n){qi.call(this),this.headers=new ev,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=HV,this.K=this.L=!1}qr(yr,qi);var HV="",n$=/^https?$/i,i$=["POST","PUT"];function s$(n){return"content-type"==n.toLowerCase()}function jV(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,zV(n),VT(n)}function zV(n){n.D||(n.D=!0,ir(n,"complete"),ir(n,"error"))}function qV(n){if(n.h&&typeof Yy<"u"&&(!n.C[1]||4!=ih(n)||2!=n.ba()))if(n.v&&4==ih(n))G1(n.Fa,0,n);else if(ir(n,"readystatechange"),4==ih(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(AV)[1]||null;if(!r&&At.self&&At.self.location){var o=At.self.location.protocol;r=o.substr(0,o.length-1)}i=!n$.test(r?r.toLowerCase():"")}e=i}if(e)ir(n,"complete"),ir(n,"success");else{n.m=6;try{var c=2<ih(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",zV(n)}}finally{VT(n)}}}function VT(n,t){if(n.g){GV(n);const e=n.g,i=n.C[0]?zm:null;n.g=null,n.C=null,t||ir(n,"ready");try{e.onreadystatechange=i}catch{}}}function GV(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(At.clearTimeout(n.A),n.A=null)}function ih(n){return n.g?n.g.readyState:0}function $V(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case HV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function sR(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function o$(n){let t="";return Rw(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):vi(n,t,e))}function Kw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function ZV(n){this.za=0,this.l=[],this.h=new TT,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Kw("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Kw("baseRetryDelayMs",5e3,n),this.$a=Kw("retryDelaySeedMs",1e4,n),this.Ya=Kw("forwardChannelMaxRetries",2,n),this.ra=Kw("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new NV(n&&n.concurrentRequestLimit),this.Ca=new JG,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function oR(n){if(YV(n),3==n.G){var t=n.V++,e=nh(n.F);vi(e,"SID",n.J),vi(e,"RID",t),vi(e,"TYPE","terminate"),Qw(n,e),(t=new Hw(n,n.h,t,void 0)).K=2,t.v=NT(nh(e)),e=!1,At.navigator&&At.navigator.sendBeacon&&(e=At.navigator.sendBeacon(t.v.toString(),"")),!e&&At.Image&&((new Image).src=t.v,e=!0),e||(t.g=iB(t.l,null),t.g.ea(t.v)),t.F=Date.now(),jw(t)}tB(n)}function BT(n){n.g&&(cR(n),n.g.cancel(),n.g=null)}function YV(n){BT(n),n.u&&(At.clearTimeout(n.u),n.u=null),HT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&At.clearTimeout(n.m),n.m=null)}function aR(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&UT(n)}function UT(n){FV(n.i)||n.m||(n.m=!0,H1(n.Ha,n),n.C=0)}function WV(n,t){var e;e=t?t.m:n.V++;const i=nh(n.F);vi(i,"SID",n.J),vi(i,"RID",e),vi(i,"AID",n.U),Qw(n,i),n.o&&n.s&&sR(i,n.o,n.s),e=new Hw(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=KV(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),nR(n.i,e),Q1(e,i,t)}function Qw(n,t){n.j&&X1({},function(e,i){vi(t,i,e)})}function KV(n,t,e){e=Math.min(n.l.length,e);var i=n.j?zr(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const c=["count="+e];-1==o?0<e?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let d=!0;for(let p=0;p<e;p++){let y=r[p].h;const C=r[p].g;if(y-=o,0>y)o=Math.max(0,r[p].h-100),d=!1;else try{XG(C,c,"req"+y+"_")}catch{i&&i(C)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function QV(n){n.g||n.u||(n.Y=1,H1(n.Ga,n),n.A=0)}function lR(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Bw(zr(n.Ga,n),eB(n,n.A)),n.A++,0))}function cR(n){null!=n.B&&(At.clearTimeout(n.B),n.B=null)}function JV(n){n.g=new Hw(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=nh(n.oa);vi(t,"RID","rpc"),vi(t,"SID",n.J),vi(t,"CI",n.N?"0":"1"),vi(t,"AID",n.U),Qw(n,t),vi(t,"TYPE","xmlhttp"),n.o&&n.s&&sR(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=NT(nh(t)),e.s=null,e.U=!0,SV(e,n)}function HT(n){null!=n.v&&(At.clearTimeout(n.v),n.v=null)}function XV(n,t){var e=null;if(n.g==t){HT(n),cR(n),n.g=null;var i=2}else{if(!tR(n.i,t))return;e=t.D,VV(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ir(i=IT(),new bV(i,e,t,r)),UT(n)}else QV(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function a$(n,t){return!(LV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Bw(zr(n.Ha,n,t),eB(n,n.C)),n.C++,0)))}(n,t)||2==i&&lR(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:ng(n,5);break;case 4:ng(n,10);break;case 3:ng(n,6);break;default:ng(n,2)}}function eB(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function ng(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=zr(n.jb,n);e||(e=new tg("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||RT(e,"https"),NT(e)),function e$(n,t){const e=new TT;if(At.Image){const i=new Image;i.onload=Aw(FT,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Aw(FT,e,i,"TestLoadImage: error",!1,t),i.onabort=Aw(FT,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Aw(FT,e,i,"TestLoadImage: timeout",!1,t),At.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else io(2);n.G=0,n.j&&n.j.va(t),tB(n),YV(n)}function tB(n){n.G=0,n.I=-1,n.j&&((0!=BV(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ky(n.l),n.l.length=0),n.j.ua())}function nB(n,t,e){let i=function jG(n){return n instanceof tg?nh(n):new tg(n,void 0)}(e);if(""!=i.i)t&&OT(i,t+"."+i.i),PT(i,i.m);else{const r=At.location;i=function zG(n,t,e,i){var r=new tg(null,void 0);return n&&RT(r,n),t&&OT(r,t),e&&PT(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&Rw(n.aa,function(r,o){vi(i,o,r)}),e=n.sa,(t=n.D)&&e&&vi(i,t,e),vi(i,"VER",n.ma),Qw(n,i),i}function iB(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new yr(e&&n.Ba&&!n.qa?new Zw({ib:!0}):n.qa)).L=n.H,t}function rB(){}function jT(){if(Zm&&!(10<=Number(u)))throw Error("Environmental error: no available transport.")}function xa(n,t){qi.call(this),this.g=new ZV(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!Qy(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qy(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new nv(this)}function sB(n){Z1.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function oB(){Y1.call(this),this.status=1}function nv(n){this.g=n}(ut=yr.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():W1.g(),this.C=function CV(n){return n.h||(n.h=n.i())}(this.u?this.u:W1),this.g.onreadystatechange=zr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void jV(this,o)}n=e||"";const r=new ev(this.headers);i&&X1(i,function(o,c){r.set(c,o)}),i=function _T(n){e:{var t=s$;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=At.FormData&&n instanceof At.FormData,!(0<=mT(i$,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,c){this.g.setRequestHeader(c,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{GV(this),0<this.B&&((this.K=function r$(n){return Zm&&function uV(){return function L1(n){var t=cV;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=yT(String(Pw)).split("."),e=yT("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",o=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=$m(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||$m(0==r[2].length,0==o[2].length)||$m(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zr(this.pa,this)):this.A=G1(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){jV(this,o)}},ut.pa=function(){typeof Yy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ir(this,"timeout"),this.abort(8))},ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ir(this,"complete"),ir(this,"abort"),VT(this))},ut.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),VT(this,!0)),yr.Z.M.call(this)},ut.Fa=function(){this.s||(this.F||this.v||this.l?qV(this):this.cb())},ut.cb=function(){qV(this)},ut.ba=function(){try{return 2<ih(this)?this.g.status:-1}catch{return-1}},ut.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ut.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),t$(t)}},ut.Da=function(){return this.m},ut.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ut=ZV.prototype).ma=8,ut.G=1,ut.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},ut.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Hw(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=vT(o),F1(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=KV(this,r,t),vi(e=nh(this.F),"RID",n),vi(e,"CVER",22),this.D&&vi(e,"X-HTTP-Session-Id",this.D),Qw(this,e),this.o&&o&&sR(e,this.o,o),nR(this.i,r),this.Ra&&vi(e,"TYPE","init"),this.ja?(vi(e,"$req",t),vi(e,"SID","null"),r.$=!0,Q1(r,e,null)):Q1(r,e,t),this.G=2}}else 3==this.G&&(n?WV(this,n):0==this.l.length||FV(this.i)||WV(this))},ut.Ga=function(){if(this.u=null,JV(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Bw(zr(this.bb,this),n)}},ut.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,io(10),BT(this),JV(this))},ut.ab=function(){null!=this.v&&(this.v=null,BT(this),lR(this),io(19))},ut.jb=function(n){n?(this.h.info("Successfully pinged google.com"),io(2)):(this.h.info("Failed to ping google.com"),io(1))},(ut=rB.prototype).xa=function(){},ut.wa=function(){},ut.va=function(){},ut.ua=function(){},ut.Oa=function(){},jT.prototype.g=function(n,t){return new xa(n,t)},qr(xa,qi),xa.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),H1(zr(n.hb,n,t))),io(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=nB(n,null,n.W),UT(n)},xa.prototype.close=function(){oR(this.g)},xa.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,aR(this.g,t)}else this.v?((t={}).__data__=Qm(n),aR(this.g,t)):aR(this.g,n)},xa.prototype.M=function(){this.g.j=null,delete this.j,oR(this.g),delete this.g,xa.Z.M.call(this)},qr(sB,Z1),qr(oB,Y1),qr(nv,rB),nv.prototype.xa=function(){ir(this.g,"a")},nv.prototype.wa=function(n){ir(this.g,new sB(n))},nv.prototype.va=function(n){ir(this.g,new oB(n))},nv.prototype.ua=function(){ir(this.g,"b")},jT.prototype.createWebChannel=jT.prototype.g,xa.prototype.send=xa.prototype.u,xa.prototype.open=xa.prototype.m,xa.prototype.close=xa.prototype.close,xT.NO_ERROR=0,xT.TIMEOUT=8,xT.HTTP_ERROR=6,wV.COMPLETE="complete",DV.EventType=Uw,Uw.OPEN="a",Uw.CLOSE="b",Uw.ERROR="c",Uw.MESSAGE="d",qi.prototype.listen=qi.prototype.N,yr.prototype.listenOnce=yr.prototype.O,yr.prototype.getLastError=yr.prototype.La,yr.prototype.getLastErrorCode=yr.prototype.Da,yr.prototype.getStatus=yr.prototype.ba,yr.prototype.getResponseJson=yr.prototype.Qa,yr.prototype.getResponseText=yr.prototype.ga,yr.prototype.send=yr.prototype.ea;var l$=Ac.createWebChannelTransport=function(){return new jT},c$=Ac.getStatEventTarget=function(){return IT()},uR=Ac.ErrorCode=xT,u$=Ac.EventType=wV,d$=Ac.Event=Jm,aB=Ac.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},h$=Ac.FetchXmlHttpFactory=Zw,zT=Ac.WebChannel=DV,f$=Ac.XhrIo=yr;const lB="@firebase/firestore";class $r{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");let iv="9.9.2";const Of=new Ol.Yd("@firebase/firestore");function dR(){return Of.logLevel}function Ve(n,...t){if(Of.logLevel<=Ol.in.DEBUG){const e=t.map(hR);Of.debug(`Firestore (${iv}): ${n}`,...e)}}function rr(n,...t){if(Of.logLevel<=Ol.in.ERROR){const e=t.map(hR);Of.error(`Firestore (${iv}): ${n}`,...e)}}function ig(n,...t){if(Of.logLevel<=Ol.in.WARN){const e=t.map(hR);Of.warn(`Firestore (${iv}): ${n}`,...e)}}function hR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const t=`FIRESTORE (${iv}) INTERNAL ASSERTION FAILED: `+n;throw rr(t),new Error(t)}function Lt(n,t){n||ft()}function tt(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends N.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class cB{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class g${getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e($r.UNAUTHENTICATED))}shutdown(){}}class _${constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class y${constructor(t){this.t=t,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let c=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zr,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=c;t.enqueueRetryable((0,be.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},p=y=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Lt("string"==typeof i.accessToken),new cB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Lt(null===t||"string"==typeof t),new $r(t)}}class v${constructor(t,e,i){this.type="FirstParty",this.user=$r.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class b${constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new v$(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uB{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w${constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.p;return this.p=o.token,Ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Lt("string"==typeof e.token),this.p=e.token,new uB(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function C$(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class dB{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=C$(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function zt(n,t){return n<t?-1:n>t?1:0}function rv(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function hB(n){return n+"\0"}class bi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return bi.fromMillis(Date.now())}static fromDate(t){return bi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new bi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new bi(0,0))}static max(){return new Nt(new bi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jw{constructor(t,e,i){void 0===e?e=0:e>t.length&&ft(),void 0===i?i=t.length-e:i>t.length-e&&ft(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Jw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Jw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class yn extends Jw{construct(t,e,i){return new yn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new yn(e)}static emptyPath(){return new yn([])}}const D$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gi extends Jw{construct(t,e,i){return new Gi(t,e,i)}static isValidIdentifier(t){return D$.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(o(),r++)}if(o(),c)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Gi(e)}static emptyPath(){return new Gi([])}}class Je{constructor(t){this.path=t}static fromPath(t){return new Je(yn.fromString(t))}static fromName(t){return new Je(yn.fromString(t).popFirst(5))}static empty(){return new Je(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===yn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return yn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Je(new yn(t.slice()))}}class qT{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function fR(n){return n.fields.find(t=>2===t.kind)}function rg(n){return n.fields.filter(t=>2!==t.kind)}qT.UNKNOWN_ID=-1;class GT{constructor(t,e){this.fieldPath=t,this.kind=e}}class Xw{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Xw(0,Aa.min())}}function fB(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Nt.fromTimestamp(1e9===i?new bi(e+1,0):new bi(e,i));return new Aa(r,Je.empty(),t)}function pB(n){return new Aa(n.readTime,n.key,-1)}class Aa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Aa(Nt.min(),Je.empty(),-1)}static max(){return new Aa(Nt.max(),Je.empty(),-1)}}function pR(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Je.comparator(n.documentKey,t.documentKey),0!==e?e:zt(n.largestBatchId,t.largestBatchId))}const mB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Pf(n){return mR.apply(this,arguments)}function mR(){return mR=(0,be.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==mB)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),mR.apply(this,arguments)}class he{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new he((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof he?e:he.resolve(e)}catch(e){return he.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):he.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):he.reject(e)}static resolve(t){return new he((e,i)=>{e(t)})}static reject(t){return new he((e,i)=>{i(t)})}static waitFor(t){return new he((e,i)=>{let r=0,o=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++o,c&&o===r&&e()},p=>i(p))}),c=!0,o===r&&e()})}static or(t){let e=he.resolve(!1);for(const i of t)e=e.next(r=>r?he.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new he((i,r)=>{const o=t.length,c=new Array(o);let d=0;for(let p=0;p<o;p++){const y=p;e(t[y]).next(C=>{c[y]=C,++d,d===o&&i(c)},C=>r(C))}})}static doWhile(t,e){return new he((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class $T{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new Zr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new eC(t,e.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=gR(i.target.error);this.T.reject(new eC(t,r))}}static open(t,e,i,r){try{return new $T(e,t.transaction(r,i))}catch(o){throw new eC(e,o)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(Ve("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new I$(e)}}class kc{constructor(t,e,i){this.name=t,this.version=e,this.P=i,12.2===kc.v((0,N.z$)())&&rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ve("SimpleDb","Removing database:",t),sg(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,N.hl)())return!1;if(kc.S())return!0;const t=(0,N.z$)(),e=kc.v(t),i=0<e&&e<10,r=kc.D(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static S(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(t){var e=this;return(0,be.Z)(function*(){return e.db||(Ve("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new eC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Oe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Oe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new eC(t,d))},o.onupgradeneeded=c=>{Ve("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.P.M(c.target.result,o.transaction,c.oldVersion,e.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.O&&(e.db.onversionchange=i=>e.O(i)),e.db})()}F(t){this.O=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,be.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{o.db=yield o.k(t);const p=$T.open(o.db,t,c?"readonly":"readwrite",i),y=r(p).next(C=>(p.R(),C)).catch(C=>(p.abort(C),he.reject(C))).toPromise();return y.catch(()=>{}),yield p.A,y}catch(p){const y=p,C="FirebaseError"!==y.name&&d<3;if(Ve("SimpleDb","Transaction failed with error:",y.message,"Retrying:",C),o.close(),!C)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class T${constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return sg(this.$.delete())}}class eC extends Oe{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Nf(n){return"IndexedDbTransactionError"===n.name}class I${constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ve("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),sg(i)}add(t){return Ve("SimpleDb","ADD",this.store.name,t,t),sg(this.store.add(t))}get(t){return sg(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ve("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ve("SimpleDb","DELETE",this.store.name,t),sg(this.store.delete(t))}count(){return Ve("SimpleDb","COUNT",this.store.name),sg(this.store.count())}K(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(c,d)=>{o.push(d)}).next(()=>o)}{const r=this.store.getAll(i.range);return new he((o,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new he((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}W(t,e){Ve("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.G(r,(o,c,d)=>d.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Y(t){const e=this.cursor({});return new he((i,r)=>{e.onerror=o=>{const c=gR(o.target.error);r(c)},e.onsuccess=o=>{const c=o.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}G(t,e){const i=[];return new he((r,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new T$(d),y=e(d.primaryKey,d.value,p);if(y instanceof he){const C=y.catch(E=>(p.done(),he.reject(E)));i.push(C)}p.isDone?r():null===p.U?d.continue():d.continue(p.U)}}).next(()=>he.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function sg(n){return new he((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=gR(i.target.error);e(r)}})}let _B=!1;function gR(n){const t=kc.v((0,N.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _B||(_B=!0,setTimeout(()=>{throw i},0)),i}}return n}class x${constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;Ve("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,be.Z)(function*(){e.task=null;try{Ve("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(i){Nf(i)?Ve("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Pf(i)}yield e.Z(1)}))}}class A${constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,be.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.et(i,t))})()}et(t,e){const i=new Set;let r=e,o=!0;return he.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return Ve("IndexBackiller",`Processing collection: ${c}`),this.nt(t,c,r).next(d=>{r-=d,i.add(c)});o=!1})).next(()=>e-r)}nt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.st(r,o)).next(d=>(Ve("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}st(t,e){let i=t;return e.changes.forEach((r,o)=>{const c=pB(o);pR(c,i)>0&&(i=c)}),new Aa(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class $o{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function yB(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function og(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function vB(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}$o.ot=-1;class $i{constructor(t,e){this.comparator=t,this.root=e||ds.EMPTY}insert(t,e){return new $i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ds.BLACK,null,null))}remove(t){return new $i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ds.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ZT(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ZT(this.root,t,this.comparator,!1)}getReverseIterator(){return new ZT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ZT(this.root,t,this.comparator,!0)}}class ZT{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ds{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??ds.RED,this.left=r??ds.EMPTY,this.right=o??ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new ds(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ds.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ds.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const t=this.left.check();if(t!==this.right.check())throw ft();return t+(this.isRed()?0:1)}}ds.EMPTY=null,ds.RED=!0,ds.BLACK=!1,ds.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,t,e,i,r){return this}insert(n,t,e){return new ds(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(t){this.comparator=t,this.data=new $i(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new bB(this.data.getIterator())}getIteratorFrom(t){return new bB(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof jn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new jn(this.comparator);return e.data=t,e}}class bB{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sv(n){return n.hasNext()?n.getNext():void 0}class Ma{constructor(t){this.fields=t,t.sort(Gi.comparator)}static empty(){return new Ma([])}unionWith(t){let e=new jn(Gi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ma(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return rv(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class xr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new xr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new xr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const k$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ff(n){if(Lt(!!n),"string"==typeof n){let t=0;const e=k$.exec(n);if(Lt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Zi(n.seconds),nanos:Zi(n.nanos)}}function Zi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ag(n){return"string"==typeof n?xr.fromBase64String(n):xr.fromUint8Array(n)}function _R(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function wB(n){const t=n.mapValue.fields.__previous_value__;return _R(t)?wB(t):t}function tC(n){const t=Ff(n.mapValue.fields.__local_write_time__.timestampValue);return new bi(t.seconds,t.nanos)}class R${constructor(t,e,i,r,o,c,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class rh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new rh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof rh&&t.projectId===this.projectId&&t.database===this.database}}function nC(n){return null==n}function iC(n){return 0===n&&1/n==-1/0}function CB(n){return"number"==typeof n&&Number.isInteger(n)&&!iC(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Lf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},YT={nullValue:"NULL_VALUE"};function lg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_R(n)?4:TB(n)?9007199254740991:10:ft()}function Iu(n,t){if(n===t)return!0;const e=lg(n);if(e!==lg(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return tC(n).isEqual(tC(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Ff(i.timestampValue),c=Ff(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,ag(n.bytesValue).isEqual(ag(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Zi(i.geoPointValue.latitude)===Zi(r.geoPointValue.latitude)&&Zi(i.geoPointValue.longitude)===Zi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Zi(i.integerValue)===Zi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Zi(i.doubleValue),c=Zi(r.doubleValue);return o===c?iC(o)===iC(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return rv(n.arrayValue.values||[],t.arrayValue.values||[],Iu);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(yB(o)!==yB(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(void 0===c[d]||!Iu(o[d],c[d])))return!1;return!0}(n,t);default:return ft()}var r}function rC(n,t){return void 0!==(n.values||[]).find(e=>Iu(e,t))}function Vf(n,t){if(n===t)return 0;const e=lg(n),i=lg(t);if(e!==i)return zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const c=Zi(r.integerValue||r.doubleValue),d=Zi(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return DB(n.timestampValue,t.timestampValue);case 4:return DB(tC(n),tC(t));case 5:return zt(n.stringValue,t.stringValue);case 6:return function(r,o){const c=ag(r),d=ag(o);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const c=r.split("/"),d=o.split("/");for(let p=0;p<c.length&&p<d.length;p++){const y=zt(c[p],d[p]);if(0!==y)return y}return zt(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const c=zt(Zi(r.latitude),Zi(o.latitude));return 0!==c?c:zt(Zi(r.longitude),Zi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const c=r.values||[],d=o.values||[];for(let p=0;p<c.length&&p<d.length;++p){const y=Vf(c[p],d[p]);if(y)return y}return zt(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Lf.mapValue&&o===Lf.mapValue)return 0;if(r===Lf.mapValue)return 1;if(o===Lf.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=o.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let C=0;C<d.length&&C<y.length;++C){const E=zt(d[C],y[C]);if(0!==E)return E;const M=Vf(c[d[C]],p[y[C]]);if(0!==M)return M}return zt(d.length,y.length)}(n.mapValue,t.mapValue);default:throw ft()}}function DB(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return zt(n,t);const e=Ff(n),i=Ff(t),r=zt(e.seconds,i.seconds);return 0!==r?r:zt(e.nanos,i.nanos)}function ov(n){return yR(n)}function yR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ff(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ag(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=yR(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${yR(i.fields[d])}`;return o+"}"}(n.mapValue):ft();var t}function cg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function vR(n){return!!n&&"integerValue"in n}function sC(n){return!!n&&"arrayValue"in n}function EB(n){return!!n&&"nullValue"in n}function SB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function WT(n){return!!n&&"mapValue"in n}function oC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return og(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=oC(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=oC(n.arrayValue.values[e]);return t}return Object.assign({},n)}function TB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function O$(n){return"nullValue"in n?YT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?cg(rh.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function P$(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?cg(rh.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Lf:ft()}function IB(n,t){const e=Vf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function xB(n,t){const e=Vf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class hs{constructor(t){this.value=t}static empty(){return new hs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!WT(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=oC(e)}setAll(t){let e=Gi.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=oC(c):r.push(d.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());WT(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Iu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];WT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){og(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new hs(oC(this.value))}}function AB(n){const t=[];return og(n.fields,(e,i)=>{const r=new Gi([e]);if(WT(i)){const o=AB(i.mapValue).fields;if(0===o.length)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new Ma(t)}class ni{constructor(t,e,i,r,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=c}static newInvalidDocument(t){return new ni(t,0,Nt.min(),Nt.min(),hs.empty(),0)}static newFoundDocument(t,e,i){return new ni(t,1,e,Nt.min(),i,0)}static newNoDocument(t,e){return new ni(t,2,e,Nt.min(),hs.empty(),0)}static newUnknownDocument(t,e){return new ni(t,3,e,Nt.min(),hs.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ni&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class N${constructor(t,e=null,i=[],r=[],o=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=d,this.ut=null}}function MB(n,t=null,e=[],i=[],r=null,o=null,c=null){return new N$(n,t,e,i,r,o,c)}function ug(n){const t=tt(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+ov(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),nC(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ov(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ov(i)).join(",")),t.ut=e}return t.ut}function aC(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!q$(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Iu(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!NB(n.startAt,t.startAt)&&NB(n.endAt,t.endAt)}function KT(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function QT(n,t){return n.filters.filter(e=>e instanceof fs&&e.field.isEqual(t))}function kB(n,t,e){let i=YT,r=!0;for(const o of QT(n,t)){let c=YT,d=!0;switch(o.op){case"<":case"<=":c=O$(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,d=!1;break;case"!=":case"not-in":c=YT}IB({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];IB({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function RB(n,t,e){let i=Lf,r=!0;for(const o of QT(n,t)){let c=Lf,d=!0;switch(o.op){case">=":case">":c=P$(o.value),d=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,d=!1;break;case"!=":case"not-in":c=Lf}xB({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];xB({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class fs extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new L$(t,e,i):"array-contains"===e?new U$(t,i):"in"===e?new H$(t,i):"not-in"===e?new j$(t,i):"array-contains-any"===e?new z$(t,i):new fs(t,e,i)}static ct(t,e,i){return"in"===e?new V$(t,i):new B$(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(Vf(e,this.value)):null!==e&&lg(this.value)===lg(e)&&this.at(Vf(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ft()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class L$ extends fs{constructor(t,e,i){super(t,e,i),this.key=Je.fromName(i.referenceValue)}matches(t){const e=Je.comparator(t.key,this.key);return this.at(e)}}class V$ extends fs{constructor(t,e){super(t,"in",e),this.keys=OB(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class B$ extends fs{constructor(t,e){super(t,"not-in",e),this.keys=OB(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function OB(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Je.fromName(i.referenceValue))}class U$ extends fs{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return sC(e)&&rC(e.arrayValue,this.value)}}class H$ extends fs{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&rC(this.value.arrayValue,e)}}class j$ extends fs{constructor(t,e){super(t,"not-in",e)}matches(t){if(rC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!rC(this.value.arrayValue,e)}}class z$ extends fs{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!sC(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>rC(this.value.arrayValue,i))}}class Bf{constructor(t,e){this.position=t,this.inclusive=e}}class av{constructor(t,e="asc"){this.field=t,this.dir=e}}function q$(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function PB(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(i=o.field.isKeyField()?Je.comparator(Je.fromName(c.referenceValue),e.key):Vf(c,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function NB(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Iu(n.position[e],t.position[e]))return!1;return!0}class sh{constructor(t,e=null,i=[],r=[],o=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=p,this.lt=null,this.ft=null}}function FB(n,t,e,i,r,o,c,d){return new sh(n,t,e,i,r,o,c,d)}function lv(n){return new sh(n)}function LB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function bR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function wR(n){for(const t of n.filters)if(t.ht())return t.field;return null}function CR(n){return null!==n.collectionGroup}function cv(n){const t=tt(n);if(null===t.lt){t.lt=[];const e=wR(t),i=bR(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new av(e)),t.lt.push(new av(Gi.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.lt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new av(Gi.keyField(),o))}}}return t.lt}function Zo(n){const t=tt(n);if(!t.ft)if("F"===t.limitType)t.ft=MB(t.path,t.collectionGroup,cv(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of cv(t))e.push(new av(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Bf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bf(t.startAt.position,t.startAt.inclusive):null;t.ft=MB(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.ft}function JT(n,t,e){return new sh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function lC(n,t){return aC(Zo(n),Zo(t))&&n.limitType===t.limitType}function VB(n){return`${ug(Zo(n))}|lt:${n.limitType}`}function DR(n){return`Query(target=${function F$(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${ov(i.value)}`;var i}).join(", ")}]`),nC(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>ov(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>ov(e)).join(",")),`Target(${t})`}(Zo(n))}; limitType=${n.limitType})`}function ER(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Je.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,c){const d=PB(r,o,c);return r.inclusive?d<=0:d<0}(e.startAt,cv(e),i)||e.endAt&&!function(r,o,c){const d=PB(r,o,c);return r.inclusive?d>=0:d>0}(e.endAt,cv(e),i)));var e,i}function BB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function UB(n){return(t,e)=>{let i=!1;for(const r of cv(n)){const o=G$(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function G$(n,t,e){const i=n.field.isKeyField()?Je.comparator(t.key,e.key):function(r,o,c){const d=o.data.field(r),p=c.data.field(r);return null!==d&&null!==p?Vf(d,p):ft()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ft()}}function HB(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iC(t)?"-0":t}}function jB(n){return{integerValue:""+n}}function zB(n,t){return CB(t)?jB(t):HB(n,t)}class XT{constructor(){this._=void 0}}function $$(n,t,e){return n instanceof uv?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof dg?GB(n,t):n instanceof hg?$B(n,t):function(i,r){const o=qB(i,r),c=ZB(o)+ZB(i._t);return vR(o)&&vR(i._t)?jB(c):HB(i.wt,c)}(n,t)}function Z$(n,t,e){return n instanceof dg?GB(n,t):n instanceof hg?$B(n,t):e}function qB(n,t){return n instanceof dv?vR(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class uv extends XT{}class dg extends XT{constructor(t){super(),this.elements=t}}function GB(n,t){const e=YB(t);for(const i of n.elements)e.some(r=>Iu(r,i))||e.push(i);return{arrayValue:{values:e}}}class hg extends XT{constructor(t){super(),this.elements=t}}function $B(n,t){let e=YB(t);for(const i of n.elements)e=e.filter(r=>!Iu(r,i));return{arrayValue:{values:e}}}class dv extends XT{constructor(t,e){super(),this.wt=t,this._t=e}}function ZB(n){return Zi(n.integerValue||n.doubleValue)}function YB(n){return sC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cC{constructor(t,e){this.field=t,this.transform=e}}class W${constructor(t,e){this.version=t,this.transformResults=e}}class Pi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Pi}static exists(t){return new Pi(void 0,t)}static updateTime(t){return new Pi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function eI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class tI{}function WB(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new fv(n.key,Pi.none()):new hv(n.key,n.data,Pi.none());{const e=n.data,i=hs.empty();let r=new jn(Gi.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);null===c&&o.length>1&&(o=o.popLast(),c=e.field(o)),null===c?i.delete(o):i.set(o,c),r=r.add(o)}return new oh(n.key,i,new Ma(r.toArray()),Pi.none())}}function K$(n,t,e){n instanceof hv?function(i,r,o){const c=i.value.clone(),d=JB(i.fieldTransforms,r,o.transformResults);c.setAll(d),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof oh?function(i,r,o){if(!eI(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=JB(i.fieldTransforms,r,o.transformResults),d=r.data;d.setAll(QB(i)),d.setAll(c),r.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function uC(n,t,e,i){return n instanceof hv?function(r,o,c,d){if(!eI(r.precondition,o))return c;const p=r.value.clone(),y=XB(r.fieldTransforms,d,o);return p.setAll(y),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof oh?function(r,o,c,d){if(!eI(r.precondition,o))return c;const p=XB(r.fieldTransforms,d,o),y=o.data;return y.setAll(QB(r)),y.setAll(p),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,t,e,i):(c=e,eI(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function Q$(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=qB(i.transform,r||null);null!=o&&(null===e&&(e=hs.empty()),e.set(i.field,o))}return e||null}function KB(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&rv(e,i,(r,o)=>function Y$(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof dg&&i instanceof dg||e instanceof hg&&i instanceof hg?rv(e.elements,i.elements,Iu):e instanceof dv&&i instanceof dv?Iu(e._t,i._t):e instanceof uv&&i instanceof uv);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class hv extends tI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class oh extends tI{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QB(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function JB(n,t,e){const i=new Map;Lt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,d=t.data.field(o.field);i.set(o.field,Z$(c,d,e[r]))}return i}function XB(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,$$(o,c,t))}return i}class fv extends tI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SR extends tI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class J${constructor(t){this.count=t}}var vr,vn;function eU(n){switch(n){default:return ft();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function tU(n){if(void 0===n)return rr("GRPC error has no .code"),me.UNKNOWN;switch(n){case vr.OK:return me.OK;case vr.CANCELLED:return me.CANCELLED;case vr.UNKNOWN:return me.UNKNOWN;case vr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case vr.INTERNAL:return me.INTERNAL;case vr.UNAVAILABLE:return me.UNAVAILABLE;case vr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case vr.NOT_FOUND:return me.NOT_FOUND;case vr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case vr.ABORTED:return me.ABORTED;case vr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case vr.DATA_LOSS:return me.DATA_LOSS;default:return ft()}}(vn=vr||(vr={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class Uf{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){og(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return vB(this.inner)}size(){return this.innerSize}}const X$=new $i(Je.comparator);function Yo(){return X$}const nU=new $i(Je.comparator);function dC(...n){let t=nU;for(const e of n)t=t.insert(e.key,e);return t}function iU(n){let t=nU;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function xu(){return hC()}function rU(){return hC()}function hC(){return new Uf(n=>n.toString(),(n,t)=>n.isEqual(t))}const eZ=new $i(Je.comparator),tZ=new jn(Je.comparator);function Qt(...n){let t=tZ;for(const e of n)t=t.add(e);return t}const nZ=new jn(zt);function nI(){return nZ}class fC{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,pC.createSynthesizedTargetChangeForCurrentChange(t,e)),new fC(Nt.min(),i,nI(),Yo(),Qt())}}class pC{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new pC(xr.EMPTY_BYTE_STRING,e,Qt(),Qt(),Qt())}}class iI{constructor(t,e,i,r){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=r}}class sU{constructor(t,e){this.targetId=t,this.It=e}}class oU{constructor(t,e,i=xr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class aU{constructor(){this.Tt=0,this.Et=cU(),this.At=xr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=Qt(),e=Qt(),i=Qt();return this.Et.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ft()}}),new pC(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=cU()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class iZ{constructor(t){this.Ot=t,this.Ft=new Map,this.$t=Yo(),this.Bt=lU(),this.Lt=new jn(zt)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Mt(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:ft()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,r)=>{this.jt(r)&&e(r)})}zt(t){const e=t.targetId,i=t.It.count,r=this.Ht(e);if(r){const o=r.target;if(KT(o))if(0===i){const c=new Je(o.path);this.Kt(e,c,ni.newNoDocument(c,Nt.min()))}else Lt(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((o,c)=>{const d=this.Ht(c);if(d){if(o.current&&KT(d.target)){const p=new Je(d.target.path);null!==this.$t.get(p)||this.Xt(c,p)||this.Kt(c,p,ni.newNoDocument(p,t))}o.vt&&(e.set(c,o.St()),o.Dt())}});let i=Qt();this.Bt.forEach((o,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Ht(p);return!y||2===y.purpose||(d=!1,!1)}),d&&(i=i.add(o))}),this.$t.forEach((o,c)=>c.setReadTime(t));const r=new fC(t,e,this.Lt,this.$t,i);return this.$t=Yo(),this.Bt=lU(),this.Lt=new jn(zt),r}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Ot.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new aU,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new jn(zt),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||Ve("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Ot.te(t)}Wt(t){this.Ft.set(t,new aU),this.Ot.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Ot.getRemoteKeysForTarget(t).has(e)}}function lU(){return new $i(Je.comparator)}function cU(){return new $i(Je.comparator)}const rZ={asc:"ASCENDING",desc:"DESCENDING"},sZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class oZ{constructor(t,e){this.databaseId=t,this.dt=e}}function mC(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uU(n,t){return n.dt?t.toBase64():t.toUint8Array()}function aZ(n,t){return mC(n,t.toTimestamp())}function Yr(n){return Lt(!!n),Nt.fromTimestamp(function(t){const e=Ff(t);return new bi(e.seconds,e.nanos)}(n))}function TR(n,t){return(e=n,new yn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function dU(n){const t=yn.fromString(n);return Lt(bU(t)),t}function gC(n,t){return TR(n.databaseId,t.path)}function Au(n,t){const e=dU(t);if(e.get(1)!==n.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Je(fU(e))}function IR(n,t){return TR(n.databaseId,t)}function hU(n){const t=dU(n);return 4===t.length?yn.emptyPath():fU(t)}function _C(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fU(n){return Lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function pU(n,t,e){return{name:gC(n,t),fields:e.value.mapValue.fields}}function mU(n,t,e){const i=Au(n,t.name),r=Yr(t.updateTime),o=new hs({mapValue:{fields:t.fields}}),c=ni.newFoundDocument(i,r,o);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function yC(n,t){let e;if(t instanceof hv)e={update:pU(n,t.key,t.value)};else if(t instanceof fv)e={delete:gC(n,t.key)};else if(t instanceof oh)e={update:pU(n,t.key,t.data),updateMask:gZ(t.fieldMask)};else{if(!(t instanceof SR))return ft();e={verify:gC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof uv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof dg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof hg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof dv)return{fieldPath:o.field.canonicalString(),increment:c._t};throw ft()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:aZ(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ft()),e;var r}function xR(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Pi.updateTime(Yr(r.updateTime)):void 0!==r.exists?Pi.exists(r.exists):Pi.none():Pi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let d=null;"setToServerValue"in c?(Lt("REQUEST_TIME"===c.setToServerValue),d=new uv):"appendMissingElements"in c?d=new dg(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new hg(c.removeAllFromArray.values||[]):"increment"in c?d=new dv(o,c.increment):ft();const p=Gi.fromServerFormat(c.fieldPath);return new cC(p,d)}(n,r)):[];var r;if(t.update){const r=Au(n,t.update.name),o=new hs({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Ma((t.updateMask.fieldPaths||[]).map(y=>Gi.fromServerFormat(y)));return new oh(r,o,c,e,i)}return new hv(r,o,e,i)}if(t.delete){const r=Au(n,t.delete);return new fv(r,e)}if(t.verify){const r=Au(n,t.verify);return new SR(r,e)}return ft()}function gU(n,t){return{documents:[IR(n,t.path)]}}function _U(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=IR(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=IR(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const y=p.map(C=>function(E){if("=="===E.op){if(SB(E.value))return{unaryFilter:{field:pv(E.field),op:"IS_NAN"}};if(EB(E.value))return{unaryFilter:{field:pv(E.field),op:"IS_NULL"}}}else if("!="===E.op){if(SB(E.value))return{unaryFilter:{field:pv(E.field),op:"IS_NOT_NAN"}};if(EB(E.value))return{unaryFilter:{field:pv(E.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pv(E.field),op:fZ(E.op),value:E.value}}}(C));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(p){if(0!==p.length)return p.map(y=>{return{field:pv((C=y).field),direction:hZ(C.dir)};var C})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=(y=t.limit,n.dt||nC(y)?y:{value:y});var y,d,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function yU(n){let t=hU(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Lt(1===i);const C=e.from[0];C.allDescendants?r=C.collectionId:t=t.child(C.collectionId)}let o=[];e.where&&(o=vU(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(C=>{return new av(mv((E=C).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let d=null;e.limit&&(d=function(C){let E;return E="object"==typeof C?C.value:C,nC(E)?null:E}(e.limit));let p=null;var C;e.startAt&&(p=new Bf((C=e.startAt).values||[],!!C.before));let y=null;return e.endAt&&(y=function(C){return new Bf(C.values||[],!C.before)}(e.endAt)),FB(t,r,c,o,d,"F",p,y)}function vU(n){return n?void 0!==n.unaryFilter?[mZ(n)]:void 0!==n.fieldFilter?[pZ(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>vU(t)).reduce((t,e)=>t.concat(e)):ft():[]}function hZ(n){return rZ[n]}function fZ(n){return sZ[n]}function pv(n){return{fieldPath:n.canonicalString()}}function mv(n){return Gi.fromServerFormat(n.fieldPath)}function pZ(n){return fs.create(mv(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function mZ(n){switch(n.unaryFilter.op){case"IS_NAN":const t=mv(n.unaryFilter.field);return fs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=mv(n.unaryFilter.field);return fs.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=mv(n.unaryFilter.field);return fs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=mv(n.unaryFilter.field);return fs.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}function gZ(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function bU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ro(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=wU(t)),t=_Z(n.get(e),t);return wU(t)}function _Z(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function wU(n){return n+"\x01\x01"}function Mu(n){const t=n.length;if(Lt(t>=2),2===t)return Lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),yn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const c=n.indexOf("\x01",o);switch((c<0||c>e)&&ft(),n.charAt(c+1)){case"\x01":const d=n.substring(o,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:ft()}o=c+2}return new yn(i)}const CU=["userId","batchId"];function rI(n,t){return[n,ro(t)]}function DU(n,t,e){return[n,ro(t),e]}const yZ={},vZ=["prefixPath","collectionGroup","readTime","documentId"],bZ=["prefixPath","collectionGroup","documentId"],wZ=["collectionGroup","readTime","prefixPath","documentId"],CZ=["canonicalId","targetId"],DZ=["targetId","path"],EZ=["path","targetId"],SZ=["collectionId","parent"],TZ=["indexId","uid"],IZ=["uid","sequenceNumber"],xZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],AZ=["indexId","uid","orderedDocumentKey"],MZ=["userId","collectionPath","documentId"],kZ=["userId","collectionPath","largestBatchId"],RZ=["userId","collectionGroup","largestBatchId"],EU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],OZ=[...EU,"documentOverlays"],SU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],TU=SU,PZ=[...TU,"indexConfiguration","indexState","indexEntries"];class AR extends gB{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function Wr(n,t){const e=tt(n);return kc.N(e.ee,t)}class MR{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&K$(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=uC(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=uC(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=rU();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=e.has(r.key)?null:d;const p=WB(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Nt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Qt())}isEqual(t){return this.batchId===t.batchId&&rv(this.mutations,t.mutations,(e,i)=>KB(e,i))&&rv(this.baseMutations,t.baseMutations,(e,i)=>KB(e,i))}}class kR{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Lt(t.mutations.length===i.length);let r=eZ;const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new kR(t,e,i,r)}}class RR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hf{constructor(t,e,i,r,o=Nt.min(),c=Nt.min(),d=xr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new Hf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Hf(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Hf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class IU{constructor(t){this.ne=t}}function xU(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:sI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:gC(r=n.ne,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:mC(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:fg(t.version)};else{if(!t.isUnknownDocument())return ft();i.unknownDocument={path:e.path.toArray(),version:fg(t.version)}}var r,o;return i}function sI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function fg(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function pg(n){const t=new bi(n.seconds,n.nanoseconds);return Nt.fromTimestamp(t)}function mg(n,t){const e=(t.baseMutations||[]).map(o=>xR(n.ne,o));for(let o=0;o<t.mutations.length-1;++o){const c=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(c.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>xR(n.ne,o)),r=bi.fromMillis(t.localWriteTimeMs);return new MR(t.batchId,r,e,i)}function vC(n){const t=pg(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?pg(n.lastLimboFreeSnapshotVersion):Nt.min();let i;var r;return void 0!==n.query.documents?(Lt(1===(r=n.query).documents.length),i=Zo(lv(hU(r.documents[0])))):i=Zo(yU(n.query)),new Hf(i,n.targetId,0,n.lastListenSequenceNumber,t,e,xr.fromBase64String(n.resumeToken))}function AU(n,t){const e=fg(t.snapshotVersion),i=fg(t.lastLimboFreeSnapshotVersion);let r;r=KT(t.target)?gU(n.ne,t.target):_U(n.ne,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ug(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function OR(n){const t=yU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?JT(t,t.limit,"L"):t}function PR(n,t){return new RR(t.largestBatchId,xR(n.ne,t.overlayMutation))}function MU(n,t){const e=t.path.lastSegment();return[n,ro(t.path.popLast()),e]}function kU(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:fg(i.readTime),documentKey:ro(i.documentKey.path),largestBatchId:i.largestBatchId}}class FZ{getBundleMetadata(t,e){return RU(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:pg(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return RU(t).put({bundleId:(i=e).id,createTime:fg(Yr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return OU(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:OR(r.bundledQuery),readTime:pg(r.readTime)};var r})}saveNamedQuery(t,e){return OU(t).put({name:(i=e).name,readTime:fg(Yr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function RU(n){return Wr(n,"bundles")}function OU(n){return Wr(n,"namedQueries")}class oI{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new oI(t,e.uid||"")}getOverlay(t,e){return bC(t).get(MU(this.userId,e)).next(i=>i?PR(this.wt,i):null)}getOverlays(t,e){const i=xu();return he.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,c)=>{const d=new RR(e,c);r.push(this.ie(t,d))}),he.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(ro(c.getCollectionPath())));const o=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(bC(t).W("collectionPathOverlayIndex",d))}),he.waitFor(o)}getOverlaysForCollection(t,e,i){const r=xu(),o=ro(e),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return bC(t).K("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const y=PR(this.wt,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=xu();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return bC(t).J({index:"collectionGroupOverlayIndex",range:d},(p,y,C)=>{const E=PR(this.wt,y);o.size()<r||E.largestBatchId===c?(o.set(E.getKey(),E),c=E.largestBatchId):C.done()}).next(()=>o)}ie(t,e){return bC(t).put(function(i,r,o){const[c,d,p]=MU(r,o.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:yC(i.ne,o.mutation)}}(this.wt,this.userId,e))}}function bC(n){return Wr(n,"documentOverlays")}class gg{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Zi(t.integerValue));else if("doubleValue"in t){const i=Zi(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),iC(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(ag(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?TB(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):ft()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const r of Object.keys(i))this.le(r,e),this.oe(i[r],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const r of i)this.oe(r,e)}_e(t,e){this.ce(e,37),Je.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function LZ(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function PU(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=LZ(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}gg.ye=new gg;class VZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ie(i.value),i=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=e.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(t){const e=this.Ve(t),i=PU(e);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}De(t){const e=this.Ve(t),i=PU(e);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Me(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class BZ{constructor(t){this.Oe=t}de(t){this.Oe.pe(t)}he(t){this.Oe.be(t)}ae(t){this.Oe.ve(t)}ue(){this.Oe.Ce()}}class UZ{constructor(t){this.Oe=t}de(t){this.Oe.Ee(t)}he(t){this.Oe.Pe(t)}ae(t){this.Oe.De(t)}ue(){this.Oe.Ne()}}class wC{constructor(){this.Oe=new VZ,this.Fe=new BZ(this.Oe),this.$e=new UZ(this.Oe)}seed(t){this.Oe.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class _g{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new _g(this.indexId,this.documentKey,this.arrayValue,i)}}function yg(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=NU(n.arrayValue,t.arrayValue),0!==e?e:(e=NU(n.directionalValue,t.directionalValue),0!==e?e:Je.comparator(n.documentKey,t.documentKey)))}function NU(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class HZ{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const i=e;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(t){const e=fR(t);if(void 0!==e&&!this.Qe(e))return!1;const i=rg(t);let r=0,o=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const c=i[r];if(!this.je(this.Ke,c)||!this.We(this.Ue[o++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(o>=this.Ue.length||!this.We(this.Ue[o++],c))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class jZ{constructor(){this.ze=new NR}addToCollectionParentIndex(t,e){return this.ze.add(e),he.resolve()}getCollectionParents(t,e){return he.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return he.resolve()}deleteFieldIndex(t,e){return he.resolve()}getDocumentsMatchingTarget(t,e){return he.resolve(null)}getIndexType(t,e){return he.resolve(0)}getFieldIndexes(t,e){return he.resolve([])}getNextCollectionGroupToUpdate(t){return he.resolve(null)}getMinOffset(t,e){return he.resolve(Aa.min())}getMinOffsetFromCollectionGroup(t,e){return he.resolve(Aa.min())}updateCollectionGroup(t,e,i){return he.resolve()}updateIndexEntries(t,e){return he.resolve()}}class NR{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new jn(yn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new jn(yn.comparator)).toArray()}}const aI=new Uint8Array(0);class zZ{constructor(t,e){this.user=t,this.databaseId=e,this.He=new NR,this.Je=new Uf(i=>ug(i),(i,r)=>aC(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const o={collectionId:i,parent:ro(r)};return FU(t).put(o)}return he.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[hB(e),""],!1,!0);return FU(t).K(r).next(o=>{for(const c of o){if(c.collectionId!==e)break;i.push(Mu(c.parent))}return i})}addFieldIndex(t,e){const i=lI(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const o=i.add(r);if(e.indexState){const c=DC(t);return o.next(d=>{c.put(kU(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=lI(t),r=DC(t),o=CC(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=CC(t);let r=!0;const o=new Map;return he.forEach(this.Ye(e),c=>this.Xe(t,c).next(d=>{r&&(r=!!d),o.set(c,d)})).next(()=>{if(r){let c=Qt();const d=[];return he.forEach(o,(p,y)=>{var C;Ve("IndexedDbIndexManager",`Using index ${C=p,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(We=>`${We.fieldPath}:${We.kind}`).join(",")}`} to execute ${ug(e)}`);const E=function(We,Ze){const bt=fR(Ze);if(void 0===bt)return null;for(const St of QT(We,bt.fieldPath))switch(St.op){case"array-contains-any":return St.value.arrayValue.values||[];case"array-contains":return[St.value]}return null}(y,p),M=function(We,Ze){const bt=new Map;for(const St of rg(Ze))for(const rn of QT(We,St.fieldPath))switch(rn.op){case"==":case"in":bt.set(St.fieldPath.canonicalString(),rn.value);break;case"not-in":case"!=":return bt.set(St.fieldPath.canonicalString(),rn.value),Array.from(bt.values())}return null}(y,p),P=function(We,Ze){const bt=[];let St=!0;for(const rn of rg(Ze)){const sr=0===rn.kind?kB(We,rn.fieldPath,We.startAt):RB(We,rn.fieldPath,We.startAt);bt.push(sr.value),St&&(St=sr.inclusive)}return new Bf(bt,St)}(y,p),F=function(We,Ze){const bt=[];let St=!0;for(const rn of rg(Ze)){const sr=0===rn.kind?RB(We,rn.fieldPath,We.endAt):kB(We,rn.fieldPath,We.endAt);bt.push(sr.value),St&&(St=sr.inclusive)}return new Bf(bt,St)}(y,p),j=this.Ze(p,y,P),te=this.Ze(p,y,F),Re=this.tn(p,y,M),Ge=this.en(p.indexId,E,j,P.inclusive,te,F.inclusive,Re);return he.forEach(Ge,We=>i.j(We,e.limit).next(Ze=>{Ze.forEach(bt=>{const St=Je.fromSegments(bt.documentKey);c.has(St)||(c=c.add(St),d.push(St))})}))}).next(()=>d)}return he.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,i,r,o,c,d){const p=(null!=e?e.length:1)*Math.max(i.length,o.length),y=p/(null!=e?e.length:1),C=[];for(let E=0;E<p;++E){const M=e?this.nn(e[E/y]):aI,P=this.sn(t,M,i[E%y],r),F=this.rn(t,M,o[E%y],c),j=d.map(te=>this.sn(t,M,te,!0));C.push(...this.createRange(P,F,j))}return C}sn(t,e,i,r){const o=new _g(t,Je.empty(),e,i);return r?o:o.Le()}rn(t,e,i,r){const o=new _g(t,Je.empty(),e,i);return r?o.Le():o}Xe(t,e){const i=new HZ(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let c=null;for(const d of o)i.Ge(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;return he.forEach(this.Ye(e),r=>this.Xe(t,r).next(o=>{o?0!==i&&o.fields.length<function(c){let d=new jn(Gi.comparator),p=!1;for(const y of c.filters){const C=y;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?p=!0:d=d.add(C.field))}for(const y of c.orderBy)y.field.isKeyField()||(d=d.add(y.field));return d.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(t,e){const i=new wC;for(const r of rg(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const c=i.Be(r.kind);gg.ye.re(o,c)}return i.Me()}nn(t){const e=new wC;return gg.ye.re(t,e.Be(0)),e.Me()}un(t,e){const i=new wC;return gg.ye.re(cg(this.databaseId,e),i.Be(function(r){const o=rg(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Me()}tn(t,e,i){if(null===i)return[];let r=[];r.push(new wC);let o=0;for(const c of rg(t)){const d=i[o++];for(const p of r)if(this.cn(e,c.fieldPath)&&sC(d))r=this.an(r,c,d);else{const y=p.Be(c.kind);gg.ye.re(d,y)}}return this.hn(r)}Ze(t,e,i){return this.tn(t,e,i.position)}hn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Me();return e}an(t,e,i){const r=[...t],o=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new wC;p.seed(d.Me()),gg.ye.re(c,p.Be(e.kind)),o.push(p)}return o}cn(t,e){return!!t.filters.find(i=>i instanceof fs&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=lI(t),r=DC(t);return(e?i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.K()).next(o=>{const c=[];return he.forEach(o,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(y,C){const E=C?new Xw(C.sequenceNumber,new Aa(pg(C.readTime),new Je(Mu(C.documentKey)),C.largestBatchId)):Xw.empty(),M=y.fields.map(([P,F])=>new GT(Gi.fromServerFormat(P),F));return new qT(y.indexId,y.collectionGroup,M,E)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:zt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=lI(t),o=DC(t);return this.ln(t).next(c=>r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>he.forEach(d,p=>o.put(kU(p.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return he.forEach(e,(r,o)=>{const c=i.get(r.collectionGroup);return(c?he.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),he.forEach(d,p=>this.fn(t,r,p).next(y=>{const C=this.dn(o,p);return y.isEqual(C)?he.resolve():this._n(t,o,p,y,C)}))))})}wn(t,e,i,r){return CC(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,e.key),documentKey:e.key.path.toArray()})}mn(t,e,i,r){return CC(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,e.key),e.key.path.toArray()])}fn(t,e,i){const r=CC(t);let o=new jn(yg);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,e)])},(c,d)=>{o=o.add(new _g(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>o)}dn(t,e){let i=new jn(yg);const r=this.on(e,t);if(null==r)return i;const o=fR(e);if(null!=o){const c=t.data.field(o.fieldPath);if(sC(c))for(const d of c.arrayValue.values||[])i=i.add(new _g(e.indexId,t.key,this.nn(d),r))}else i=i.add(new _g(e.indexId,t.key,aI,r));return i}_n(t,e,i,r,o){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,p,y,C,E){const M=d.getIterator(),P=p.getIterator();let F=sv(M),j=sv(P);for(;F||j;){let te=!1,Re=!1;if(F&&j){const Ge=y(F,j);Ge<0?Re=!0:Ge>0&&(te=!0)}else null!=F?Re=!0:te=!0;te?(C(j),j=sv(P)):Re?(E(F),F=sv(M)):(F=sv(M),j=sv(P))}}(r,o,yg,d=>{c.push(this.wn(t,e,i,d))},d=>{c.push(this.mn(t,e,i,d))}),he.waitFor(c)}ln(t){let e=1;return DC(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>yg(c,d)).filter((c,d,p)=>!d||0!==yg(c,p[d-1]));const r=[];r.push(t);for(const c of i){const d=yg(c,t),p=yg(c,e);if(0===d)r[0]=t.Le();else if(d>0&&p<0)r.push(c),r.push(c.Le());else if(p>0)break}r.push(e);const o=[];for(let c=0;c<r.length;c+=2)o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,aI,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,aI,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(LU)}getMinOffset(t,e){return he.mapArray(this.Ye(e),i=>this.Xe(t,i).next(r=>r||ft())).next(LU)}}function FU(n){return Wr(n,"collectionParents")}function CC(n){return Wr(n,"indexEntries")}function lI(n){return Wr(n,"indexConfiguration")}function DC(n){return Wr(n,"indexState")}function LU(n){Lt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;pR(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Aa(t.readTime,t.documentKey,e)}const VU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Wo(t,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function BU(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(e.batchId);let d=0;const p=i.J({range:c},(C,E,M)=>(d++,M.delete()));o.push(p.next(()=>{Lt(1===d)}));const y=[];for(const C of e.mutations){const E=DU(t,C.key.path,e.batchId);o.push(r.delete(E)),y.push(C.key)}return he.waitFor(o).next(()=>y)}function cI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ft();t=n.noDocument}return JSON.stringify(t).length}Wo.DEFAULT_COLLECTION_PERCENTILE=10,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wo.DEFAULT=new Wo(41943040,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wo.DISABLED=new Wo(-1,0,0);class uI{constructor(t,e,i,r){this.userId=t,this.wt=e,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(t,e,i,r){Lt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new uI(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jf(t).J({index:"userMutationsIndex",range:i},(r,o,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=gv(t),c=jf(t);return c.add({}).next(d=>{Lt("number"==typeof d);const p=new MR(d,e,i,r),y=function(M,P,F){const j=F.baseMutations.map(Re=>yC(M.ne,Re)),te=F.mutations.map(Re=>yC(M.ne,Re));return{userId:P,batchId:F.batchId,localWriteTimeMs:F.localWriteTime.toMillis(),baseMutations:j,mutations:te}}(this.wt,this.userId,p),C=[];let E=new jn((M,P)=>zt(M.canonicalString(),P.canonicalString()));for(const M of r){const P=DU(this.userId,M.key.path,d);E=E.add(M.key.path.popLast()),C.push(c.put(y)),C.push(o.put(P,yZ))}return E.forEach(M=>{C.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.gn[d]=p.keys()}),he.waitFor(C).next(()=>p)})}lookupMutationBatch(t,e){return jf(t).get(e).next(i=>i?(Lt(i.userId===this.userId),mg(this.wt,i)):null)}yn(t,e){return this.gn[e]?he.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.gn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return jf(t).J({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&(Lt(d.batchId>=i),o=mg(this.wt,d)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return jf(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jf(t).K("userMutationsIndex",e).next(i=>i.map(r=>mg(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=rI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return gv(t).J({range:r},(c,d,p)=>{const[y,C,E]=c,M=Mu(C);if(y===this.userId&&e.path.isEqual(M))return jf(t).get(E).next(P=>{if(!P)throw ft();Lt(P.userId===this.userId),o.push(mg(this.wt,P))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new jn(zt);const r=[];return e.forEach(o=>{const c=rI(this.userId,o.path),d=IDBKeyRange.lowerBound(c),p=gv(t).J({range:d},(y,C,E)=>{const[M,P,F]=y,j=Mu(P);M===this.userId&&o.path.isEqual(j)?i=i.add(F):E.done()});r.push(p)}),he.waitFor(r).next(()=>this.pn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=rI(this.userId,i),c=IDBKeyRange.lowerBound(o);let d=new jn(zt);return gv(t).J({range:c},(p,y,C)=>{const[E,M,P]=p,F=Mu(M);E===this.userId&&i.isPrefixOf(F)?F.length===r&&(d=d.add(P)):C.done()}).next(()=>this.pn(t,d))}pn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(jf(t).get(o).next(c=>{if(null===c)throw ft();Lt(c.userId===this.userId),i.push(mg(this.wt,c))}))}),he.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return BU(t.ee,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),he.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return he.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return gv(t).J({range:i},(o,c,d)=>{if(o[0]===this.userId){const p=Mu(o[1]);r.push(p)}else d.done()}).next(()=>{Lt(0===r.length)})})}containsKey(t,e){return UU(t,this.userId,e)}Tn(t){return HU(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function UU(n,t,e){const i=rI(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return gv(n).J({range:o,H:!0},(d,p,y)=>{const[C,E,M]=d;C===t&&E===r&&(c=!0),y.done()}).next(()=>c)}function jf(n){return Wr(n,"mutations")}function gv(n){return Wr(n,"documentMutations")}function HU(n){return Wr(n,"mutationQueues")}class vg{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new vg(0)}static Rn(){return new vg(-1)}}class qZ{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const i=new vg(e.highestTargetId);return e.highestTargetId=i.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>Nt.fromTimestamp(new bi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Pn(t,r)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(i=>(i.targetCount+=1,this.Vn(e,i),this.Pn(t,i))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>_v(t).delete(e.targetId)).next(()=>this.bn(t)).next(i=>(Lt(i.targetCount>0),i.targetCount-=1,this.Pn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return _v(t).J((c,d)=>{const p=vC(d);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,o.push(this.removeTargetData(t,p)))}).next(()=>he.waitFor(o)).next(()=>r)}forEachTarget(t,e){return _v(t).J((i,r)=>{const o=vC(r);e(o)})}bn(t){return jU(t).get("targetGlobalKey").next(e=>(Lt(null!==e),e))}Pn(t,e){return jU(t).put("targetGlobalKey",e)}vn(t,e){return _v(t).put(AU(this.wt,e))}Vn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=ug(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return _v(t).J({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const y=vC(d);aC(e,y.target)&&(o=y,p.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=zf(t);return e.forEach(c=>{const d=ro(c.path);r.push(o.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),he.waitFor(r)}removeMatchingKeys(t,e,i){const r=zf(t);return he.forEach(e,o=>{const c=ro(o.path);return he.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=zf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=zf(t);let o=Qt();return r.J({range:i,H:!0},(c,d,p)=>{const y=Mu(c[1]),C=new Je(y);o=o.add(C)}).next(()=>o)}containsKey(t,e){const i=ro(e.path),r=IDBKeyRange.bound([i],[hB(i)],!1,!0);let o=0;return zf(t).J({index:"documentTargetsIndex",H:!0,range:r},([c,d],p,y)=>{0!==c&&(o++,y.done())}).next(()=>o>0)}te(t,e){return _v(t).get(e).next(i=>i?vC(i):null)}}function _v(n){return Wr(n,"targets")}function jU(n){return Wr(n,"targetGlobal")}function zf(n){return Wr(n,"targetDocuments")}function zU([n,t],[e,i]){const r=zt(n,e);return 0===r?zt(t,i):r}class GZ{constructor(t){this.Sn=t,this.buffer=new jn(zU),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();zU(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class $Z{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;Ve("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,be.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Nf(i)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Pf(i)}yield e.kn(3e5)}))}}class ZZ{constructor(t,e){this.Mn=t,this.params=e}calculateTargetCount(t,e){return this.Mn.On(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return he.resolve($o.ot);const i=new GZ(e);return this.Mn.forEachTarget(t,r=>i.xn(r.sequenceNumber)).next(()=>this.Mn.Fn(t,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Mn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Mn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(VU)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VU):this.$n(t,e))}getCacheSize(t){return this.Mn.getCacheSize(t)}$n(t,e){let i,r,o,c,d,p,y;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,c=Date.now(),this.nthSequenceNumber(t,r))).next(E=>(i=E,d=Date.now(),this.removeTargets(t,i,e))).next(E=>(o=E,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(E=>(y=Date.now(),dR()<=Ol.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-C}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${o} targets in `+(p-d)+`ms\n\tRemoved ${E} documents in `+(y-p)+`ms\nTotal Duration: ${y-C}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:E})))}}class YZ{constructor(t,e){this.db=t,this.garbageCollector=new ZZ(this,e)}On(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Bn(t){let e=0;return this.Fn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(i,r)=>e(r))}addReference(t,e,i){return dI(t,i)}removeReference(t,e,i){return dI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return dI(t,e)}Un(t,e){return function(i,r){let o=!1;return HU(i).Y(c=>UU(i,c,r).next(d=>(d&&(o=!0),he.resolve(!d)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Ln(t,(c,d)=>{if(d<=e){const p=this.Un(t,c).next(y=>{if(!y)return o++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Nt.min()),zf(t).delete([0,ro(c.path)])))});r.push(p)}}).next(()=>he.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return dI(t,e)}Ln(t,e){const i=zf(t);let r,o=$o.ot;return i.J({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:y})=>{0===c?(o!==$o.ot&&e(new Je(Mu(r)),o),o=y,r=p):o=$o.ot}).next(()=>{o!==$o.ot&&e(new Je(Mu(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function dI(n,t){return zf(n).put((i=n.currentSequenceNumber,{targetId:0,path:ro(t.path),sequenceNumber:i}));var i}class qU{constructor(){this.changes=new Uf(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ni.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?he.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class WZ{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return bg(t).put(i)}removeEntry(t,e,i){return bg(t).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],sI(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.qn(t,i)))}getEntry(t,e){let i=ni.newInvalidDocument(e);return bg(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(EC(e))},(r,o)=>{i=this.Kn(e,o)}).next(()=>i)}Gn(t,e){let i={size:0,document:ni.newInvalidDocument(e)};return bg(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(EC(e))},(r,o)=>{i={document:this.Kn(e,o),size:cI(o)}}).next(()=>i)}getEntries(t,e){let i=Yo();return this.Qn(t,e,(r,o)=>{const c=this.Kn(r,o);i=i.insert(r,c)}).next(()=>i)}jn(t,e){let i=Yo(),r=new $i(Je.comparator);return this.Qn(t,e,(o,c)=>{const d=this.Kn(o,c);i=i.insert(o,d),r=r.insert(o,cI(c))}).next(()=>({documents:i,Wn:r}))}Qn(t,e,i){if(e.isEmpty())return he.resolve();let r=new jn(YU);e.forEach(p=>r=r.add(p));const o=IDBKeyRange.bound(EC(r.first()),EC(r.last())),c=r.getIterator();let d=c.getNext();return bg(t).J({index:"documentKeyIndex",range:o},(p,y,C)=>{const E=Je.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;d&&YU(d,E)<0;)i(d,null),d=c.getNext();d&&d.isEqual(E)&&(i(d,y),d=c.hasNext()?c.getNext():null),d?C.q(EC(d)):C.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),sI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bg(t).K(IDBKeyRange.bound(r,o,!0)).next(c=>{let d=Yo();for(const p of c){const y=this.Kn(Je.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(y.key,y)}return d})}getAllFromCollectionGroup(t,e,i,r){let o=Yo();const c=ZU(e,i),d=ZU(e,Aa.max());return bg(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,y,C)=>{const E=this.Kn(Je.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(E.key,E),o.size===r&&C.done()}).next(()=>o)}newChangeBuffer(t){return new KZ(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return $U(t).get("remoteDocumentGlobalKey").next(e=>(Lt(!!e),e))}qn(t,e){return $U(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const i=function NZ(n,t){let e;if(t.document)e=mU(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Je.fromSegments(t.noDocument.path),r=pg(t.noDocument.readTime);e=ni.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ft();{const i=Je.fromSegments(t.unknownDocument.path),r=pg(t.unknownDocument.version);e=ni.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new bi(i[0],i[1]);return Nt.fromTimestamp(r)}(t.readTime)),e}(this.wt,e);if(!i.isNoDocument()||!i.version.isEqual(Nt.min()))return i}return ni.newInvalidDocument(t)}}function GU(n){return new WZ(n)}class KZ extends qU{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new Uf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new jn((o,c)=>zt(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const d=this.Hn.get(o);if(e.push(this.zn.removeEntry(t,o,d.readTime)),c.isValidDocument()){const p=xU(this.zn.wt,c);r=r.add(o.path.popLast()),i+=cI(p)-d.size,e.push(this.zn.addEntry(t,o,p))}else if(i-=d.size,this.trackRemovals){const p=xU(this.zn.wt,c.convertToNoDocument(Nt.min()));e.push(this.zn.addEntry(t,o,p))}}),r.forEach(o=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.zn.updateMetadata(t,i)),he.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(i=>(this.Hn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:i,Wn:r})=>(r.forEach((o,c)=>{this.Hn.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function $U(n){return Wr(n,"remoteDocumentGlobal")}function bg(n){return Wr(n,"remoteDocumentsV14")}function EC(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ZU(n,t){const e=t.documentKey.path.toArray();return[n,sI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function YU(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=zt(e[o],i[o]),r)return r;return r=zt(e.length,i.length),r||(r=zt(e[e.length-2],i[i.length-2]),r||zt(e[e.length-1],i[i.length-1]))}class QZ{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class WU{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&uC(i.mutation,r,Ma.empty(),bi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Qt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Qt()){const r=xu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=dC();return o.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=xu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Qt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let o=Yo();const c=hC(),d=hC();return e.forEach((p,y)=>{const C=i.get(y.key);r.has(y.key)&&(void 0===C||C.mutation instanceof oh)?o=o.insert(y.key,y):void 0!==C&&(c.set(y.key,C.mutation.getFieldMask()),uC(C.mutation,y,C.mutation.getFieldMask(),bi.now()))}),this.recalculateAndSaveOverlays(t,o).next(p=>(p.forEach((y,C)=>c.set(y,C)),e.forEach((y,C)=>{var E;return d.set(y,new QZ(C,null!==(E=c.get(y))&&void 0!==E?E:null))}),d))}recalculateAndSaveOverlays(t,e){const i=hC();let r=new $i((c,d)=>c-d),o=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=e.get(p);if(null===y)return;let C=i.get(p)||Ma.empty();C=d.applyToLocalView(y,C),i.set(p,C);const E=(r.get(d.batchId)||Qt()).add(p);r=r.insert(d.batchId,E)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,C=p.value,E=rU();C.forEach(M=>{if(!o.has(M)){const P=WB(e.get(M),i.get(M));null!==P&&E.set(M,P),o=o.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(t,y,E))}return he.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Je.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):CR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):he.resolve(xu());let d=-1,p=o;return c.next(y=>he.forEach(y,(C,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),o.get(C)?he.resolve():this.getBaseDocument(t,C,E).next(M=>{p=p.insert(C,M)}))).next(()=>this.populateOverlays(t,y,o)).next(()=>this.computeViews(t,p,y,Qt())).next(C=>({batchId:d,changes:iU(C)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Je(e)).next(i=>{let r=dC();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=dC();return this.indexManager.getCollectionParents(t,r).next(c=>he.forEach(c,d=>{const p=(y=e,C=d.child(r),new sh(C,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,C;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(y=>{y.forEach((C,E)=>{o=o.insert(C,E)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((d,p)=>{const y=p.getKey();null===r.get(y)&&(r=r.insert(y,ni.newInvalidDocument(y)))});let c=dC();return r.forEach((d,p)=>{const y=o.get(d);void 0!==y&&uC(y.mutation,p,Ma.empty(),bi.now()),ER(e,p)&&(c=c.insert(d,p))}),c})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):he.resolve(ni.newInvalidDocument(e))}}class JZ{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return he.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:Yr(i.createTime)}),he.resolve()}getNamedQuery(t,e){return he.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:OR(i.bundledQuery),readTime:Yr(i.readTime)}),he.resolve();var i}}class XZ{constructor(){this.overlays=new $i(Je.comparator),this.Xn=new Map}getOverlay(t,e){return he.resolve(this.overlays.get(e))}getOverlays(t,e){const i=xu();return he.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ie(t,e,o)}),he.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Xn.delete(i)),he.resolve()}getOverlaysForCollection(t,e,i){const r=xu(),o=e.length+1,c=new Je(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===o&&p.largestBatchId>i&&r.set(p.getKey(),p)}return he.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new $i((y,C)=>y-C);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let C=o.get(y.largestBatchId);null===C&&(C=xu(),o=o.insert(y.largestBatchId,C)),C.set(y.getKey(),y)}}const d=xu(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,C)=>d.set(y,C)),!(d.size()>=r)););return he.resolve(d)}ie(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new RR(e,i));let o=this.Xn.get(e);void 0===o&&(o=Qt(),this.Xn.set(e,o)),this.Xn.set(e,o.add(i.key))}}class FR{constructor(){this.Zn=new jn(Kr.ts),this.es=new jn(Kr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new Kr(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new Kr(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new Je(new yn([])),i=new Kr(e,t),r=new Kr(e,t+1),o=[];return this.es.forEachInRange([i,r],c=>{this.rs(c),o.push(c.key)}),o}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new Je(new yn([])),i=new Kr(e,t),r=new Kr(e,t+1);let o=Qt();return this.es.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new Kr(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Kr{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return Je.comparator(t.key,e.key)||zt(t.ls,e.ls)}static ns(t,e){return zt(t.ls,e.ls)||Je.comparator(t.key,e.key)}}class e5{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new jn(Kr.ts)}checkEmpty(t){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.fs;this.fs++;const c=new MR(o,e,i,r);this.mutationQueue.push(c);for(const d of r)this.ds=this.ds.add(new Kr(d.key,o)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return he.resolve(c)}lookupMutationBatch(t,e){return he.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ws(e+1),o=r<0?0:r;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Kr(e,0),r=new Kr(e,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([i,r],c=>{const d=this._s(c.ls);o.push(d)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new jn(zt);return e.forEach(r=>{const o=new Kr(r,0),c=new Kr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([o,c],d=>{i=i.add(d.ls)})}),he.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Je.isDocumentKey(o)||(o=o.child(""));const c=new Kr(new Je(o),0);let d=new jn(zt);return this.ds.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(d=d.add(p.ls)),!0)},c),he.resolve(this.gs(d))}gs(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Lt(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return he.forEach(e.mutations,r=>{const o=new Kr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new Kr(e,0),r=this.ds.firstAfterOrEqual(i);return he.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return he.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class t5{constructor(t){this.ps=t,this.docs=new $i(Je.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return he.resolve(i?i.document.mutableCopy():ni.newInvalidDocument(e))}getEntries(t,e){let i=Yo();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ni.newInvalidDocument(r))}),he.resolve(i)}getAllFromCollection(t,e,i){let r=Yo();const o=new Je(e.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||pR(pB(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return he.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ft()}Is(t,e){return he.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new n5(this)}getSize(t){return he.resolve(this.size)}}class n5 extends qU{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(i)}),he.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class r5{constructor(t){this.persistence=t,this.Ts=new Uf(e=>ug(e),aC),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Es=0,this.As=new FR,this.targetCount=0,this.Rs=vg.An()}forEachTarget(t,e){return this.Ts.forEach((i,r)=>e(r)),he.resolve()}getLastRemoteSnapshotVersion(t){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return he.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),he.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new vg(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,he.resolve()}updateTargetData(t,e){return this.vn(e),he.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,he.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Ts.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Ts.delete(c),o.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),he.waitFor(o).next(()=>r)}getTargetCount(t){return he.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return he.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),he.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),he.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),he.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return he.resolve(i)}containsKey(t,e){return he.resolve(this.As.containsKey(e))}}class KU{constructor(t,e){this.bs={},this.overlays={},this.Ps=new $o(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new r5(this),this.indexManager=new jZ,this.remoteDocumentCache=new t5(i=>this.referenceDelegate.Ss(i)),this.wt=new IU(e),this.Ds=new JZ(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new XZ,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new e5(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){Ve("MemoryPersistence","Starting transaction:",t);const r=new s5(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(o=>this.referenceDelegate.xs(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ns(t,e){return he.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class s5 extends gB{constructor(t){super(),this.currentSequenceNumber=t}}class hI{constructor(t){this.persistence=t,this.ks=new FR,this.Ms=null}static Os(t){return new hI(t)}get Fs(){if(this.Ms)return this.Ms;throw ft()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),he.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),he.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),he.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Fs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Ms=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Fs,i=>{const r=Je.fromPath(i);return this.$s(t,r).next(o=>{o||e.removeEntry(r,Nt.min())})}).next(()=>(this.Ms=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return he.or([()=>he.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class o5{constructor(t){this.wt=t}M(t,e,i,r){const o=new $T("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CU,{unique:!0}),d.createObjectStore("documentMutations"),QU(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=he.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),QU(t)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").K().next(y=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CU,{unique:!0});const C=p.store("mutations"),E=y.map(M=>C.put(M));return he.waitFor(E)})}(t,o))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Bs(o))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(o)))),i<7&&r>=7&&(c=c.next(()=>this.Us(o))),i<8&&r>=8&&(c=c.next(()=>this.qs(t,o))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.Ks(o))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:MZ});p.createIndex("collectionPathOverlayIndex",kZ,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",RZ,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:vZ});p.createIndex("documentKeyIndex",bZ),p.createIndex("collectionGroupIndex",wZ)}(t)).next(()=>this.Gs(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.Qs(t,o))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:TZ}).createIndex("sequenceNumberIndex",IZ,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:xZ}).createIndex("documentKeyIndex",AZ,{unique:!1})}(t))),c}Ls(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=cI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.K().next(r=>he.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",c).next(d=>he.forEach(d,p=>{Lt(p.userId===o.userId);const y=mg(this.wt,p);return BU(t,o.userId,y).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((c,d)=>{const p=new yn(c),y=[0,ro(p)];o.push(e.get(y).next(C=>C?he.resolve():e.put({targetId:0,path:ro(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>he.waitFor(o))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:SZ});const i=e.store("collectionParents"),r=new NR,o=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:ro(p)})}};return e.store("remoteDocuments").J({H:!0},(c,d)=>{const p=new yn(c);return o(p.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([c,d,p],y)=>{const C=Mu(d);return o(C.popLast())}))}Ks(t){const e=t.store("targets");return e.J((i,r)=>{const o=vC(r),c=AU(this.wt,o);return e.put(c)})}Gs(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,c)=>{const d=e.store("remoteDocumentsV14"),p=(y=c,y.document?new Je(yn.fromString(y.document.name).popFirst(5)):y.noDocument?Je.fromSegments(y.noDocument.path):y.unknownDocument?Je.fromSegments(y.unknownDocument.path):ft()).path.toArray();var y;const C={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(C))}).next(()=>he.waitFor(r))}Qs(t,e){const i=e.store("mutations"),r=GU(this.wt),o=new KU(hI.Os,this.wt.ne);return i.K().next(c=>{const d=new Map;return c.forEach(p=>{var y;let C=null!==(y=d.get(p.userId))&&void 0!==y?y:Qt();mg(this.wt,p).keys().forEach(E=>C=C.add(E)),d.set(p.userId,C)}),he.forEach(d,(p,y)=>{const C=new $r(y),E=oI.se(this.wt,C),M=o.getIndexManager(C),P=uI.se(C,this.wt,M,o.referenceDelegate);return new WU(r,P,E,M).recalculateAndSaveOverlaysForDocumentKeys(new AR(e,$o.ot),p).next()})})}}function QU(n){n.createObjectStore("targetDocuments",{keyPath:DZ}).createIndex("documentTargetsIndex",EZ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",CZ,{unique:!0}),n.createObjectStore("targetGlobal")}const LR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class VR{constructor(t,e,i,r,o,c,d,p,y,C,E=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.js=o,this.window=c,this.document=d,this.Ws=y,this.zs=C,this.Hs=E,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=M=>Promise.resolve(),!VR.V())throw new Oe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YZ(this,r),this.ei=e+"main",this.wt=new IU(p),this.ni=new kc(this.ei,this.Hs,new o5(this.wt)),this.Vs=new qZ(this.referenceDelegate,this.wt),this.remoteDocumentCache=GU(this.wt),this.Ds=new FZ,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===C&&rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,LR);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new $o(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var i=(0,be.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,be.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,be.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>fI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(Nf(t))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return SC(t).get("owner").next(e=>he.resolve(this.di(e)))}_i(t){return fI(t).delete(this.clientId)}wi(){var t=this;return(0,be.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Wr(i,"clientMetadata");return r.K().next(o=>{const c=t.gi(o,18e5),d=o.filter(p=>-1===c.indexOf(p));return he.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(t.si)for(const i of e)t.si.removeItem(t.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?he.resolve(!0):SC(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,LR);return!1}}return!(!this.networkEnabled||!this.inForeground)||fI(t).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ve("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,be.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new AR(e,$o.ot);return t.li(i).next(()=>t._i(i))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(i=>this.mi(i.updateTimeMs,e)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>fI(t).K().next(e=>this.gi(e,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return uI.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new zZ(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return oI.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,i){Ve("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(c=this.Hs)?PZ:14===c?TU:13===c?SU:12===c?OZ:11===c?EU:void ft();var c;let d;return this.ni.runTransaction(t,r,o,p=>(d=new AR(p,this.Ps?this.Ps.next():$o.ot),"readwrite-primary"===e?this.ai(d).next(y=>!!y||this.hi(d)).next(y=>{if(!y)throw rr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Oe(me.FAILED_PRECONDITION,mB);return i(d)}).next(y=>this.fi(d).next(()=>y)):this.bi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}bi(t){return SC(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Oe(me.FAILED_PRECONDITION,LR)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return SC(t).put("owner",e)}static V(){return kc.V()}li(t){const e=SC(t);return e.get("owner").next(i=>this.di(i)?(Ve("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):he.resolve())}mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(rr(`Detected an update time that is in the future: ${t} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,N.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const i=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return Ve("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return rr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){rr("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function SC(n){return Wr(n,"owner")}function fI(n){return Wr(n,"clientMetadata")}function BR(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class UR{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=r}static Vi(t,e){let i=Qt(),r=Qt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new UR(t,e.fromCache,i,r)}}class JU{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ci(t,e).next(o=>o||this.xi(t,e,r,i)).next(o=>o||this.Ni(t,e))}Ci(t,e){if(LB(e))return he.resolve(null);let i=Zo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=JT(e,null,"F"),i=Zo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=Qt(...o);return this.Di.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(p=>{const y=this.ki(e,d);return this.Mi(e,y,c,p.readTime)?this.Ci(t,JT(e,null,"F")):this.Oi(t,y,e,p)}))})))}xi(t,e,i,r){return LB(e)||r.isEqual(Nt.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(o=>{const c=this.ki(e,o);return this.Mi(e,c,i,r)?this.Ni(t,e):(dR()<=Ol.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),DR(e)),this.Oi(t,c,e,fB(r,-1)))})}ki(t,e){let i=new jn(UB(t));return e.forEach((r,o)=>{ER(t,o)&&(i=i.add(o))}),i}Mi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ni(t,e){return dR()<=Ol.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",DR(e)),this.Di.getDocumentsMatchingQuery(t,e,Aa.min())}Oi(t,e,i,r){return this.Di.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}class a5{constructor(t,e,i,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new $i(zt),this.Bi=new Uf(o=>ug(o),aC),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new WU(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function XU(n,t,e,i){return new a5(n,t,e,i)}function e3(n,t){return HR.apply(this,arguments)}function HR(){return HR=(0,be.Z)(function*(n,t){const e=tt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],d=[];let p=Qt();for(const y of r){c.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}for(const y of o){d.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}return e.localDocuments.getDocuments(i,p).next(y=>({Ki:y,removedBatchIds:c,addedBatchIds:d}))})})}),HR.apply(this,arguments)}function l5(n,t){const e=tt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Ui.newChangeBuffer({trackRemovals:!0});return function(c,d,p,y){const C=p.batch,E=C.keys();let M=he.resolve();return E.forEach(P=>{M=M.next(()=>y.getEntry(d,P)).next(F=>{const j=p.docVersions.get(P);Lt(null!==j),F.version.compareTo(j)<0&&(C.applyToRemoteDocument(F,p),F.isValidDocument()&&(F.setReadTime(p.commitVersion),y.addEntry(F)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(d,C))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=Qt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function t3(n){const t=tt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function c5(n,t){const e=tt(n),i=t.snapshotVersion;let r=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Ui.newChangeBuffer({trackRemovals:!0});r=e.$i;const d=[];t.targetChanges.forEach((C,E)=>{const M=r.get(E);if(!M)return;d.push(e.Vs.removeMatchingKeys(o,C.removedDocuments,E).next(()=>e.Vs.addMatchingKeys(o,C.addedDocuments,E)));let P=M.withSequenceNumber(o.currentSequenceNumber);var F,j,te;t.targetMismatches.has(E)?P=P.withResumeToken(xr.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):C.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(C.resumeToken,i)),r=r.insert(E,P),j=P,te=C,(0===(F=M).resumeToken.approximateByteSize()||j.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&d.push(e.Vs.updateTargetData(o,P))});let p=Yo(),y=Qt();if(t.documentUpdates.forEach(C=>{t.resolvedLimboDocuments.has(C)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(o,C))}),d.push(n3(o,c,t.documentUpdates).next(C=>{p=C.Gi,y=C.Qi})),!i.isEqual(Nt.min())){const C=e.Vs.getLastRemoteSnapshotVersion(o).next(E=>e.Vs.setTargetsMetadata(o,o.currentSequenceNumber,i));d.push(C)}return he.waitFor(d).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,p,y)).next(()=>p)}).then(o=>(e.$i=r,o))}function n3(n,t,e){let i=Qt(),r=Qt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=Yo();return e.forEach((d,p)=>{const y=o.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Nt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):Ve("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Gi:c,Qi:r}})}function u5(n,t){const e=tt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function yv(n,t){const e=tt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Vs.getTargetData(i,t).next(o=>o?(r=o,he.resolve(r)):e.Vs.allocateTargetId(i).next(c=>(r=new Hf(t,c,0,i.currentSequenceNumber),e.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function vv(n,t,e){return jR.apply(this,arguments)}function jR(){return jR=(0,be.Z)(function*(n,t,e){const i=tt(n),r=i.$i.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Nf(c))throw c;Ve("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.$i=i.$i.remove(t),i.Bi.delete(r.target)}),jR.apply(this,arguments)}function pI(n,t,e){const i=tt(n);let r=Nt.min(),o=Qt();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,y){const C=tt(d),E=C.Bi.get(y);return void 0!==E?he.resolve(C.$i.get(E)):C.Vs.getTargetData(p,y)}(i,c,Zo(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{o=p})}).next(()=>i.Fi.getDocumentsMatchingQuery(c,t,e?r:Nt.min(),e?o:Qt())).next(d=>(o3(i,BB(t),d),{documents:d,ji:o})))}function r3(n,t){const e=tt(n),i=tt(e.Vs),r=e.$i.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.te(o,t).next(c=>c?c.target:null))}function s3(n,t){const e=tt(n),i=e.Li.get(t)||Nt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Ui.getAllFromCollectionGroup(r,t,fB(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(o3(e,t,r),r))}function o3(n,t,e){let i=Nt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Li.set(t,i)}function zR(){return zR=(0,be.Z)(function*(n,t,e,i){const r=tt(n);let o=Qt(),c=Yo();for(const y of e){const C=t.Wi(y.metadata.name);y.document&&(o=o.add(C));const E=t.zi(y);E.setReadTime(t.Hi(y.metadata.readTime)),c=c.insert(C,E)}const d=r.Ui.newChangeBuffer({trackRemovals:!0}),p=yield yv(r,(y=i,Zo(lv(yn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>n3(y,d,c).next(C=>(d.apply(y),C)).next(C=>r.Vs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Vs.addMatchingKeys(y,o,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,C.Gi,C.Qi)).next(()=>C.Gi)))}),zR.apply(this,arguments)}function h5(n,t){return qR.apply(this,arguments)}function qR(){return qR=(0,be.Z)(function*(n,t,e=Qt()){const i=yield yv(n,Zo(OR(t.bundledQuery))),r=tt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=Yr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ds.saveNamedQuery(o,t);const d=i.withResumeToken(xr.EMPTY_BYTE_STRING,c);return r.$i=r.$i.insert(d.targetId,d),r.Vs.updateTargetData(o,d).next(()=>r.Vs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Vs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ds.saveNamedQuery(o,t))})}),qR.apply(this,arguments)}function a3(n,t){return`firestore_clients_${n}_${t}`}function l3(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function GR(n,t){return`firestore_targets_${n}_${t}`}class mI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Oe(r.error.code,r.error.message))),c?new mI(t,e,r.state,o):(rr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class TC{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Oe(i.error.code,i.error.message))),o?new TC(t,i.state,r):(rr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class gI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=nI();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=CB(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new gI(t,o):(rr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class $R{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new $R(e.clientId,e.onlineState):(rr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class ZR{constructor(){this.activeTargetIds=nI()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class YR{constructor(t,e,i,r,o){this.window=t,this.js=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new $i(zt),this.started=!1,this.ir=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=a3(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new ZR),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,be.Z)(function*(){const e=yield t.syncEngine.Ri();for(const r of e){if(r===t.tr)continue;const o=t.getItem(a3(t.persistenceKey,r));if(o){const c=gI.Ji(r,o);c&&(t.sr=t.sr.insert(c.clientId,c))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(GR(this.persistenceKey,t));if(i){const r=TC.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(GR(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ve("SharedClientState","READ",t,e),e}setItem(t,e){Ve("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ve("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ve("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,be.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.ar.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(o){let c=$o.ot;if(null!=o)try{const d=JSON.parse(o);Lt("number"==typeof d),c=d}catch(d){rr("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==$o.ot&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Nr(o)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new mI(this.currentUser,t,e,i),o=l3(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Yi())}pr(t){const e=l3(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=GR(this.persistenceKey,t),o=new TC(t,e,i);this.setItem(r,o.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return gI.Ji(i,e)}vr(t,e){const i=this.ar.exec(t),r=Number(i[1]);return mI.Ji(new $r(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return TC.Ji(r,e)}wr(t){return $R.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,be.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),o=this.gr(i),c=[],d=[];return o.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{o.has(p)||d.push(p)}),this.syncEngine.Or(c,d).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=nI();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class c3{constructor(){this.Fr=new ZR,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new ZR,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class f5{Br(t){}shutdown(){}}class u3{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const p5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class m5{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class g5 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,o){const c=this.oo(t,e);Ve("RestConnection","Sending: ",c,i);const d={};return this.uo(d,r,o),this.co(t,c,d,i).then(p=>(Ve("RestConnection","Received: ",p),p),p=>{throw ig("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}ao(t,e,i,r,o,c){return this.ro(t,e,i,r,o)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+iv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}oo(t,e){return`${this.so}/v1/${e}:${p5[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((o,c)=>{const d=new f$;d.listenOnce(u$.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case uR.NO_ERROR:const y=d.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(y)),o(y);break;case uR.TIMEOUT:Ve("Connection",'RPC "'+t+'" timed out'),c(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case uR.HTTP_ERROR:const C=d.getStatus();if(Ve("Connection",'RPC "'+t+'" failed with status:',C,"response text:",d.getResponseText()),C>0){const E=d.getResponseJson().error;if(E&&E.status&&E.message){const M=function(P){const F=P.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(F)>=0?F:me.UNKNOWN}(E.status);c(new Oe(M,E.message))}else c(new Oe(me.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Ve("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);d.send(e,"POST",p,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=l$(),c=c$(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new h$({})),this.uo(d.initMessageHeaders,e,i),(0,N.uI)()||(0,N.b$)()||(0,N.d)()||(0,N.w1)()||(0,N.Mn)()||(0,N.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Ve("Connection","Creating WebChannel: "+p,d);const y=o.createWebChannel(p,d);let C=!1,E=!1;const M=new m5({jr:F=>{E?Ve("Connection","Not sending because WebChannel is closed:",F):(C||(Ve("Connection","Opening WebChannel transport."),y.open(),C=!0),Ve("Connection","WebChannel sending:",F),y.send(F))},Wr:()=>y.close()}),P=(F,j,te)=>{F.listen(j,Re=>{try{te(Re)}catch(Ge){setTimeout(()=>{throw Ge},0)}})};return P(y,zT.EventType.OPEN,()=>{E||Ve("Connection","WebChannel transport opened.")}),P(y,zT.EventType.CLOSE,()=>{E||(E=!0,Ve("Connection","WebChannel transport closed"),M.eo())}),P(y,zT.EventType.ERROR,F=>{E||(E=!0,ig("Connection","WebChannel transport errored:",F),M.eo(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),P(y,zT.EventType.MESSAGE,F=>{var j;if(!E){const te=F.data[0];Lt(!!te);const Re=te,Ge=Re.error||(null===(j=Re[0])||void 0===j?void 0:j.error);if(Ge){Ve("Connection","WebChannel received error:",Ge);const We=Ge.status;let Ze=function(St){const rn=vr[St];if(void 0!==rn)return tU(rn)}(We),bt=Ge.message;void 0===Ze&&(Ze=me.INTERNAL,bt="Unknown error status: "+We+" with message "+Ge.message),E=!0,M.eo(new Oe(Ze,bt)),y.close()}else Ve("Connection","WebChannel received:",te),M.no(te)}}),P(c,d$.STAT_EVENT,F=>{F.stat===aB.PROXY?Ve("Connection","Detected buffering proxy"):F.stat===aB.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.Zr()},0),M}}function d3(){return typeof window<"u"?window:null}function _I(){return typeof document<"u"?document:null}function IC(n){return new oZ(n,!0)}class WR{constructor(t,e,i=1e3,r=1.5,o=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=r,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&Ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class h3{constructor(t,e,i,r,o,c,d,p){this.js=t,this.Ao=i,this.Ro=r,this.bo=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new WR(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,be.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,be.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,be.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(rr(e.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Oe(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,be.Z)(function*(){t.state=0,t.start()}))}qo(t){return Ve("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _5 extends h3{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.wt=o}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function cZ(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:ft(),r=t.targetChange.targetIds||[],o=function(p,y){return p.dt?(Lt(void 0===y||"string"==typeof y),xr.fromBase64String(y||"")):(Lt(void 0===y||y instanceof Uint8Array),xr.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const y=void 0===p.code?me.UNKNOWN:tU(p.code);return new Oe(y,p.message||"")}(c);e=new oU(i,r,o,d||null)}else if("documentChange"in t){const i=t.documentChange,r=Au(n,i.document.name),o=Yr(i.document.updateTime),c=new hs({mapValue:{fields:i.document.fields}}),d=ni.newFoundDocument(r,o,c);e=new iI(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=Au(n,i.document),o=i.readTime?Yr(i.readTime):Nt.min(),c=ni.newNoDocument(r,o);e=new iI([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=Au(n,i.document);e=new iI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ft();{const i=t.filter,o=new J$(i.count||0);e=new sU(i.targetId,o)}}var p;return e}(this.wt,t),i=function(r){if(!("targetChange"in r))return Nt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Nt.min():o.readTime?Yr(o.readTime):Nt.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=_C(this.wt),e.addTarget=function(r,o){let c;const d=o.target;return c=KT(d)?{documents:gU(r,d)}:{query:_U(r,d)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=uU(r,o.resumeToken):o.snapshotVersion.compareTo(Nt.min())>0&&(c.readTime=mC(r,o.snapshotVersion.toTimestamp())),c}(this.wt,t);const i=function dZ(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Oo(e)}jo(t){const e={};e.database=_C(this.wt),e.removeTarget=t,this.Oo(e)}}class y5 extends h3{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.wt=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Lt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function uZ(n,t){return n&&n.length>0?(Lt(void 0!==t),n.map(e=>function(i,r){let o=Yr(i.updateTime?i.updateTime:r);return o.isEqual(Nt.min())&&(o=Yr(r)),new W$(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Yr(t.commitTime);return this.listener.Jo(i,e)}return Lt(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=_C(this.wt),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>yC(this.wt,i))};this.Oo(e)}}class v5 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.ro(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(me.UNKNOWN,r.toString())})}ao(t,e,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.bo.ao(t,e,i,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(me.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class b5{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(rr(e),this.su=!1):Ve("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class w5{constructor(t,e,i,r,o){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(d=>{i.enqueueAndForget((0,be.Z)(function*(){var p;qf(c)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,be.Z)(function*(y){const C=tt(y);C.lu.add(4),yield bv(C),C._u.set("Unknown"),C.lu.delete(4),yield xC(C)}),function(y){return p.apply(this,arguments)})(c))}))}),this._u=new b5(i,r)}}function xC(n){return KR.apply(this,arguments)}function KR(){return KR=(0,be.Z)(function*(n){if(qf(n))for(const t of n.fu)yield t(!0)}),KR.apply(this,arguments)}function bv(n){return QR.apply(this,arguments)}function QR(){return QR=(0,be.Z)(function*(n){for(const t of n.fu)yield t(!1)}),QR.apply(this,arguments)}function yI(n,t){const e=tt(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),eO(e)?XR(e):Cv(e).Co()&&JR(e,t))}function AC(n,t){const e=tt(n),i=Cv(e);e.hu.delete(t),i.Co()&&f3(e,t),0===e.hu.size&&(i.Co()?i.ko():qf(e)&&e._u.set("Unknown"))}function JR(n,t){n.wu.Nt(t.targetId),Cv(n).Qo(t)}function f3(n,t){n.wu.Nt(t),Cv(n).jo(t)}function XR(n){n.wu=new iZ({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),Cv(n).start(),n._u.iu()}function eO(n){return qf(n)&&!Cv(n).Do()&&n.hu.size>0}function qf(n){return 0===tt(n).lu.size}function p3(n){n.wu=void 0}function C5(n){return tO.apply(this,arguments)}function tO(){return tO=(0,be.Z)(function*(n){n.hu.forEach((t,e)=>{JR(n,t)})}),tO.apply(this,arguments)}function D5(n,t){return nO.apply(this,arguments)}function nO(){return nO=(0,be.Z)(function*(n,t){p3(n),eO(n)?(n._u.uu(t),XR(n)):n._u.set("Unknown")}),nO.apply(this,arguments)}function E5(n,t,e){return iO.apply(this,arguments)}function iO(){return iO=(0,be.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof oU&&2===t.state&&t.cause)try{yield(i=(0,be.Z)(function*(r,o){const c=o.cause;for(const d of o.targetIds)r.hu.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.hu.delete(d),r.wu.removeTarget(d))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Ve("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield vI(n,i)}else if(t instanceof iI?n.wu.Ut(t):t instanceof sU?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(Nt.min()))try{const i=yield t3(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const c=r.wu.Yt(o);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=r.hu.get(p);y&&r.hu.set(p,y.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach(d=>{const p=r.hu.get(d);if(!p)return;r.hu.set(d,p.withResumeToken(xr.EMPTY_BYTE_STRING,p.snapshotVersion)),f3(r,d);const y=new Hf(p.target,d,1,p.sequenceNumber);JR(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Ve("RemoteStore","Failed to raise snapshot:",i),yield vI(n,i)}var i}),iO.apply(this,arguments)}function vI(n,t,e){return rO.apply(this,arguments)}function rO(){return rO=(0,be.Z)(function*(n,t,e){if(!Nf(t))throw t;n.lu.add(1),yield bv(n),n._u.set("Offline"),e||(e=()=>t3(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield xC(n)}))}),rO.apply(this,arguments)}function m3(n,t){return t().catch(e=>vI(n,e,t))}function wv(n){return sO.apply(this,arguments)}function sO(){return sO=(0,be.Z)(function*(n){const t=tt(n),e=Gf(t);let i=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;S5(t);)try{const r=yield u5(t.localStore,i);if(null===r){0===t.au.length&&e.ko();break}i=r.batchId,T5(t,r)}catch(r){yield vI(t,r)}g3(t)&&_3(t)}),sO.apply(this,arguments)}function S5(n){return qf(n)&&n.au.length<10}function T5(n,t){n.au.push(t);const e=Gf(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function g3(n){return qf(n)&&!Gf(n).Do()&&n.au.length>0}function _3(n){Gf(n).start()}function I5(n){return oO.apply(this,arguments)}function oO(){return oO=(0,be.Z)(function*(n){Gf(n).Xo()}),oO.apply(this,arguments)}function x5(n){return aO.apply(this,arguments)}function aO(){return aO=(0,be.Z)(function*(n){const t=Gf(n);for(const e of n.au)t.Ho(e.mutations)}),aO.apply(this,arguments)}function A5(n,t,e){return lO.apply(this,arguments)}function lO(){return lO=(0,be.Z)(function*(n,t,e){const i=n.au.shift(),r=kR.from(i,t,e);yield m3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield wv(n)}),lO.apply(this,arguments)}function M5(n,t){return cO.apply(this,arguments)}function cO(){return cO=(0,be.Z)(function*(n,t){var e;t&&Gf(n).zo&&(yield(e=(0,be.Z)(function*(i,r){if(eU(o=r.code)&&o!==me.ABORTED){const c=i.au.shift();Gf(i).No(),yield m3(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield wv(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),g3(n)&&_3(n)}),cO.apply(this,arguments)}function y3(n,t){return uO.apply(this,arguments)}function uO(){return uO=(0,be.Z)(function*(n,t){const e=tt(n);e.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const i=qf(e);e.lu.add(3),yield bv(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield xC(e)}),uO.apply(this,arguments)}function dO(n,t){return hO.apply(this,arguments)}function hO(){return hO=(0,be.Z)(function*(n,t){const e=tt(n);t?(e.lu.delete(2),yield xC(e)):t||(e.lu.add(2),yield bv(e),e._u.set("Unknown"))}),hO.apply(this,arguments)}function Cv(n){return n.mu||(n.mu=function(t,e,i){const r=tt(t);return r.tu(),new _5(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:C5.bind(null,n),Jr:D5.bind(null,n),Go:E5.bind(null,n)}),n.fu.push(function(){var t=(0,be.Z)(function*(e){e?(n.mu.No(),eO(n)?XR(n):n._u.set("Unknown")):(yield n.mu.stop(),p3(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function Gf(n){return n.gu||(n.gu=function(t,e,i){const r=tt(t);return r.tu(),new y5(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:I5.bind(null,n),Jr:M5.bind(null,n),Yo:x5.bind(null,n),Jo:A5.bind(null,n)}),n.fu.push(function(){var t=(0,be.Z)(function*(e){e?(n.gu.No(),yield wv(n)):(yield n.gu.stop(),n.au.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class fO{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,d=new fO(t,e,c,r,o);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dv(n,t){if(rr("AsyncQueue",`${t}: ${n}`),Nf(n))return new Oe(me.UNAVAILABLE,`${t}: ${n}`);throw n}class Ev{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Je.comparator(e.key,i.key):(e,i)=>Je.comparator(e.key,i.key),this.keyedMap=dC(),this.sortedSet=new $i(this.comparator)}static emptySet(t){return new Ev(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ev)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Ev;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class v3{constructor(){this.yu=new $i(Je.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):ft():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Sv{constructor(t,e,i,r,o,c,d,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new Sv(t,e,Ev.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class k5{constructor(){this.Iu=void 0,this.listeners=[]}}class R5{constructor(){this.queries=new Uf(t=>VB(t),lC),this.onlineState="Unknown",this.Tu=new Set}}function pO(n,t){return mO.apply(this,arguments)}function mO(){return mO=(0,be.Z)(function*(n,t){const e=tt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new k5),r)try{o.Iu=yield e.onListen(i)}catch(c){const d=Dv(c,`Initialization of query '${DR(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,o),o.listeners.push(t),t.Eu(e.onlineState),o.Iu&&t.Au(o.Iu)&&yO(e)}),mO.apply(this,arguments)}function gO(n,t){return _O.apply(this,arguments)}function _O(){return _O=(0,be.Z)(function*(n,t){const e=tt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const c=o.listeners.indexOf(t);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),_O.apply(this,arguments)}function O5(n,t){const e=tt(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Au(r)&&(i=!0);c.Iu=r}}i&&yO(e)}function P5(n,t,e){const i=tt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function yO(n){n.Tu.forEach(t=>{t.next()})}class vO{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Sv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=Sv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class N5{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class b3{constructor(t){this.wt=t}Wi(t){return Au(this.wt,t)}zi(t){return t.metadata.exists?mU(this.wt,t.document,!1):ni.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return Yr(t)}}class F5{constructor(t,e,i){this.xu=t,this.localStore=e,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=w3(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=yn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new b3(this.wt);for(const r of t)if(r.metadata.queries){const o=i.Wi(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||Qt()).add(o);e.set(c,d)}}return e}complete(){var t=this;return(0,be.Z)(function*(){const e=yield function d5(n,t,e,i){return zR.apply(this,arguments)}(t.localStore,new b3(t.wt),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield h5(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function w3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class C3{constructor(t){this.key=t}}class D3{constructor(t){this.key=t}}class E3{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=Qt(),this.mutatedKeys=Qt(),this.Lu=UB(t),this.Uu=new Ev(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new v3,r=e?e.Uu:this.Uu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((C,E)=>{const M=r.get(C),P=ER(this.query,E)?E:null,F=!!M&&this.mutatedKeys.has(M.key),j=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let te=!1;M&&P?M.data.isEqual(P.data)?F!==j&&(i.track({type:3,doc:P}),te=!0):this.Qu(M,P)||(i.track({type:2,doc:P}),te=!0,(p&&this.Lu(P,p)>0||y&&this.Lu(P,y)<0)&&(d=!0)):!M&&P?(i.track({type:0,doc:P}),te=!0):M&&!P&&(i.track({type:1,doc:M}),te=!0,(p||y)&&(d=!0)),te&&(P?(c=c.add(P),o=j?o.add(C):o.delete(C)):(c=c.delete(C),o=o.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),o=o.delete(C.key),i.track({type:1,doc:C})}return{Uu:c,Gu:i,Mi:d,mutatedKeys:o}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const o=t.Gu.pu();o.sort((y,C)=>function(E,M){const P=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return P(E)-P(M)}(y.type,C.type)||this.Lu(y.doc,C.doc)),this.ju(i);const c=e?this.Wu():[],d=0===this.Bu.size&&this.current?1:0,p=d!==this.$u;return this.$u=d,0!==o.length||p?{snapshot:new Sv(this.query,t.Uu,r,o,t.mutatedKeys,0===d,p,!1),zu:c}:{zu:c}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new v3,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Qt(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new D3(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new C3(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=Qt();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return Sv.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class L5{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class V5{constructor(t){this.key=t,this.Xu=!1}}class B5{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new Uf(d=>VB(d),lC),this.ec=new Map,this.nc=new Set,this.sc=new $i(Je.comparator),this.ic=new Map,this.rc=new FR,this.oc={},this.uc=new Map,this.cc=vg.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function U5(n,t){return bO.apply(this,arguments)}function bO(){return bO=(0,be.Z)(function*(n,t){const e=zO(n);let i,r;const o=e.tc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Yu();else{const c=yield yv(e.localStore,Zo(t));e.isPrimaryClient&&yI(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield wO(e,t,i,"current"===d)}return r}),bO.apply(this,arguments)}function wO(n,t,e,i){return CO.apply(this,arguments)}function CO(){return CO=(0,be.Z)(function*(n,t,e,i){n.hc=(C,E,M)=>{return(P=(0,be.Z)(function*(F,j,te,Re){let Ge=j.view.Ku(te);Ge.Mi&&(Ge=yield pI(F.localStore,j.query,!1).then(({documents:bt})=>j.view.Ku(bt,Ge)));const We=Re&&Re.targetChanges.get(j.targetId),Ze=j.view.applyChanges(Ge,F.isPrimaryClient,We);return RO(F,j.targetId,Ze.zu),Ze.snapshot}),function(F,j,te,Re){return P.apply(this,arguments)})(n,C,E,M);var P};const r=yield pI(n.localStore,t,!0),o=new E3(t,r.ji),c=o.Ku(r.documents),d=pC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),p=o.applyChanges(c,n.isPrimaryClient,d);RO(n,e,p.zu);const y=new L5(t,e,o);return n.tc.set(t,y),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),p.snapshot}),CO.apply(this,arguments)}function H5(n,t){return DO.apply(this,arguments)}function DO(){return DO=(0,be.Z)(function*(n,t){const e=tt(n),i=e.tc.get(t),r=e.ec.get(i.targetId);if(r.length>1)return e.ec.set(i.targetId,r.filter(o=>!lC(o,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield vv(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),AC(e.remoteStore,i.targetId),Tv(e,i.targetId)}).catch(Pf))):(Tv(e,i.targetId),yield vv(e.localStore,i.targetId,!0))}),DO.apply(this,arguments)}function EO(){return EO=(0,be.Z)(function*(n,t,e){const i=qO(n);try{const r=yield function(o,c){const d=tt(o),p=bi.now(),y=c.reduce((M,P)=>M.add(P.key),Qt());let C,E;return d.persistence.runTransaction("Locally write mutations","readwrite",M=>{let P=Yo(),F=Qt();return d.Ui.getEntries(M,y).next(j=>{P=j,P.forEach((te,Re)=>{Re.isValidDocument()||(F=F.add(te))})}).next(()=>d.localDocuments.getOverlayedDocuments(M,P)).next(j=>{C=j;const te=[];for(const Re of c){const Ge=Q$(Re,C.get(Re.key).overlayedDocument);null!=Ge&&te.push(new oh(Re.key,Ge,AB(Ge.value.mapValue),Pi.exists(!0)))}return d.mutationQueue.addMutationBatch(M,p,te,c)}).next(j=>{E=j;const te=j.applyToLocalDocumentSet(C,F);return d.documentOverlayCache.saveOverlays(M,j.batchId,te)})}).then(()=>({batchId:E.batchId,changes:iU(C)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,d){let p=o.oc[o.currentUser.toKey()];p||(p=new $i(zt)),p=p.insert(c,d),o.oc[o.currentUser.toKey()]=p}(i,r.batchId,e),yield ah(i,r.changes),yield wv(i.remoteStore)}catch(r){const o=Dv(r,"Failed to persist write");e.reject(o)}}),EO.apply(this,arguments)}function S3(n,t){return SO.apply(this,arguments)}function SO(){return SO=(0,be.Z)(function*(n,t){const e=tt(n);try{const i=yield c5(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.ic.get(o);c&&(Lt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Xu=!0:r.modifiedDocuments.size>0?Lt(c.Xu):r.removedDocuments.size>0&&(Lt(c.Xu),c.Xu=!1))}),yield ah(e,i,t)}catch(i){yield Pf(i)}}),SO.apply(this,arguments)}function T3(n,t,e){const i=tt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.tc.forEach((o,c)=>{const d=c.view.Eu(t);d.snapshot&&r.push(d.snapshot)}),function(o,c){const d=tt(o);d.onlineState=c;let p=!1;d.queries.forEach((y,C)=>{for(const E of C.listeners)E.Eu(c)&&(p=!0)}),p&&yO(d)}(i.eventManager,t),r.length&&i.Zu.Go(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function z5(n,t,e){return TO.apply(this,arguments)}function TO(){return TO=(0,be.Z)(function*(n,t,e){const i=tt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ic.get(t),o=r&&r.key;if(o){let c=new $i(Je.comparator);c=c.insert(o,ni.newNoDocument(o,Nt.min()));const d=Qt().add(o),p=new fC(Nt.min(),new Map,new jn(zt),c,d);yield S3(i,p),i.sc=i.sc.remove(o),i.ic.delete(t),OO(i)}else yield vv(i.localStore,t,!1).then(()=>Tv(i,t,e)).catch(Pf)}),TO.apply(this,arguments)}function q5(n,t){return IO.apply(this,arguments)}function IO(){return IO=(0,be.Z)(function*(n,t){const e=tt(n),i=t.batch.batchId;try{const r=yield l5(e.localStore,t);kO(e,i,null),MO(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ah(e,r)}catch(r){yield Pf(r)}}),IO.apply(this,arguments)}function G5(n,t,e){return xO.apply(this,arguments)}function xO(){return xO=(0,be.Z)(function*(n,t,e){const i=tt(n);try{const r=yield function(o,c){const d=tt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,c).next(C=>(Lt(null!==C),y=C.keys(),d.mutationQueue.removeMutationBatch(p,C))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(i.localStore,t);kO(i,t,e),MO(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ah(i,r)}catch(r){yield Pf(r)}}),xO.apply(this,arguments)}function AO(){return AO=(0,be.Z)(function*(n,t){const e=tt(n);qf(e.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=tt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.uc.get(i)||[];r.push(t),e.uc.set(i,r)}catch(i){const r=Dv(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),AO.apply(this,arguments)}function MO(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function kO(n,t,e){const i=tt(n);let r=i.oc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.oc[i.currentUser.toKey()]=r}}function Tv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||I3(n,i)})}function I3(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(AC(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),OO(n))}function RO(n,t,e){for(const i of e)i instanceof C3?(n.rc.addReference(i.key,t),Z5(n,i)):i instanceof D3?(Ve("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||I3(n,i.key)):ft()}function Z5(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||(Ve("SyncEngine","New document in limbo: "+e),n.nc.add(i),OO(n))}function OO(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new Je(yn.fromString(t)),i=n.cc.next();n.ic.set(i,new V5(e)),n.sc=n.sc.insert(e,i),yI(n.remoteStore,new Hf(Zo(lv(e.path)),i,2,$o.ot))}}function ah(n,t,e){return PO.apply(this,arguments)}function PO(){return PO=(0,be.Z)(function*(n,t,e){const i=tt(n),r=[],o=[],c=[];var d;i.tc.isEmpty()||(i.tc.forEach((d,p)=>{c.push(i.hc(p,t,e).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),r.push(y);const C=UR.Vi(p.targetId,y);o.push(C)}}))}),yield Promise.all(c),i.Zu.Go(r),yield(d=(0,be.Z)(function*(p,y){const C=tt(p);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>he.forEach(y,M=>he.forEach(M.Pi,P=>C.persistence.referenceDelegate.addReference(E,M.targetId,P)).next(()=>he.forEach(M.vi,P=>C.persistence.referenceDelegate.removeReference(E,M.targetId,P)))))}catch(E){if(!Nf(E))throw E;Ve("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const M=E.targetId;if(!E.fromCache){const P=C.$i.get(M),j=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);C.$i=C.$i.insert(M,j)}}}),function(p,y){return d.apply(this,arguments)})(i.localStore,o))}),PO.apply(this,arguments)}function Y5(n,t){return NO.apply(this,arguments)}function NO(){return NO=(0,be.Z)(function*(n,t){const e=tt(n);if(!e.currentUser.isEqual(t)){Ve("SyncEngine","User change. New user:",t.toKey());const i=yield e3(e.localStore,t);e.currentUser=t,(r=e).uc.forEach(c=>{c.forEach(d=>{d.reject(new Oe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ah(e,i.Ki)}var r}),NO.apply(this,arguments)}function W5(n,t){const e=tt(n),i=e.ic.get(t);if(i&&i.Xu)return Qt().add(i.key);{let r=Qt();const o=e.ec.get(t);if(!o)return r;for(const c of o){const d=e.tc.get(c);r=r.unionWith(d.view.qu)}return r}}function K5(n,t){return FO.apply(this,arguments)}function FO(){return FO=(0,be.Z)(function*(n,t){const e=tt(n),i=yield pI(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&RO(e,t.targetId,r.zu),r}),FO.apply(this,arguments)}function Q5(n,t){return LO.apply(this,arguments)}function LO(){return LO=(0,be.Z)(function*(n,t){const e=tt(n);return s3(e.localStore,t).then(i=>ah(e,i))}),LO.apply(this,arguments)}function J5(n,t,e,i){return VO.apply(this,arguments)}function VO(){return VO=(0,be.Z)(function*(n,t,e,i){const r=tt(n),o=yield function(c,d){const p=tt(c),y=tt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",C=>y.yn(C,d).next(E=>E?p.localDocuments.getDocuments(C,E):he.resolve(null)))}(r.localStore,t);var d;null!==o?("pending"===e?yield wv(r.remoteStore):"acknowledged"===e||"rejected"===e?(kO(r,t,i||null),MO(r,t),d=t,tt(tt(r.localStore).mutationQueue).In(d)):ft(),yield ah(r,o)):Ve("SyncEngine","Cannot apply mutation batch with id: "+t)}),VO.apply(this,arguments)}function BO(){return BO=(0,be.Z)(function*(n,t){const e=tt(n);if(zO(e),qO(e),!0===t&&!0!==e.ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield x3(e,i.toArray());e.ac=!0,yield dO(e.remoteStore,!0);for(const o of r)yI(e.remoteStore,o)}else if(!1===t&&!1!==e.ac){const i=[];let r=Promise.resolve();e.ec.forEach((o,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Tv(e,c),vv(e.localStore,c,!0))),AC(e.remoteStore,c)}),yield r,yield x3(e,i),function(o){const c=tt(o);c.ic.forEach((d,p)=>{AC(c.remoteStore,p)}),c.rc.cs(),c.ic=new Map,c.sc=new $i(Je.comparator)}(e),e.ac=!1,yield dO(e.remoteStore,!1)}}),BO.apply(this,arguments)}function x3(n,t,e){return UO.apply(this,arguments)}function UO(){return UO=(0,be.Z)(function*(n,t,e){const i=tt(n),r=[],o=[];for(const c of t){let d;const p=i.ec.get(c);if(p&&0!==p.length){d=yield yv(i.localStore,Zo(p[0]));for(const y of p){const C=i.tc.get(y),E=yield K5(i,C);E.snapshot&&o.push(E.snapshot)}}else{const y=yield r3(i.localStore,c);d=yield yv(i.localStore,y),yield wO(i,A3(y),c,!1)}r.push(d)}return i.Zu.Go(o),r}),UO.apply(this,arguments)}function A3(n){return FB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eY(n){const t=tt(n);return tt(tt(t.localStore).persistence).Ri()}function tY(n,t,e,i){return HO.apply(this,arguments)}function HO(){return HO=(0,be.Z)(function*(n,t,e,i){const r=tt(n);if(r.ac)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const o=r.ec.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const c=yield s3(r.localStore,BB(o[0])),d=fC.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield ah(r,c,d);break}case"rejected":yield vv(r.localStore,t,!0),Tv(r,t,i);break;default:ft()}}),HO.apply(this,arguments)}function nY(n,t,e){return jO.apply(this,arguments)}function jO(){return jO=(0,be.Z)(function*(n,t,e){const i=zO(n);if(i.ac){for(const r of t){if(i.ec.has(r)){Ve("SyncEngine","Adding an already active target "+r);continue}const o=yield r3(i.localStore,r),c=yield yv(i.localStore,o);yield wO(i,A3(o),c.targetId,!1),yI(i.remoteStore,c)}for(const r of e)i.ec.has(r)&&(yield vv(i.localStore,r,!1).then(()=>{AC(i.remoteStore,r),Tv(i,r)}).catch(Pf))}}),jO.apply(this,arguments)}function zO(n){const t=tt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=S3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=W5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=z5.bind(null,t),t.Zu.Go=O5.bind(null,t.eventManager),t.Zu.lc=P5.bind(null,t.eventManager),t}function qO(n){const t=tt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=q5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=G5.bind(null,t),t}class M3{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,be.Z)(function*(){e.wt=IC(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return XU(this.persistence,new JU,t.initialUser,this.wt)}_c(t){return new KU(hI.Os,this.wt)}dc(t){return new c3}terminate(){var t=this;return(0,be.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class k3 extends M3{constructor(t,e,i){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t),yield i.yc.initialize(i,t),yield qO(i.yc.syncEngine),yield wv(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return XU(this.persistence,new JU,t.initialUser,this.wt)}mc(t,e){return new $Z(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const i=new A$(e,this.persistence);return new x$(t.asyncQueue,i)}_c(t){const e=BR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Wo.withCacheSize(this.cacheSizeBytes):Wo.DEFAULT;return new VR(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,d3(),_I(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new c3}}class rY extends k3{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t);const r=i.yc.syncEngine;i.sharedClientState instanceof YR&&(i.sharedClientState.syncEngine={kr:J5.bind(null,r),Mr:tY.bind(null,r),Or:nY.bind(null,r),Ri:eY.bind(null,r),Nr:Q5.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var o=(0,be.Z)(function*(c){yield function X5(n,t){return BO.apply(this,arguments)}(i.yc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}dc(t){const e=d3();if(!YR.V(e))throw new Oe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=BR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new YR(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class GO{initialize(t,e){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>T3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Y5.bind(null,i.syncEngine),yield dO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new R5}createDatastore(t){const e=IC(t.databaseInfo.databaseId),i=new g5(t.databaseInfo);return new v5(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=d=>T3(this.syncEngine,d,0),c=u3.V()?new u3:new f5,new w5(e,i,r,o,c);var e,i,r,o,c}createSyncEngine(t,e){return function(i,r,o,c,d,p,y){const C=new B5(i,r,o,c,d,p);return y&&(C.ac=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,be.Z)(function*(e){const i=tt(e);Ve("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield bv(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function R3(n,t=10240){let e=0;return{read:()=>(0,be.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class bI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):rr("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class sY{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new Zr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,be.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,be.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,be.Z)(function*(){const e=yield t.bc();if(null===e)return null;const i=t.Ac.decode(e),r=Number(i);isNaN(r)&&t.Pc(`length string (${i}) is not valid number`);const o=yield t.vc(r);return new N5(JSON.parse(o),e.length+r)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,be.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}vc(t){var e=this;return(0,be.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const i=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,be.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class oY{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Oe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(o,c){const d=tt(o),p=_C(d.wt)+"/documents",y={documents:c.map(P=>gC(d.wt,P))},C=yield d.ao("BatchGetDocuments",p,y,c.length),E=new Map;C.forEach(P=>{const F=function lZ(n,t){return"found"in t?function(e,i){Lt(!!i.found);const r=Au(e,i.found.name),o=Yr(i.found.updateTime),c=new hs({mapValue:{fields:i.found.fields}});return ni.newFoundDocument(r,o,c)}(n,t):"missing"in t?function(e,i){Lt(!!i.missing),Lt(!!i.readTime);const r=Au(e,i.missing),o=Yr(i.readTime);return ni.newNoDocument(r,o)}(n,t):ft()}(d.wt,P);E.set(F.key.toString(),F)});const M=[];return c.forEach(P=>{const F=E.get(P.toString());Lt(!!F),M.push(F)}),M}),function(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new fv(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Je.fromPath(r);t.mutations.push(new SR(o,t.precondition(o)))}),yield(i=(0,be.Z)(function*(r,o){const c=tt(r),d=_C(c.wt)+"/documents",p={writes:o.map(y=>yC(c.wt,y))};yield c.ro("Commit",d,p)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ft();e=Nt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Oe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Pi.updateTime(e):Pi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Nt.min()))throw new Oe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pi.updateTime(e)}return Pi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class aY{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Dc=i.maxAttempts,this.So=new WR(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,be.Z)(function*(){const e=new oY(t.datastore),i=t.xc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Nc(o)}))}).catch(r=>{t.Nc(r)})}))}xc(t){try{const e=this.updateFunction(t);return!nC(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!eU(e)}return!1}}class lY{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=$r.UNAUTHENTICATED,this.clientId=dB.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,be.Z)(function*(d){Ve("FirestoreClient","Received user=",d.uid),yield o.authCredentialListener(d),o.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ve("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,be.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Dv(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function O3(n,t){return $O.apply(this,arguments)}function $O(){return $O=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(o){i.isEqual(o)||(yield e3(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),$O.apply(this,arguments)}function P3(n,t){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield YO(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>y3(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>y3(t.remoteStore,o)),n.onlineComponents=t}),ZO.apply(this,arguments)}function YO(n){return WO.apply(this,arguments)}function WO(){return WO=(0,be.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield O3(n,new M3)),n.offlineComponents}),WO.apply(this,arguments)}function wI(n){return KO.apply(this,arguments)}function KO(){return KO=(0,be.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield P3(n,new GO)),n.onlineComponents}),KO.apply(this,arguments)}function N3(n){return YO(n).then(t=>t.persistence)}function CI(n){return YO(n).then(t=>t.localStore)}function F3(n){return wI(n).then(t=>t.remoteStore)}function QO(n){return wI(n).then(t=>t.syncEngine)}function Iv(n){return JO.apply(this,arguments)}function JO(){return JO=(0,be.Z)(function*(n){const t=yield wI(n),e=t.eventManager;return e.onListen=U5.bind(null,t.syncEngine),e.onUnlisten=H5.bind(null,t.syncEngine),e}),JO.apply(this,arguments)}function L3(n,t,e={}){const i=new Zr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,o,c,d,p){const y=new bI({next:E=>{o.enqueueAndForget(()=>gO(r,C));const M=E.docs.has(c);!M&&E.fromCache?p.reject(new Oe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&E.fromCache&&d&&"server"===d.source?p.reject(new Oe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),C=new vO(lv(c.path),y,{includeMetadataChanges:!0,Du:!0});return pO(r,C)}(yield Iv(n),n.asyncQueue,t,e,i)})),i.promise}function V3(n,t,e={}){const i=new Zr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,o,c,d,p){const y=new bI({next:E=>{o.enqueueAndForget(()=>gO(r,C)),E.fromCache&&"server"===d.source?p.reject(new Oe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),C=new vO(c,y,{includeMetadataChanges:!0,Du:!0});return pO(r,C)}(yield Iv(n),n.asyncQueue,t,e,i)})),i.promise}const B3=new Map;function XO(n,t,e){if(!e)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function U3(n,t,e,i){if(!0===t&&!0===i)throw new Oe(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function H3(n){if(!Je.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function j3(n){if(Je.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ft()}function gn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=DI(n);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function z3(n,t){if(t<=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class q3{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,U3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class MC{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q3({}),this._settingsFrozen=!1,t instanceof rh?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(r.options.projectId)}(t))}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q3(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new g$;switch(e.type){case"gapi":const i=e.client;return Lt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new b$(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=B3.get(t);e&&(Ve("ComponentProvider","Removing Datastore"),B3.delete(t),e.terminate())}(this),Promise.resolve()}}class ci{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ci(this.firestore,t,this._key)}}class ks{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ks(this.firestore,t,this._query)}}class ku extends ks{constructor(t,e,i){super(t,e,lv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ci(this.firestore,null,new Je(t))}withConverter(t){return new ku(this.firestore,t,this._path)}}function G3(n,t,...e){if(n=(0,N.m9)(n),XO("collection","path",t),n instanceof MC){const i=yn.fromString(t,...e);return j3(i),new ku(n,null,i)}{if(!(n instanceof ci||n instanceof ku))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(t,...e));return j3(i),new ku(n.firestore,null,i)}}function EI(n,t,...e){if(n=(0,N.m9)(n),1===arguments.length&&(t=dB.I()),XO("doc","path",t),n instanceof MC){const i=yn.fromString(t,...e);return H3(i),new ci(n,null,new Je(i))}{if(!(n instanceof ci||n instanceof ku))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(t,...e));return H3(i),new ci(n.firestore,n instanceof ku?n.converter:null,new Je(i))}}function $3(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),(n instanceof ci||n instanceof ku)&&(t instanceof ci||t instanceof ku)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Z3(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),n instanceof ks&&t instanceof ks&&n.firestore===t.firestore&&lC(n._query,t._query)&&n.converter===t.converter}class vY{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new WR(this,"async_queue_retry"),this.Kc=()=>{const e=_I();e&&Ve("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=_I();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=_I();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new Zr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Oc.push(t),this.jc()))}jc(){var t=this;return(0,be.Z)(function*(){if(0!==t.Oc.length){try{yield t.Oc[0](),t.Oc.shift(),t.So.reset()}catch(e){if(!Nf(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}t.Oc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Mc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,rr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Mc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=fO.createAndSchedule(this,t,e,i,o=>this.Wc(o));return this.$c.push(r),r}Gc(){this.Bc&&ft()}verifyOperationInProgress(){}zc(){var t=this;return(0,be.Z)(function*(){let e;do{e=t.Mc,yield e}while(e!==t.Mc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function eP(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class bY{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class wi extends MC{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new vY,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Y3(this),this._firestoreClient.terminate()}}function br(n){return n._firestoreClient||Y3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Y3(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new R$(n._databaseId,o,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var o,d;n._firestoreClient=new lY(n._authCredentials,n._appCheckCredentials,n._queue,i)}function W3(n,t,e){const i=new Zr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield O3(n,e),yield P3(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(c=o).name?c.code===me.FAILED_PRECONDITION||c.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;ig("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var c})).then(()=>i.promise)}function K3(n){if(n._initialized||n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class lh{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ru{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ru(xr.fromBase64String(t))}catch(e){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ru(xr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class wg{constructor(t){this._methodName=t}}class SI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}}const MY=/^__.*__$/;class kY{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new oh(t,this.data,this.fieldMask,e,this.fieldTransforms):new hv(t,this.data,e,this.fieldTransforms)}}class Q3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new oh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function J3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class TI{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.wt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new TI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.sa(t),r}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return AI(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(J3(this.Zc)&&MY.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class RY{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=i||IC(t)}aa(t,e,i,r=!1){return new TI({Zc:t,methodName:e,ca:i,path:Gi.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Cg(n){const t=n._freezeSettings(),e=IC(n._databaseId);return new RY(n._databaseId,!!t.ignoreUndefinedProperties,e)}function II(n,t,e,i,r,o={}){const c=n.aa(o.merge||o.mergeFields?2:0,t,e,r);rP("Data must be an object, but it was:",c,i);const d=tH(i,c);let p,y;if(o.merge)p=new Ma(c.fieldMask),y=c.fieldTransforms;else if(o.mergeFields){const C=[];for(const E of o.mergeFields){const M=sP(t,E,e);if(!c.contains(M))throw new Oe(me.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);iH(C,M)||C.push(M)}p=new Ma(C),y=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=c.fieldTransforms;return new kY(new hs(d),p,y)}class kC extends wg{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof kC}}function X3(n,t,e){return new TI({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class tP extends wg{_toFieldTransform(t){return new cC(t.path,new uv)}isEqual(t){return t instanceof tP}}class OY extends wg{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=X3(this,t,!0),i=this.ha.map(o=>Dg(o,e)),r=new dg(i);return new cC(t.path,r)}isEqual(t){return this===t}}class PY extends wg{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=X3(this,t,!0),i=this.ha.map(o=>Dg(o,e)),r=new hg(i);return new cC(t.path,r)}isEqual(t){return this===t}}class NY extends wg{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new dv(t.wt,zB(t.wt,this.la));return new cC(t.path,e)}isEqual(t){return this===t}}function nP(n,t,e,i){const r=n.aa(1,t,e);rP("Data must be an object, but it was:",r,i);const o=[],c=hs.empty();og(i,(p,y)=>{const C=xI(t,p,e);y=(0,N.m9)(y);const E=r.ia(C);if(y instanceof kC)o.push(C);else{const M=Dg(y,E);null!=M&&(o.push(C),c.set(C,M))}});const d=new Ma(o);return new Q3(c,d,r.fieldTransforms)}function iP(n,t,e,i,r,o){const c=n.aa(1,t,e),d=[sP(t,i,e)],p=[r];if(o.length%2!=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)d.push(sP(t,o[M])),p.push(o[M+1]);const y=[],C=hs.empty();for(let M=d.length-1;M>=0;--M)if(!iH(y,d[M])){const P=d[M];let F=p[M];F=(0,N.m9)(F);const j=c.ia(P);if(F instanceof kC)y.push(P);else{const te=Dg(F,j);null!=te&&(y.push(P),C.set(P,te))}}const E=new Ma(y);return new Q3(C,E,c.fieldTransforms)}function eH(n,t,e,i=!1){return Dg(e,n.aa(i?4:3,t))}function Dg(n,t){if(nH(n=(0,N.m9)(n)))return rP("Unsupported field value:",t,n),tH(n,t);if(n instanceof wg)return function(e,i){if(!J3(i.Zc))throw i.oa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const c of e){let d=Dg(c,i.ra(o));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,N.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zB(i.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=bi.fromDate(e);return{timestampValue:mC(i.wt,r)}}if(e instanceof bi){const r=new bi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mC(i.wt,r)}}if(e instanceof SI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ru)return{bytesValue:uU(i.wt,e._byteString)};if(e instanceof ci){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.oa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:TR(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.oa(`Unsupported field value: ${DI(e)}`)}(n,t)}function tH(n,t){const e={};return vB(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):og(n,(i,r)=>{const o=Dg(r,t.ea(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function nH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof bi||n instanceof SI||n instanceof Ru||n instanceof ci||n instanceof wg)}function rP(n,t,e){if(!nH(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=DI(e);throw t.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function sP(n,t,e){if((t=(0,N.m9)(t))instanceof lh)return t._internalPath;if("string"==typeof t)return xI(n,t);throw AI("Field path arguments must be of type string or ",n,!1,void 0,e)}const FY=new RegExp("[~\\*/\\[\\]]");function xI(n,t,e){if(t.search(FY)>=0)throw AI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new lh(...t.split("."))._internalPath}catch{throw AI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function AI(n,t,e,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Oe(me.INVALID_ARGUMENT,d+n+p)}function iH(n,t){return n.some(e=>e.isEqual(t))}class RC{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ci(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new LY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(MI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class LY extends RC{data(){return super.data()}}function MI(n,t){return"string"==typeof t?xI(n,t):t instanceof lh?t._internalPath:t._delegate._internalPath}class Eg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ch extends RC{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new OC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(MI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class OC extends ch{data(t={}){return super.data(t)}}class $f{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Eg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new OC(this._firestore,this._userDataWriter,i.key,i,new Eg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new OC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Eg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new OC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Eg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==c.type&&(p=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),y=o.indexOf(c.doc.key)),{type:VY(c.type),doc:d,oldIndex:p,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function VY(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function rH(n,t){return n instanceof ch&&t instanceof ch?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof $f&&t instanceof $f&&n._firestore===t._firestore&&Z3(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function sH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PC{}function Zf(n,...t){for(const e of t)n=e._apply(n);return n}class BY extends PC{constructor(t,e,i){super(),this.fa=t,this.da=e,this._a=i,this.type="where"}_apply(t){const e=Cg(t.firestore),i=function(r,o,c,d,p,y,C){let E;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){dH(C,y);const P=[];for(const F of C)P.push(uH(d,r,F));E={arrayValue:{values:P}}}else E=uH(d,r,C)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||dH(C,y),E=eH(c,"where",C,"in"===y||"not-in"===y);const M=fs.create(p,y,E);return function(P,F){if(F.ht()){const te=wR(P);if(null!==te&&!te.isEqual(F.field))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${te.toString()}' and '${F.field.toString()}'`);const Re=bR(P);null!==Re&&hH(0,F.field,Re)}const j=function(te,Re){for(const Ge of te.filters)if(Re.indexOf(Ge.op)>=0)return Ge.op;return null}(P,function(te){switch(te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(null!==j)throw new Oe(me.INVALID_ARGUMENT,j===F.op?`Invalid query. You cannot use more than one '${F.op.toString()}' filter.`:`Invalid query. You cannot use '${F.op.toString()}' filters with '${j.toString()}' filters.`)}(r,M),M}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new ks(t.firestore,t.converter,function(r,o){const c=r.filters.concat([o]);return new sh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class HY extends PC{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new av(r,o);return function(d,p){if(null===bR(d)){const y=wR(d);null!==y&&hH(0,y,p.field)}}(i,c),c}(t._query,this.fa,this.wa);return new ks(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new sh(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class oH extends PC{constructor(t,e,i){super(),this.type=t,this.ma=e,this.ga=i}_apply(t){return new ks(t.firestore,t.converter,JT(t._query,this.ma,this.ga))}}class aH extends PC{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=cH(t,this.type,this.ya,this.pa);return new ks(t.firestore,t.converter,(r=e,new sh((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class lH extends PC{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=cH(t,this.type,this.ya,this.pa);return new ks(t.firestore,t.converter,(r=e,new sh((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function cH(n,t,e,i){if(e[0]=(0,N.m9)(e[0]),e[0]instanceof RC)return function(r,o,c,d,p){if(!d)throw new Oe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const C of cv(r))if(C.field.isKeyField())y.push(cg(o,d.key));else{const E=d.data.field(C.field);if(_R(E))throw new Oe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const M=C.field.canonicalString();throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}y.push(E)}return new Bf(y,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Cg(n.firestore);return function(o,c,d,p,y,C){const E=o.explicitOrderBy;if(y.length>E.length)throw new Oe(me.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let P=0;P<y.length;P++){const F=y[P];if(E[P].field.isKeyField()){if("string"!=typeof F)throw new Oe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof F}`);if(!CR(o)&&-1!==F.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${F}' contains a slash.`);const j=o.path.child(yn.fromString(F));if(!Je.isDocumentKey(j))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const te=new Je(j);M.push(cg(c,te))}else{const j=eH(d,p,F);M.push(j)}}return new Bf(M,C)}(n._query,n.firestore._databaseId,r,t,e,i)}}function uH(n,t,e){if("string"==typeof(e=(0,N.m9)(e))){if(""===e)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CR(t)&&-1!==e.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(yn.fromString(e));if(!Je.isDocumentKey(i))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cg(n,new Je(i))}if(e instanceof ci)return cg(n,e._key);throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${DI(e)}.`)}function dH(n,t){if(!Array.isArray(n)||0===n.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function hH(n,t,e){if(!e.isEqual(t))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const WY={maxAttempts:5};class oP{convertValue(t,e="none"){switch(lg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ag(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ft()}}convertObject(t,e){const i={};return og(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new SI(Zi(t.latitude),Zi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=wB(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(tC(t));default:return null}}convertTimestamp(t){const e=Ff(t);return new bi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=yn.fromString(t);Lt(bU(i));const r=new rh(i.get(1),i.get(3)),o=new Je(i.popFirst(5));return r.isEqual(e)||rr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function kI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class KY extends oP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ru(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ci(this.firestore,null,e)}}class fH{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Cg(t)}set(t,e,i){this._verifyNotCommitted();const r=Yf(t,this._firestore),o=kI(r.converter,e,i),c=II(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Pi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Yf(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof lh?iP(this._dataReader,"WriteBatch.update",o._key,e,i,r):nP(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,Pi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Yf(t,this._firestore);return this._mutations=this._mutations.concat(new fv(e._key,Pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yf(n,t){if((n=(0,N.m9)(n)).firestore!==t)throw new Oe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Sg extends oP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ru(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ci(this.firestore,null,e)}}function pH(n,t,e){n=gn(n,ci);const i=gn(n.firestore,wi),r=kI(n.converter,t,e);return xv(i,[II(Cg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Pi.none())])}function mH(n,t,e,...i){n=gn(n,ci);const r=gn(n.firestore,wi),o=Cg(r);let c;return c="string"==typeof(t=(0,N.m9)(t))||t instanceof lh?iP(o,"updateDoc",n._key,t,e,i):nP(o,"updateDoc",n._key,t),xv(r,[c.toMutation(n._key,Pi.exists(!0))])}function gH(n,...t){var e,i,r;n=(0,N.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||eP(t[c])||(o=t[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges};if(eP(t[c])){const E=t[c];t[c]=null===(e=E.next)||void 0===e?void 0:e.bind(E),t[c+1]=null===(i=E.error)||void 0===i?void 0:i.bind(E),t[c+2]=null===(r=E.complete)||void 0===r?void 0:r.bind(E)}let p,y,C;if(n instanceof ci)y=gn(n.firestore,wi),C=lv(n._key.path),p={next:E=>{t[c]&&t[c](aP(y,n,E))},error:t[c+1],complete:t[c+2]};else{const E=gn(n,ks);y=gn(E.firestore,wi),C=E._query;const M=new Sg(y);p={next:P=>{t[c]&&t[c](new $f(y,M,E,P))},error:t[c+1],complete:t[c+2]},sH(n._query)}return function(E,M,P,F){const j=new bI(F),te=new vO(M,j,P);return E.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return pO(yield Iv(E),te)})),()=>{j.Tc(),E.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return gO(yield Iv(E),te)}))}}(br(y),C,d,p)}function xv(n,t){return function(e,i){const r=new Zr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function j5(n,t,e){return EO.apply(this,arguments)}(yield QO(e),i,r)})),r.promise}(br(n),t)}function aP(n,t,e){const i=e.docs.get(t._key),r=new Sg(n);return new ch(n,r,t._key,i,new Eg(e.hasPendingWrites,e.fromCache),t.converter)}class o8 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Cg(t)}get(t){const e=Yf(t,this._firestore),i=new KY(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ft();const o=r[0];if(o.isFoundDocument())return new RC(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new RC(this._firestore,i,e._key,null,e.converter);throw ft()})}set(t,e,i){const r=Yf(t,this._firestore),o=kI(r.converter,e,i),c=II(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const o=Yf(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof lh?iP(this._dataReader,"Transaction.update",o._key,e,i,r):nP(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,c),this}delete(t){const e=Yf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Yf(t,this._firestore),i=new Sg(this._firestore);return super.get(t).then(r=>new ch(this._firestore,i,e._key,r._document,new Eg(!1,!1),e.converter))}}function lP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function yH(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function vH(){if(!function M$(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){iv=As.SDK_VERSION,(0,As._registerComponent)(new Rl.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new wi(r,new y$(e.getProvider("auth-internal")),new w$(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,As.registerVersion)(lB,"3.4.14",n),(0,As.registerVersion)(lB,"3.4.14","esm2017")}();class NC{constructor(t){this._delegate=t}static fromBase64String(t){return vH(),new NC(Ru.fromBase64String(t))}static fromUint8Array(t){return yH(),new NC(Ru.fromUint8Array(t))}toBase64(){return vH(),this._delegate.toBase64()}toUint8Array(){return yH(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cP(n){return function m8(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class g8{enableIndexedDbPersistence(t,e){return function CY(n,t){K3(n=gn(n,wi));const e=br(n),i=n._freezeSettings(),r=new GO;return W3(e,r,new k3(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function DY(n){K3(n=gn(n,wi));const t=br(n),e=n._freezeSettings(),i=new GO;return W3(t,i,new rY(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function EY(n){if(n._initialized&&!n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Zr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(e=(0,be.Z)(function*(i){if(!kc.V())return Promise.resolve();const r=i+"main";yield kc.delete(r)}),function(i){return e.apply(this,arguments)})(BR(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class bH{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof rh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ig("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function _Y(n,t,e,i={}){var r;const o=(n=gn(n,MC))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&ig("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=$r.MOCK_USER;else{c=(0,N.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new $r(p)}n._authCredentials=new _$(new cB(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function TY(n){return function cY(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield N3(n),e=yield F3(n);return t.setNetworkEnabled(!0),function(i){const r=tt(i);return r.lu.delete(0),xC(r)}(e)}))}(br(n=gn(n,wi)))}(this._delegate)}disableNetwork(){return function IY(n){return function uY(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield N3(n),e=yield F3(n);return t.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const o=tt(r);o.lu.add(0),yield bv(o),o._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(br(n=gn(n,wi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,U3("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function SY(n){return function(t){const e=new Zr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function $5(n,t){return AO.apply(this,arguments)}(yield QO(t),e)})),e.promise}(br(n=gn(n,wi)))}(this._delegate)}onSnapshotsInSync(t){return function s8(n,t){return function fY(n,t){const e=new bI(t);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield Iv(n),r=e,tt(i).Tu.add(r),void r.next();var i,r})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield Iv(n),r=e,void tt(i).Tu.delete(r);var i,r}))}}(br(n=gn(n,wi)),eP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Av(this,G3(this._delegate,t))}catch(e){throw so(e,"collection()","Firestore.collection()")}}doc(t){try{return new Pl(this,EI(this._delegate,t))}catch(e){throw so(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new oo(this,function yY(n,t){if(n=gn(n,MC),XO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ks(n,null,(e=t,new sh(yn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw so(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function a8(n,t,e){n=gn(n,wi);const i=Object.assign(Object.assign({},WY),e);return function(r){if(r.maxAttempts<1)throw new Oe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function pY(n,t,e){const i=new Zr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const r=yield(o=n,wI(o).then(c=>c.datastore));var o;new aY(n.asyncQueue,r,e,t,i).run()})),i.promise}(br(n),r=>t(new o8(n,r)),i)}(this._delegate,e=>t(new wH(this,e)))}batch(){return br(this._delegate),new CH(new fH(this._delegate,t=>xv(this._delegate,t)))}loadBundle(t){return function xY(n,t){const e=br(n=gn(n,wi)),i=new bY;return function mY(n,t,e,i){const r=function(o,c){let d;return d="string"==typeof o?(new TextEncoder).encode(o):o,p=function(p,y){if(p instanceof Uint8Array)return R3(p,y);if(p instanceof ArrayBuffer)return R3(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new sY(p,c);var p}(e,IC(t));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function iY(n,t,e){const i=tt(n);var r;(r=(0,be.Z)(function*(o,c,d){try{const p=yield c.getMetadata();if(yield function(M,P){const F=tt(M),j=Yr(P.createTime);return F.persistence.runTransaction("hasNewerBundle","readonly",te=>F.Ds.getBundleMetadata(te,P.id)).then(te=>!!te&&te.createTime.compareTo(j)>=0)}(o.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);d._updateProgress(w3(p));const y=new F5(p,o.localStore,c.wt);let C=yield c.fc();for(;C;){const M=yield y.Nu(C);M&&d._updateProgress(M),C=yield c.fc()}const E=yield y.complete();return yield ah(o,E.Ou,void 0),yield function(M,P){const F=tt(M);return F.persistence.runTransaction("Save bundle","readwrite",j=>F.Ds.saveBundleMetadata(j,P))}(o.localStore,p),d._completeWith(E.progress),Promise.resolve(E.Mu)}catch(p){return ig("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var M}),function(o,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield QO(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function AY(n,t){return function gY(n,t){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(e,i){const r=tt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ds.getNamedQuery(o,i))}(yield CI(n),t)}))}(br(n=gn(n,wi)),t).then(e=>e?new ks(n,null,e.query):null)}(this._delegate,t).then(e=>e?new oo(this,e):null)}}class RI extends oP{constructor(t){super(),this.firestore=t}convertBytes(t){return new NC(new Ru(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Pl.forKey(e,this.firestore,null)}}class wH{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new RI(t)}get(t){const e=Ig(t);return this._delegate.get(e).then(i=>new FC(this._firestore,new ch(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Ig(t);return i?(lP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Ig(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Ig(t);return this._delegate.delete(e),this}}class CH{constructor(t){this._delegate=t}set(t,e,i){const r=Ig(t);return i?(lP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Ig(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Ig(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Tg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new OC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new LC(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Tg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Tg(t,new RI(t),e),r.set(e,o)),o}}Tg.INSTANCES=new WeakMap;class Pl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new RI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Pl(e,new ci(e._delegate,i,new Je(t)))}static forKey(t,e,i){return new Pl(e,new ci(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Av(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Av(this.firestore,G3(this._delegate,t))}catch(e){throw so(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,N.m9)(t))instanceof ci&&$3(this._delegate,t)}set(t,e){e=lP("DocumentReference.set",e);try{return e?pH(this._delegate,t,e):pH(this._delegate,t)}catch(i){throw so(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?mH(this._delegate,t):mH(this._delegate,t,e,...i)}catch(r){throw so(r,"updateDoc()","DocumentReference.update()")}}delete(){return function i8(n){return xv(gn(n.firestore,wi),[new fv(n._key,Pi.none())])}(this._delegate)}onSnapshot(...t){const e=DH(t),i=EH(t,r=>new FC(this.firestore,new ch(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return gH(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function JY(n){n=gn(n,ci);const t=gn(n.firestore,wi),e=br(t),i=new Sg(t);return function dY(n,t){const e=new Zr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,o,c){try{const d=yield function(p,y){const C=tt(p);return C.persistence.runTransaction("read document","readonly",E=>C.localDocuments.getDocument(E,y))}(r,o);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Oe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=Dv(d,`Failed to get document '${o} from cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield CI(n),t,e);var i})),e.promise}(e,n._key).then(r=>new ch(t,i,n._key,r,new Eg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function XY(n){n=gn(n,ci);const t=gn(n.firestore,wi);return L3(br(t),n._key,{source:"server"}).then(e=>aP(t,n,e))}(this._delegate):function QY(n){n=gn(n,ci);const t=gn(n.firestore,wi);return L3(br(t),n._key).then(e=>aP(t,n,e))}(this._delegate),e.then(i=>new FC(this.firestore,new ch(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Pl(this.firestore,this._delegate.withConverter(t?Tg.getInstance(this.firestore,t):null))}}function so(n,t,e){return n.message=n.message.replace(t,e),n}function DH(n){for(const t of n)if("object"==typeof t&&!cP(t))return t;return{}}function EH(n,t){var e,i;let r;return r=cP(n[0])?n[0]:cP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class FC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Pl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return rH(this._delegate,t._delegate)}}class LC extends FC{data(t){const e=this._delegate.data(t);return function m$(n,t){n||ft()}(void 0!==e),e}}class oo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new RI(t)}where(t,e,i){try{return new oo(this.firestore,Zf(this._delegate,function UY(n,t,e){const i=t,r=MI("where",n);return new BY(r,i,e)}(t,e,i)))}catch(r){throw so(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new oo(this.firestore,Zf(this._delegate,function jY(n,t="asc"){const e=t,i=MI("orderBy",n);return new HY(i,e)}(t,e)))}catch(i){throw so(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new oo(this.firestore,Zf(this._delegate,function zY(n){return z3("limit",n),new oH("limit",n,"F")}(t)))}catch(e){throw so(e,"limit()","Query.limit()")}}limitToLast(t){try{return new oo(this.firestore,Zf(this._delegate,function qY(n){return z3("limitToLast",n),new oH("limitToLast",n,"L")}(t)))}catch(e){throw so(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new oo(this.firestore,Zf(this._delegate,function GY(...n){return new aH("startAt",n,!0)}(...t)))}catch(e){throw so(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new oo(this.firestore,Zf(this._delegate,function $Y(...n){return new aH("startAfter",n,!1)}(...t)))}catch(e){throw so(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new oo(this.firestore,Zf(this._delegate,function ZY(...n){return new lH("endBefore",n,!1)}(...t)))}catch(e){throw so(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new oo(this.firestore,Zf(this._delegate,function YY(...n){return new lH("endAt",n,!0)}(...t)))}catch(e){throw so(e,"endAt()","Query.endAt()")}}isEqual(t){return Z3(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function t8(n){n=gn(n,ks);const t=gn(n.firestore,wi),e=br(t),i=new Sg(t);return function hY(n,t){const e=new Zr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,o,c){try{const d=yield pI(r,o,!0),p=new E3(o,d.ji),y=p.Ku(d.documents),C=p.applyChanges(y,!1);c.resolve(C.snapshot)}catch(d){const p=Dv(d,`Failed to execute query '${o} against cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield CI(n),t,e);var i})),e.promise}(e,n._query).then(r=>new $f(t,i,n,r))}(this._delegate):"server"===t?.source?function n8(n){n=gn(n,ks);const t=gn(n.firestore,wi),e=br(t),i=new Sg(t);return V3(e,n._query,{source:"server"}).then(r=>new $f(t,i,n,r))}(this._delegate):function e8(n){n=gn(n,ks);const t=gn(n.firestore,wi),e=br(t),i=new Sg(t);return sH(n._query),V3(e,n._query).then(r=>new $f(t,i,n,r))}(this._delegate),e.then(i=>new uP(this.firestore,new $f(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=DH(t),i=EH(t,r=>new uP(this.firestore,new $f(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return gH(this._delegate,e,i)}withConverter(t){return new oo(this.firestore,this._delegate.withConverter(t?Tg.getInstance(this.firestore,t):null))}}class y8{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new LC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new oo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new LC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new y8(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new LC(this._firestore,i))})}isEqual(t){return rH(this._delegate,t._delegate)}}class Av extends oo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Pl(this.firestore,t):null}doc(t){try{return new Pl(this.firestore,void 0===t?EI(this._delegate):EI(this._delegate,t))}catch(e){throw so(e,"doc()","CollectionReference.doc()")}}add(t){return function r8(n,t){const e=gn(n.firestore,wi),i=EI(n),r=kI(n.converter,t);return xv(e,[II(Cg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Pi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Pl(this.firestore,e))}isEqual(t){return $3(this._delegate,t._delegate)}withConverter(t){return new Av(this.firestore,this._delegate.withConverter(t?Tg.getInstance(this.firestore,t):null))}}function Ig(n){return gn(n,ci)}class dP{constructor(...t){this._delegate=new lh(...t)}static documentId(){return new dP(Gi.keyField().canonicalString())}isEqual(t){return(t=(0,N.m9)(t))instanceof lh&&this._delegate._internalPath.isEqual(t._internalPath)}}class xg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function c8(){return new tP("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new xg(t)}static delete(){const t=function l8(){return new kC("deleteField")}();return t._methodName="FieldValue.delete",new xg(t)}static arrayUnion(...t){const e=function u8(...n){return new OY("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new xg(e)}static arrayRemove(...t){const e=function d8(...n){return new PY("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new xg(e)}static increment(t){const e=function h8(n){return new NY("increment",n)}(t);return e._methodName="FieldValue.increment",new xg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const v8={Firestore:bH,GeoPoint:SI,Timestamp:bi,Blob:NC,Transaction:wH,WriteBatch:CH,DocumentReference:Pl,DocumentSnapshot:FC,Query:oo,QueryDocumentSnapshot:LC,QuerySnapshot:uP,CollectionReference:Av,FieldPath:dP,FieldValue:xg,setLogLevel:function _8(n){!function p$(n){Of.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function w8(n){(function b8(n,t){n.INTERNAL.registerComponent(new Rl.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},v8)))})(n,(t,e)=>new bH(t,e,new g8)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(pT.Z);var OI=V(5363),C8=V(6063);class D8 extends et.x{constructor(t=1/0,e=1/0,i=C8.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;e||(i.push(t),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!t.closed;c+=i?1:2)t.next(o[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}var hP=V(3099);function SH(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,hP.B)({connector:()=>new D8(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function TH(n,t){return(0,Lr.m)(t)?g(()=>n,t):g(()=>n)}var fP=V(9468);V(5867);const xH=new Map,x8={activated:!1,tokenObservers:[]},A8={initialized:!1,enabled:!1};function Qr(n){return xH.get(n)||x8}function Rc(n,t){xH.set(n,t)}function NI(){return A8}class P8{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,be.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function N8(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ao=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function MH(n){if(!Qr(n).activated)throw ao.create("use-before-activation",{appName:n.name})}function _P(n,t){return yP.apply(this,arguments)}function yP(){return yP=(0,be.Z)(function*({url:n,body:t},e){var i,r;const o={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const P=yield c.getHeartbeatsHeader();P&&(o["X-Firebase-Client"]=P)}const d={method:"POST",body:JSON.stringify(t),headers:o};let p,y;try{p=yield fetch(n,d)}catch(P){throw ao.create("fetch-network-error",{originalErrorMessage:null===(i=P)||void 0===i?void 0:i.message})}if(200!==p.status)throw ao.create("fetch-status-error",{httpStatus:p.status});try{y=yield p.json()}catch(P){throw ao.create("fetch-parse-error",{originalErrorMessage:null===(r=P)||void 0===r?void 0:r.message})}const C=y.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw ao.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const E=1e3*Number(C[1]),M=Date.now();return{token:y.token,expireTimeMillis:M+E,issuedAtTimeMillis:M}}),yP.apply(this,arguments)}function B8(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const VC="firebase-app-check-store";let VI=null;function RH(){return VI||(VI=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;t(ao.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(VC,{keyPath:"compositeKey"})}}catch(i){t(ao.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),VI)}function vP(){return vP=(0,be.Z)(function*(n,t){const i=(yield RH()).transaction(VC,"readwrite"),o=i.objectStore(VC).put({compositeKey:n,value:t});return new Promise((c,d)=>{o.onsuccess=p=>{c()},i.onerror=p=>{var y;d(ao.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})}),vP.apply(this,arguments)}const BC=new Ol.Yd("@firebase/app-check");function FH(n,t){return(0,N.hl)()?function z8(n,t){return function OH(n,t){return vP.apply(this,arguments)}(function NH(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{BC.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function LH(){return NI().enabled}function VH(){return DP.apply(this,arguments)}function DP(){return DP=(0,be.Z)(function*(){const n=NI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),DP.apply(this,arguments)}const W8={error:"UNKNOWN_ERROR"};function K8(n){return N.US.encodeString(JSON.stringify(n),!1)}function BI(n){return EP.apply(this,arguments)}function EP(){return EP=(0,be.Z)(function*(n,t=!1){const e=n.app;MH(e);const i=Qr(e);let o,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&UI(p)&&(r=p)}if(!t&&r&&UI(r))return{token:r.token};let d,c=!1;if(LH()){i.exchangeTokenPromise||(i.exchangeTokenPromise=_P(B8(e,yield VH()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),c=!0);const p=yield i.exchangeTokenPromise;return yield FH(e,p),Rc(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?BC.warn(p.message):BC.error(p),o=p}return r?(d={token:r.token},Rc(e,Object.assign(Object.assign({},i),{token:r})),yield FH(e,r)):d=J8(o),c&&UH(e,d),d}),EP.apply(this,arguments)}function TP(n,t){const e=Qr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Rc(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function BH(n){const{app:t}=n,e=Qr(t);let i=e.tokenRefresher;i||(i=function Q8(n){const{app:t}=n;return new P8((0,be.Z)(function*(){let i;if(i=Qr(t).token?yield BI(n,!0):yield BI(n),i.error)throw i.error}),()=>!0,()=>{const e=Qr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Rc(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function UH(n,t){const e=Qr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function UI(n){return n.expireTimeMillis-Date.now()>0}function J8(n){return{token:K8(W8),error:n}}class X8{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Qr(this.app);for(const e of t)TP(this.app,e.next);return Promise.resolve()}}const YH="app-check-internal";!function fW(){(0,As._registerComponent)(new Rl.wA("app-check",n=>function eW(n,t){return new X8(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(YH).initialize()})),(0,As._registerComponent)(new Rl.wA(YH,n=>function tW(n){return{getToken:t=>BI(n,t),addTokenListener:t=>function SP(n,t,e,i){const{app:r}=n,o=Qr(r),c={next:e,error:i,type:t};if(Rc(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,c]})),o.token&&UI(o.token)){const d=o.token;Promise.resolve().then(()=>{e({token:d.token}),BH(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>BH(n))}(n,"INTERNAL",t),removeTokenListener:t=>TP(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,As.registerVersion)("@firebase/app-check","0.5.12")}();class UC{constructor(){return(0,mn.vb)("app-check")}}typeof window<"u"&&window;var jI=V(127);const kP=new s.OlP("angularfire2.auth.use-emulator"),RP=new s.OlP("angularfire2.auth.settings"),OP=new s.OlP("angularfire2.auth.tenant-id"),PP=new s.OlP("angularfire2.auth.langugage-code"),NP=new s.OlP("angularfire2.auth.use-device-language"),FP=new s.OlP("angularfire.auth.persistence"),LP=(n,t,e,i,r,o,c,d)=>(0,nr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,o&&p.useDeviceLanguage(),c)for(const[y,C]of Object.entries(c))p.settings[y]=C;return d&&p.setPersistence(d),p},[e,i,r,o,c,d]);let HC=(()=>{class n{constructor(e,i,r,o,c,d,p,y,C,E,M,P){const F=new et.x,j=Fe(void 0).pipe((0,OI.Q)(c.outsideAngular),g(()=>o.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,1451)))),(0,Ue.U)(()=>(0,nr.on)(e,o,i)),(0,Ue.U)(te=>LP(te,o,d,y,C,E,p,M)),SH({bufferSize:1,refCount:!1}));if(dr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Fe(null);else{j.pipe(mt()).subscribe();const Re=j.pipe(g(Ze=>Ze.getRedirectResult().then(bt=>bt,()=>null)),mn.iC,SH({bufferSize:1,refCount:!1})),Ge=j.pipe(g(Ze=>new Fn.y(bt=>({unsubscribe:o.runOutsideAngular(()=>Ze.onAuthStateChanged(St=>bt.next(St),St=>bt.error(St),()=>bt.complete()))})))),We=j.pipe(g(Ze=>new Fn.y(bt=>({unsubscribe:o.runOutsideAngular(()=>Ze.onIdTokenChanged(St=>bt.next(St),St=>bt.error(St),()=>bt.complete()))}))));this.authState=Re.pipe(TH(Ge),(0,fP.R)(c.outsideAngular),(0,OI.Q)(c.insideAngular)),this.user=Re.pipe(TH(We),(0,fP.R)(c.outsideAngular),(0,OI.Q)(c.insideAngular)),this.idToken=this.user.pipe(g(Ze=>Ze?(0,dt.D)(Ze.getIdToken()):Fe(null))),this.idTokenResult=this.user.pipe(g(Ze=>Ze?(0,dt.D)(Ze.getIdTokenResult()):Fe(null))),this.credential=(0,ti.T)(Re,F,this.authState.pipe(R(Ze=>!Ze))).pipe((0,Ue.U)(Ze=>Ze?.user?Ze:null),(0,fP.R)(c.outsideAngular),(0,OI.Q)(c.insideAngular))}return(0,nr.pX)(this,j,o,{spy:{apply:(te,Re,Ge)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&Ge.then(We=>F.next(We))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nr.Dh),s.LFG(nr.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(mn.HU),s.LFG(kP,8),s.LFG(RP,8),s.LFG(OP,8),s.LFG(PP,8),s.LFG(NP,8),s.LFG(FP,8),s.LFG(UC,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vW=(()=>{class n{constructor(){jI.Z.registerVersion("angularfire",mn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[HC]}),n})();function KH(n,t){return function bW(n,t=Dc.z){return new Fn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function VP(n,t){return KH(n,t).pipe((0,Ue.U)(e=>({payload:e,type:"query"})))}function zI(n,t){return VP(n,t).pipe(A(void 0),Iw(),(0,Ue.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(C=>C.doc.ref.isEqual(c.ref)),y=e?.payload.docs.find(C=>C.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),o}))}function QH(n,t,e){return zI(n,e).pipe(ba((i,r)=>function CW(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function DW(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return BP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return BP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return BP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),xm(),(0,Ue.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function BP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function JH(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class XH{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=zI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Ue.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(A(void 0),Iw(),R(([i,r])=>r.length>0||!i),(0,Ue.U)(([i,r])=>r),mn.iC)}auditTrail(t){return this.stateChanges(t).pipe(ba((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=JH(t);return QH(this.query,e,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(t={}){return VP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),mn.iC)}get(t){return(0,dt.D)(this.query.get(t)).pipe(mn.iC)}add(t){return this.ref.add(t)}doc(t){return new e6(this.ref.doc(t),this.afs)}}class e6{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=i6(i,e);return new XH(r,o,this.afs)}snapshotChanges(){return function wW(n,t){return KH(n,t).pipe(A(void 0),Iw(),(0,Ue.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Ue.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,dt.D)(this.ref.get(t)).pipe(mn.iC)}}class EW{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?zI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),R(e=>e.length>0),mn.iC):zI(this.query,this.afs.schedulers.outsideAngular).pipe(mn.iC)}auditTrail(t){return this.stateChanges(t).pipe(ba((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=JH(t);return QH(this.query,e,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(t={}){return VP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),mn.iC)}get(t){return(0,dt.D)(this.query.get(t)).pipe(mn.iC)}}const t6=new s.OlP("angularfire2.enableFirestorePersistence"),n6=new s.OlP("angularfire2.firestore.persistenceSettings"),SW=new s.OlP("angularfire2.firestore.settings"),TW=new s.OlP("angularfire2.firestore.use-emulator");function i6(n,t=(e=>e)){return{query:t(n),ref:n}}let Ag=(()=>{class n{constructor(e,i,r,o,c,d,p,y,C,E,M,P,F,j,te,Re,Ge){this.schedulers=p;const We=(0,nr.on)(e,d,i),Ze=C;E&&LP(We,d,M,F,j,te,P,Re),[this.firestore,this.persistenceEnabled$]=(0,nr.cc)(`${We.name}.firestore`,"AngularFirestore",We.name,()=>{const bt=d.runOutsideAngular(()=>We.firestore());if(o&&bt.settings(o),Ze&&bt.useEmulator(...Ze),r&&!dr(c)){const St=()=>{try{return(0,dt.D)(bt.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(rn){return typeof console<"u"&&console.warn(rn),Fe(!1)}};return[bt,d.runOutsideAngular(St)]}return[bt,Fe(!1)]},[o,Ze,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:c}=i6(r,i),d=this.schedulers.ngZone.run(()=>o);return new XH(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),o=this.firestore.collectionGroup(e);return new EW(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new e6(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nr.Dh),s.LFG(nr.xv,8),s.LFG(t6,8),s.LFG(SW,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(mn.HU),s.LFG(n6,8),s.LFG(TW,8),s.LFG(HC,8),s.LFG(kP,8),s.LFG(RP,8),s.LFG(OP,8),s.LFG(PP,8),s.LFG(NP,8),s.LFG(FP,8),s.LFG(UC,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),IW=(()=>{class n{constructor(){jI.Z.registerVersion("angularfire",mn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:t6,useValue:!0},{provide:n6,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ag]}),n})(),Yi=(()=>{class n{constructor(e){this.fireAuth=e,this.adminState$=this.fireAuth.authState,this.personState$=this.fireAuth.authState}getPosts(e){throw new Error("Method not implemented.")}adminSignIn(e,i){return(0,dt.D)(this.fireAuth.signInWithEmailAndPassword(e,i))}adminSignOut(){return(0,dt.D)(this.fireAuth.signOut())}adminSignUp(e,i){return(0,dt.D)(this.fireAuth.createUserWithEmailAndPassword(e,i))}personSignIn(e,i){return(0,dt.D)(this.fireAuth.signInWithEmailAndPassword(e,i))}personSignUp(e,i){return(0,dt.D)(this.fireAuth.createUserWithEmailAndPassword(e,i))}personSignOut(){return(0,dt.D)(this.fireAuth.signOut())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(HC))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wf=(()=>{class n{constructor(e,i){this.fireStore=e,this.authService=i,this.appliedPosts=[],this.postsCollection=this.fireStore.collection("posts"),this.contactCollection=this.fireStore.collection("contact"),this.currentAdminActivities$=this.authService.adminState$.pipe(g(r=>r?this.getPosts(r?.uid):Fe(null)))}getAllPosts(){return this.fireStore.collection("posts").valueChanges({idField:"id"})}getPosts(e){return this.fireStore.collection("posts",i=>i.where("companyId","==",e)).valueChanges({idField:"id"})}getpost(e){return this.fireStore.collection("posts").doc(e).valueChanges()}userApply(e){return(0,dt.D)(this.fireStore.collection("posts").doc(e.actvitiyId).collection("appliedUsers").add(e))}getPostAppliedUsers(e){return(0,dt.D)(this.fireStore.collection("posts").doc(e).collection("appliedUsers",i=>i.where("isApproved","==",!1)).valueChanges({idField:"id"}))}getPostAppliedUser(e){return(0,dt.D)(this.fireStore.collection("posts",i=>i.where("companyId","==",e)).valueChanges({idField:"id"}))}approveApplicant(e,i){return(0,dt.D)(this.postsCollection.doc(i).collection("appliedUsers").doc(e.id).update({...e}))}getApprovedApplicant(e){return(0,dt.D)(this.postsCollection.doc(e).collection("appliedUsers",i=>i.where("isApproved","==",!0)).valueChanges())}deleteAppliedUser(e,i){return(0,dt.D)(this.postsCollection.doc(i).collection("appliedUsers").doc(e).delete())}createPost(e){return(0,dt.D)(this.postsCollection.add(e))}deletePost(e){const i=this.postsCollection.doc(e).delete();return(0,dt.D)(i)}contact(e){return(0,dt.D)(this.contactCollection.add(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ag),s.LFG(Yi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ou=(()=>{class n{constructor(e,i){this.firestore=e,this.authService=i,this.isLoggedInUserPerson$=this.authService.personState$.pipe(g(r=>r?this.personsCollection.doc(r.uid).get().pipe(g(o=>Fe(!!o.exists))):Fe(!1))),this.postsCollection=this.firestore.collection("posts"),this.personsCollection=this.firestore.collection("persons"),this.personState$=this.authService.personState$.pipe(g(r=>r?this.get(r?.uid).pipe((0,Ue.U)(o=>o.data())):Fe(null)))}get currentUserProfile$(){return this.authService.personState$.pipe(g(e=>{if(!e?.uid)return Fe(null);const i=this.firestore.collection("persons").doc(e?.uid);return(0,dt.D)(i.valueChanges())}))}getPosts(){return(0,dt.D)(this.postsCollection.valueChanges())}getUsers(){return this.personsCollection.valueChanges({idField:"id"})}get(e){return(0,dt.D)(this.personsCollection.doc(e).get())}getUser(e){return(0,dt.D)(this.personsCollection.doc(e).valueChanges())}create(e){return(0,dt.D)(this.personsCollection.doc(e.uid).set(e))}createApply(e,i){return(0,dt.D)(this.firestore.collection("persons").doc(e).collection("appliedPosts").add(i))}getAppliedPosts(e){return this.firestore.collectionGroup("appliedUsers",i=>i.where("userId","==",e)).valueChanges()}update(e){return(0,dt.D)(this.personsCollection.doc(e.uid).update({...e}))}delete(e){return(0,dt.D)(this.personsCollection.doc(e).delete())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ag),s.LFG(Yi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xW=["mat-button",""],AW=["*"],kW=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],RW=wf(W0(Qd(class{constructor(n){this._elementRef=n}})));let wr=(()=>{class n extends RW{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of kW)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Kd),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(My,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:xW,ngContentSelectors:AW,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[My],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),UP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[nw,pn,pn]}),n})();const OW=["*",[["mat-card-footer"]]],PW=["*","mat-card-footer"],NW=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],FW=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"];let r6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),s6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),LW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),o6=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:PW,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(OW),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),a6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:FW,decls:4,vars:0,template:function(e,i){1&e&&(s.F$t(NW),s.TgZ(0,"div"),s.Hsn(1),s.qZA(),s.Hsn(2,1),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),VW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[pn,pn]}),n})();function BW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-card",8)(1,"mat-card-title-group"),s._UZ(2,"div"),s.TgZ(3,"mat-card-title"),s._uU(4),s.qZA(),s.TgZ(5,"div")(6,"button",9),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onApprove(o))}),s._uU(7,"Approve"),s.qZA(),s.TgZ(8,"button",10),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onReject(o))}),s._uU(9,"Reject"),s.qZA()()(),s.TgZ(10,"mat-card-content")(11,"p"),s._uU(12),s.qZA(),s.TgZ(13,"p"),s._uU(14),s.qZA(),s.TgZ(15,"p"),s._uU(16),s.ALo(17,"date"),s.qZA(),s.TgZ(18,"p"),s._uU(19),s.ALo(20,"date"),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(4),s.Oqu(e.name),s.xp6(8),s.hij("Skills: ",e.skill,""),s.xp6(2),s.hij("Experience: ",e.experience,""),s.xp6(2),s.hij("Start Date: ",s.xi3(17,5,e.start,"yyyy/MM/dd"),""),s.xp6(3),s.hij("End Date: ",s.xi3(20,8,e.end,"yyyy/MM/dd"),"")}}function UW(n,t){if(1&n&&(s.TgZ(0,"mat-card",8)(1,"mat-card-title-group"),s._UZ(2,"div"),s.TgZ(3,"mat-card-title"),s._uU(4),s.qZA(),s._UZ(5,"div"),s.qZA(),s.TgZ(6,"mat-card-content")(7,"p"),s._uU(8),s.qZA(),s.TgZ(9,"p"),s._uU(10),s.qZA(),s.TgZ(11,"p"),s._uU(12),s.ALo(13,"date"),s.qZA(),s.TgZ(14,"p"),s._uU(15),s.ALo(16,"date"),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(4),s.Oqu(e.name),s.xp6(4),s.hij("Skills: ",e.skill,""),s.xp6(2),s.hij("Experience: ",e.experience,""),s.xp6(2),s.hij("Start Date: ",s.xi3(13,5,e.start,"yyyy/MM/dd"),""),s.xp6(3),s.hij("End Date: ",s.xi3(16,8,e.end,"yyyy/MM/dd"),"")}}let HW=(()=>{class n{constructor(e,i,r,o,c){this.dialog=e,this.postsService=i,this.userService=r,this.authService=o,this.data=c,this.applicants=[],this.users=[],this.approvedUsers=[],this.companyId=""}ngOnInit(){this.postsService.getApprovedApplicant(this.data.activityId).subscribe(e=>{this.approvedUsers=e,console.log(e)}),this.postsService.getPostAppliedUsers(this.data.activityId).subscribe(e=>{this.applicants=e})}onApprove(e){console.log(e.id,"from on approve"),e.isApproved=!0,this.postsService.approveApplicant(e,this.data.activityId).subscribe(()=>{console.log(this.data.activityId)})}onReject(e){this.postsService.deleteAppliedUser(e.id,e.actvitiyId).subscribe(()=>{console.log("user deleted")})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xd),s.Y36(Wf),s.Y36(Ou),s.Y36(Yi),s.Y36(jm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-applicants"]],decls:13,vars:2,consts:[[1,"mat-typography"],[1,"container"],[1,"applicants"],["mat-dialog-title",""],["class","example-card",4,"ngFor","ngForOf"],[1,"approved-applicants"],["align","end"],["mat-button","","mat-dialog-close",""],[1,"example-card"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2)(3,"h2",3),s._uU(4,"Applicants for this Activity"),s.qZA(),s.YNc(5,BW,21,11,"mat-card",4),s.qZA(),s.TgZ(6,"div",5)(7,"h2",3),s._uU(8,"Approved Applicants for this Activity"),s.qZA(),s.YNc(9,UW,17,11,"mat-card",4),s.qZA()()(),s.TgZ(10,"mat-dialog-actions",6)(11,"button",7),s._uU(12,"Close"),s.qZA()()),2&e&&(s.xp6(5),s.Q6J("ngForOf",i.applicants),s.xp6(4),s.Q6J("ngForOf",i.approvedUsers))},dependencies:[di,wr,Tw,fT,A1,M1,o6,a6,r6,s6,na],styles:[".example-card[_ngcontent-%COMP%]{margin:10px;width:400px;display:flex;justify-content:space-between}mat-card-title-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}button[_ngcontent-%COMP%]{margin:5px}.container[_ngcontent-%COMP%]{display:flex}.approved-applicants[_ngcontent-%COMP%]{border-left:1px solid grey}h2[_ngcontent-%COMP%]{text-align:center}"]}),n})();class jW{}class Kf{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Kf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Kf;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Kf?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===o.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class zW{encodeKey(t){return l6(t)}encodeValue(t){return l6(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const GW=/%(\d[a-f0-9])/gi,$W={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function l6(n){return encodeURIComponent(n).replace(GW,(t,e)=>$W[e]??t)}function qI(n){return`${n}`}class Qf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new zW,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function qW(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,d]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],p=e.get(c)||[];p.push(d),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(qI):[qI(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Qf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(qI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(qI(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class ZW{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function c6(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function u6(n){return typeof Blob<"u"&&n instanceof Blob}function d6(n){return typeof FormData<"u"&&n instanceof FormData}class jC{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function YW(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Kf),this.context||(this.context=new ZW),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new Qf,this.urlWithParams=e}serializeBody(){return null===this.body?null:c6(this.body)||u6(this.body)||d6(this.body)||function WW(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||d6(this.body)?null:u6(this.body)?this.body.type||null:c6(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,y=t.params||this.params;const C=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((E,M)=>E.set(M,t.setHeaders[M]),p)),t.setParams&&(y=Object.keys(t.setParams).reduce((E,M)=>E.set(M,t.setParams[M]),y)),new jC(e,i,o,{params:y,headers:p,context:C,reportProgress:d,responseType:r,withCredentials:c})}}var ps=(()=>((ps=ps||{})[ps.Sent=0]="Sent",ps[ps.UploadProgress=1]="UploadProgress",ps[ps.ResponseHeader=2]="ResponseHeader",ps[ps.DownloadProgress=3]="DownloadProgress",ps[ps.Response=4]="Response",ps[ps.User=5]="User",ps))();class HP extends class KW{constructor(t,e=200,i="OK"){this.headers=t.headers||new Kf,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=ps.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new HP({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function jP(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let f6=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof jC)o=e;else{let p,y;p=r.headers instanceof Kf?r.headers:new Kf(r.headers),r.params&&(y=r.params instanceof Qf?r.params:new Qf({fromObject:r.params})),o=new jC(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=Fe(o).pipe(ct(p=>this.handler.handle(p)));if(e instanceof jC||"events"===r.observe)return c;const d=c.pipe(R(p=>p instanceof HP));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe((0,Ue.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,Ue.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,Ue.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,Ue.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Qf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,jP(r,i))}post(e,i,r={}){return this.request("POST",e,jP(r,i))}put(e,i,r={}){return this.request("PUT",e,jP(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jW))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const JW=["*"];let GI;function zC(n){return function XW(){if(void 0===GI&&(GI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(GI=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return GI}()?.createHTML(n)||n}function p6(n){return Error(`Unable to find icon with the name "${n}"`)}function m6(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function g6(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Mg{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let $I=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Mg(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const c=this._sanitizer.sanitize(s.q3G.HTML,r);if(!c)throw g6(r);const d=zC(c);return this._addSvgIconConfig(e,i,new Mg("",d,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Mg(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw g6(i);const c=zC(o);return this._addSvgIconSetConfig(e,new Mg("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw m6(e);const r=this._cachedIconsByUrl.get(i);return r?Fe(ZI(r)):this._loadSvgIconFromConfig(new Mg(e,null)).pipe((0,Gt.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,Ue.U)(o=>ZI(o)))}getNamedSvgIcon(e,i=""){const r=_6(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):cu(p6(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Fe(ZI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Ue.U)(i=>ZI(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Fe(r):Io(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Ri(d=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(y)),Fe(null)})))).pipe((0,Ue.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw p6(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(o),d=this._extractSvgIconFromSet(c,e,o.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Gt.b)(i=>e.svgText=i),(0,Ue.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Fe(null):this._fetchIcon(e).pipe((0,Gt.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const c=o.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(zC("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(zC("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:c,value:d}=r[o];"id"!==c&&i.setAttribute(c,d)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function eK(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!c)throw m6(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const p=this._httpClient.get(c,{responseType:"text",withCredentials:o}).pipe((0,Ue.U)(y=>zC(y)),uu(()=>this._inProgressUrlFetches.delete(c)),(0,hP.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(_6(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return nK(o)?new Mg(o.url,null,o.options):new Mg(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(f6,8),s.LFG(Eo),s.LFG(ie,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZI(n){return n.cloneNode(!0)}function _6(n,t){return n+":"+t}function nK(n){return!(!n.url||!n.options)}const iK=wf(class{constructor(n){this._elementRef=n}}),rK=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),sK=new s.OlP("mat-icon-location",{providedIn:"root",factory:function oK(){const n=(0,s.f3M)(ie),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),y6=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],aK=y6.map(n=>`[${n}]`).join(", "),lK=/^url\(['"]?#(.*?)['"]?\)$/;let uh=(()=>{class n extends iK{constructor(e,i,r,o,c,d){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=$n.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Dt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(c=>{o.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(aK),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)y6.forEach(c=>{const d=i[o],p=d.getAttribute(c),y=p?p.match(lK):null;if(y){let C=r.get(d);C||(C=[],r.set(d,C)),C.push({name:c,value:y[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(w(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36($I),s.$8M("aria-hidden"),s.Y36(sK),s.Y36(s.qLn),s.Y36(rK,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:JW,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),v6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[pn,pn]}),n})();function cK(n,t){1&n&&(s.TgZ(0,"th",14),s._uU(1," Name "),s.qZA())}function uK(n,t){if(1&n&&(s.TgZ(0,"td",15),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.name," ")}}function dK(n,t){1&n&&(s.TgZ(0,"th",14),s._uU(1,"Description"),s.qZA())}function hK(n,t){if(1&n&&(s.TgZ(0,"td",16),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.description)}}function fK(n,t){1&n&&(s.TgZ(0,"th",14),s._uU(1,"Start Date"),s.qZA())}function pK(n,t){if(1&n&&(s.TgZ(0,"td",16),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(s.xi3(2,1,e.start,"yyyy/MM/dd"))}}function mK(n,t){1&n&&(s.TgZ(0,"th",14),s._uU(1,"End Date"),s.qZA())}function gK(n,t){if(1&n&&(s.TgZ(0,"td",16),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(s.xi3(2,1,e.end,"yyyy/MM/dd"))}}function _K(n,t){1&n&&(s.TgZ(0,"th",14),s._uU(1," Tech No. "),s.qZA())}function yK(n,t){if(1&n&&(s.TgZ(0,"td",15),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.noOfTechs," ")}}function vK(n,t){1&n&&(s.TgZ(0,"th",14),s._uU(1," Skills "),s.qZA())}function bK(n,t){if(1&n&&(s.TgZ(0,"td",15),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.skills," ")}}function wK(n,t){1&n&&(s.TgZ(0,"th",14),s._uU(1,"Applicants"),s.qZA())}function CK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",15)(1,"button",17),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.openDialog(o.id))}),s.TgZ(2,"mat-icon"),s._uU(3,"people"),s.qZA()()()}}function DK(n,t){1&n&&(s.TgZ(0,"th",14),s._uU(1," Delete "),s.qZA())}function EK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",15)(1,"button",18),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.deletePost(o.id))}),s.TgZ(2,"mat-icon"),s._uU(3,"delete"),s.qZA()()()}}function SK(n,t){1&n&&s._UZ(0,"tr",19)}function TK(n,t){1&n&&s._UZ(0,"tr",20)}let IK=(()=>{class n{constructor(e,i,r){this.postsService=e,this.dialog=i,this.authService=r,this.posts=new Tf(this.activities),this.displayedColumns=["name","description","start","end","tech no.","skills","applicants","delete"]}ngOnInit(){this.authService.adminState$.subscribe(e=>{this.postsService.currentAdminActivities$?.subscribe(i=>{this.activities=i?.filter(r=>r.companyId==e?.uid),this.posts.data=this.activities??[]})})}deletePost(e){this.postsService.deletePost(e).subscribe(()=>{alert("Post Was Deleted")})}openDialog(e){this.dialog.open(HW,{data:{activityId:e}}).afterClosed().subscribe(r=>{console.log(`Dialog result: ${r}`)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wf),s.Y36(Xd),s.Y36(Yi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-activities"]],decls:32,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["class","td","mat-cell","",4,"matCellDef"],["matColumnDef","start"],["matColumnDef","end"],["matColumnDef","tech no."],["matColumnDef","skills"],["matColumnDef","applicants"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"td"],["mat-button","",3,"click"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(s.TgZ(0,"div")(1,"h3"),s._uU(2,"List Of Your Posts:"),s.qZA(),s.TgZ(3,"h5"),s._uU(4,"from here you can review your last posts applicants and approve them or not "),s.qZA()(),s.TgZ(5,"table",0),s.ynx(6,1),s.YNc(7,cK,2,0,"th",2),s.YNc(8,uK,2,1,"td",3),s.BQk(),s.ynx(9,4),s.YNc(10,dK,2,0,"th",2),s.YNc(11,hK,2,1,"td",5),s.BQk(),s.ynx(12,6),s.YNc(13,fK,2,0,"th",2),s.YNc(14,pK,3,4,"td",5),s.BQk(),s.ynx(15,7),s.YNc(16,mK,2,0,"th",2),s.YNc(17,gK,3,4,"td",5),s.BQk(),s.ynx(18,8),s.YNc(19,_K,2,0,"th",2),s.YNc(20,yK,2,1,"td",3),s.BQk(),s.ynx(21,9),s.YNc(22,vK,2,0,"th",2),s.YNc(23,bK,2,1,"td",3),s.BQk(),s.ynx(24,10),s.YNc(25,wK,2,0,"th",2),s.YNc(26,CK,4,0,"td",3),s.BQk(),s.ynx(27,11),s.YNc(28,DK,2,0,"th",2),s.YNc(29,EK,4,0,"td",3),s.BQk(),s.YNc(30,SK,1,0,"tr",12),s.YNc(31,TK,1,0,"tr",13),s.qZA()),2&e&&(s.xp6(5),s.Q6J("dataSource",i.posts),s.xp6(25),s.Q6J("matHeaderRowDef",i.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[uh,wr,_r,Fm,Su,Py,xl,Ef,Ny,Df,Fy,Ly,na],styles:["table[_ngcontent-%COMP%]{width:1000px;max-width:1000px}td[_ngcontent-%COMP%]{height:100px;max-width:100px;width:100px}mat-divider[_ngcontent-%COMP%]{margin-top:40px}"]}),n})();const b6="firebasestorage.googleapis.com",w6="storageBucket";class Wi extends N.ZR{constructor(t,e){super(zP(t),`Firebase Storage: ${e} (${zP(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wi.prototype)}_codeEquals(t){return zP(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function zP(n){return"storage/"+n}function qP(){return new Wi("unknown","An unknown error occurred, please check the error payload for server response.")}function C6(){return new Wi("canceled","User canceled the upload/download.")}function D6(){return new Wi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Mv(n){return new Wi("invalid-argument",n)}function E6(){return new Wi("app-deleted","The Firebase app was deleted.")}function S6(n){return new Wi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qC(n,t){return new Wi("invalid-format","String does not match format '"+n+"': "+t)}function GC(n){throw new Wi("internal-error","Internal error: "+n)}class Rs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Rs.makeFromUrl(t,e)}catch{return new Rs(t,"")}if(""===i.path)return i;throw function LK(n){return new Wi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(Ze){Ze.path_=decodeURIComponent(Ze.path)}const E=e.replace(/[.]/g,"\\."),We=[{regex:d,indices:{bucket:1,path:3},postModify:function o(Ze){"/"===Ze.path.charAt(Ze.path.length-1)&&(Ze.path_=Ze.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${e===b6?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let Ze=0;Ze<We.length;Ze++){const bt=We[Ze],St=bt.regex.exec(t);if(St){let sr=St[bt.indices.path];sr||(sr=""),i=new Rs(St[bt.indices.bucket],sr),bt.postModify(i);break}}if(null==i)throw function FK(n){return new Wi("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class HK{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function YI(n){return"string"==typeof n||n instanceof String}function T6(n){return GP()&&n instanceof Blob}function GP(){return typeof Blob<"u"}function $P(n,t,e,i){if(i<t)throw Mv(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Mv(`Invalid value for '${n}'. Expected ${e} or less.`)}function dh(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function I6(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Jf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Jf||(Jf={})),Jf))();class ZK{constructor(t,e,i,r,o,c,d,p,y,C,E){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=C,this.connectionFactory_=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,P)=>{this.resolve_=M,this.reject_=P,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function qK(n){return void 0!==n}(p)?o():o(p)}catch(p){c(p)}else if(null!==d){const p=qP();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?E6():C6():function NK(){return new Wi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new WI(!1,null,!0)):this.backoffId_=function jK(n,t,e){let i=1,r=null,o=null,c=!1,d=0;function p(){return 2===d}let y=!1;function C(...te){y||(y=!0,t.apply(null,te))}function E(te){r=setTimeout(()=>{r=null,n(P,p())},te)}function M(){o&&clearTimeout(o)}function P(te,...Re){if(y)return void M();if(te)return M(),void C.call(null,te,...Re);if(p()||c)return M(),void C.call(null,te,...Re);let We;i<64&&(i*=2),1===d?(d=2,We=0):We=1e3*(i+Math.random()),E(We)}let F=!1;function j(te){F||(F=!0,M(),!y&&(null!==r?(te||(d=2),clearTimeout(r),E(0)):te||(d=1)))}return E(0),o=setTimeout(()=>{c=!0,j(!0)},e),j}((i,r)=>{if(r)return void i(!1,new WI(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Jf.NO_ERROR,p=o.getStatus();if(!d||this.isRetryStatusCode_(p)){const C=o.getErrorCode()===Jf.ABORT;return void i(!1,new WI(!1,null,C))}const y=-1!==this.successCodes_.indexOf(p);i(!0,new WI(y,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function zK(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||o}}class WI{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function e7(...n){const t=function XK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(GP())return new Blob(n);throw new Wi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ka={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ZP{constructor(t,e){this.data=t,this.contentType=e||null}}function YP(n,t){switch(n){case ka.RAW:return new ZP(x6(t));case ka.BASE64:case ka.BASE64URL:return new ZP(A6(n,t));case ka.DATA_URL:return new ZP(function r7(n){const t=new M6(n);return t.base64?A6(ka.BASE64,t.rest):function i7(n){let t;try{t=decodeURIComponent(n)}catch{throw qC(ka.DATA_URL,"Malformed data URL.")}return x6(t)}(t.rest)}(t),function s7(n){return new M6(n).contentType}(t))}throw qP()}function x6(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function A6(n,t){switch(n){case ka.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw qC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ka.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw qC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function n7(n){return atob(n)}(t)}catch{throw qC(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class M6{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw qC(ka.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function o7(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Pu{constructor(t,e){let i=0,r="";T6(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(T6(this.data_)){const r=function t7(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Pu(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Pu(i,!0)}}static getBlob(...t){if(GP()){const e=t.map(i=>i instanceof Pu?i.data_:i);return new Pu(e7.apply(null,e))}{const e=t.map(c=>YI(c)?YP(ka.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[o++]=c[d]}),new Pu(r,!0)}}uploadData(){return this.data_}}function WP(n){let t;try{t=JSON.parse(n)}catch{return null}return function $K(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function k6(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function c7(n,t){return t}class lo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||c7}}let KI=null;function $C(){if(KI)return KI;const n=[];n.push(new lo("bucket")),n.push(new lo("generation")),n.push(new lo("metageneration")),n.push(new lo("name","fullPath",!0));const e=new lo("name");e.xform=function t(o,c){return function u7(n){return!YI(n)||n.length<2?n:k6(n)}(c)},n.push(e);const r=new lo("size");return r.xform=function i(o,c){return void 0!==c?Number(c):c},n.push(r),n.push(new lo("timeCreated")),n.push(new lo("updated")),n.push(new lo("md5Hash",null,!0)),n.push(new lo("cacheControl",null,!0)),n.push(new lo("contentDisposition",null,!0)),n.push(new lo("contentEncoding",null,!0)),n.push(new lo("contentLanguage",null,!0)),n.push(new lo("contentType",null,!0)),n.push(new lo("metadata","customMetadata",!0)),KI=n,KI}function R6(n,t,e){const i=WP(t);return null===i?null:function h7(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const c=e[o];i[c.local]=c.xform(i,t[c.server])}return function d7(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new Rs(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function KP(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const O6="prefixes";class Nu{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Fu(n){if(!n)throw qP()}function QI(n,t){return function e(i,r){const o=R6(n,r,t);return Fu(null!==o),o}}function kv(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function OK(){return new Wi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function RK(){return new Wi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function kK(n){return new Wi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function PK(n){return new Wi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function ZC(n){const t=kv(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function MK(n){return new Wi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function N6(n,t,e){const r=dh(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Nu(r,"GET",QI(n,e),c);return d.errorHandler=ZC(t),d}function y7(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const d=dh(t.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,C=new Nu(d,"GET",function g7(n,t){return function e(i,r){const o=function m7(n,t,e){const i=WP(e);return null===i?null:function p7(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[O6])for(const r of e[O6]){const o=r.replace(/\/$/,""),c=n._makeStorageReference(new Rs(t,o));i.prefixes.push(c)}if(e.items)for(const r of e.items){const o=n._makeStorageReference(new Rs(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return Fu(null!==o),o}}(n,t.bucket),y);return C.urlParams=o,C.errorHandler=kv(t),C}function L6(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function C7(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class JI{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function QP(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Fu(!1)}return Fu(!!e&&-1!==(t||["active"]).indexOf(e)),e}const T7={STATE_CHANGED:"state_changed"},co={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function JP(n){switch(n){case"running":case"pausing":case"canceling":return co.RUNNING;case"paused":return co.PAUSED;case"success":return co.SUCCESS;case"canceled":return co.CANCELED;default:return co.ERROR}}class I7{constructor(t,e,i){if(function GK(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Rv(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class A7 extends class x7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jf.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jf.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jf.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw GC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw GC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw GC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw GC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw GC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Oc(){return new A7}class H6{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=$C(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function D7(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c=L6(t,i,r),d={name:c.fullPath},p=dh(o,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},E=KP(c,e),F=new Nu(p,"POST",function P(j){let te;QP(j);try{te=j.getResponseHeader("X-Goog-Upload-URL")}catch{Fu(!1)}return Fu(YI(te)),te},n.maxUploadRetryTime);return F.urlParams=d,F.headers=C,F.body=E,F.errorHandler=kv(t),F}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Oc,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function E7(n,t,e,i){const p=new Nu(e,"POST",function o(y){const C=QP(y,["active","final"]);let E=null;try{E=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Fu(!1)}E||Fu(!1);const M=Number(E);return Fu(!isNaN(M)),new JI(M,i.size(),"final"===C)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=kv(t),p}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,Oc,e,i);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new JI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let c;try{c=function S7(n,t,e,i,r,o,c,d){const p=new JI(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function BK(){return new Wi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const y=p.total-p.current;let C=y;r>0&&(C=Math.min(C,r));const E=p.current,F={"X-Goog-Upload-Command":C===y?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},j=i.slice(E,E+C);if(null===j)throw D6();const We=new Nu(e,"POST",function te(Ze,bt){const St=QP(Ze,["active","final"]),rn=p.current+C,sr=i.size();let La;return La="final"===St?QI(t,o)(Ze,bt):null,new JI(rn,sr,"final"===St,La)},t.maxUploadRetryTime);return We.headers=F,We.body=j.uploadData(),We.progressCallback=d||null,We.errorHandler=kv(n),We}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,Oc,r,o);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=N6(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Oc,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function V6(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let We="";for(let Ze=0;Ze<2;Ze++)We+=Math.random().toString().slice(2);return We}();c["Content-Type"]="multipart/related; boundary="+p;const y=L6(t,i,r),C=KP(y,e),P=Pu.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===P)throw D6();const F={name:y.fullPath},j=dh(o,n.host,n._protocol),Re=n.maxUploadRetryTime,Ge=new Nu(j,"POST",QI(n,e),Re);return Ge.urlParams=F,Ge.headers=c,Ge.body=P.uploadData(),Ge.errorHandler=kv(t),Ge}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Oc,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=C6(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=JP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new I7(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(JP(this._state)){case co.SUCCESS:Rv(this._resolve.bind(null,this.snapshot))();break;case co.CANCELED:case co.ERROR:Rv(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(JP(this._state)){case co.RUNNING:case co.PAUSED:t.next&&Rv(t.next.bind(t,this.snapshot))();break;case co.SUCCESS:t.complete&&Rv(t.complete.bind(t))();break;default:t.error&&Rv(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class kg{constructor(t,e){this._service=t,this._location=e instanceof Rs?e:Rs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new kg(t,e)}get root(){const t=new Rs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return k6(this._location.path)}get storage(){return this._service}get parent(){const t=function a7(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Rs(this._location.bucket,t);return new kg(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw S6(t)}}function z6(n,t,e){return XP.apply(this,arguments)}function XP(){return XP=(0,be.Z)(function*(n,t,e){const r=yield q6(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield z6(n,t,r.nextPageToken))}),XP.apply(this,arguments)}function q6(n,t){null!=t&&"number"==typeof t.maxResults&&$P("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=y7(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Oc)}function H7(n){n._throwIfRoot("getDownloadURL");const t=function v7(n,t,e){const r=dh(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Nu(r,"GET",function _7(n,t){return function e(i,r){const o=R6(n,r,t);return Fu(null!==o),function f7(n,t,e,i){const r=WP(t);if(null===r||!YI(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(y=>{const E=n.fullPath;return dh("/b/"+c(n.bucket)+"/o/"+c(E),e,i)+I6({alt:"media",token:y})})[0]}(o,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=ZC(t),d}(n.storage,n._location,$C());return n.storage.makeRequestWithTokens(t,Oc).then(e=>{if(null===e)throw function UK(){return new Wi("no-download-url","The given file does not have any download URLs.")}();return e})}function G6(n,t){const e=function l7(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Rs(n._location.bucket,e);return new kg(n.storage,i)}function $6(n,t){if(n instanceof eN){const e=n;if(null==e._bucket)throw function VK(){return new Wi("no-default-bucket","No default bucket found. Did you set the '"+w6+"' property when initializing the app?")}();const i=new kg(e,e._bucket);return null!=t?$6(i,t):i}return void 0!==t?G6(n,t):n}function G7(n,t){if(t&&function z7(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof eN)return function q7(n,t){return new kg(n,t)}(n,t);throw Mv("To use ref(service, url), the first argument must be a Storage instance.")}return $6(n,t)}function Z6(n,t){const e=t?.[w6];return null==e?null:Rs.makeFromBucketSpec(e,n)}class eN{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=b6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Rs.makeFromBucketSpec(r,this._host):Z6(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Rs.makeFromBucketSpec(this._url,t):Z6(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){$P("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){$P("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,be.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,be.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new kg(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new HK(E6());{const o=function JK(n,t,e,i,r,o){const c=I6(n.urlParams),d=n.url+c,p=Object.assign({},n.headers);return function KK(n,t){t&&(n["X-Firebase-GMPID"]=t)}(p,t),function YK(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(p,e),function WK(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(p,o),function QK(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(p,i),new ZK(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,be.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const Y6="@firebase/storage";function Q6(n,t){return G7(n=(0,N.m9)(n),t)}function n9(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new eN(e,i,r,t,As.SDK_VERSION)}!function i9(){(0,As._registerComponent)(new Rl.wA("storage",n9,"PUBLIC").setMultipleInstances(!0)),(0,As.registerVersion)(Y6,"0.9.9",""),(0,As.registerVersion)(Y6,"0.9.9","esm2017")}();class XI{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class J6{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new XI(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new XI(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?c=>e(new XI(c,this,this._ref)):{next:e.next?c=>e.next(new XI(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class X6{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new hh(t,this._service))}get items(){return this._delegate.items.map(t=>new hh(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class hh{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function e9(n,t){return G6(n,t)}(this._delegate,t);return new hh(e,this.storage)}get root(){return new hh(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new hh(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new J6(function Z7(n,t,e){return function F7(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new H6(n,new Pu(t),e)}(n=(0,N.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ka.RAW,i){this._throwIfRoot("putString");const r=YP(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new J6(new H6(this._delegate,new Pu(r.data,!0),o),this)}listAll(){return function Q7(n){return function V7(n){const t={prefixes:[],items:[]};return z6(n,t).then(()=>t)}(n=(0,N.m9)(n))}(this._delegate).then(t=>new X6(t,this.storage))}list(t){return function K7(n,t){return q6(n=(0,N.m9)(n),t)}(this._delegate,t||void 0).then(e=>new X6(e,this.storage))}getMetadata(){return function Y7(n){return function B7(n){n._throwIfRoot("getMetadata");const t=N6(n.storage,n._location,$C());return n.storage.makeRequestWithTokens(t,Oc)}(n=(0,N.m9)(n))}(this._delegate)}updateMetadata(t){return function W7(n,t){return function U7(n,t){n._throwIfRoot("updateMetadata");const e=function b7(n,t,e,i){const o=dh(t.fullServerUrl(),n.host,n._protocol),d=KP(e,i),y=n.maxOperationRetryTime,C=new Nu(o,"PATCH",QI(n,i),y);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=d,C.errorHandler=ZC(t),C}(n.storage,n._location,t,$C());return n.storage.makeRequestWithTokens(e,Oc)}(n=(0,N.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function J7(n){return H7(n=(0,N.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function X7(n){return function j7(n){n._throwIfRoot("deleteObject");const t=function w7(n,t){const i=dh(t.fullServerUrl(),n.host,n._protocol),d=new Nu(i,"DELETE",function c(p,y){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=ZC(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Oc)}(n=(0,N.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw S6(t)}}class ej{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(tj(t))throw Mv("ref() expected a child path but got a URL, use refFromURL instead.");return new hh(Q6(this._delegate,t),this)}refFromURL(t){if(!tj(t))throw Mv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Rs.makeFromUrl(t,this._delegate.host)}catch{throw Mv("refFromUrl() expected a valid full URL but got an invalid one.")}return new hh(Q6(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function t9(n,t,e,i={}){!function $7(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,N.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function tj(n){return/^[A-Za-z]+:\/\//.test(n)}function a9(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new ej(e,i)}function nj(n){const t=function c9(n){return new Fn.y(t=>{const e=c=>t.next(c);e(n.snapshot);const o=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){o()}}).pipe(Im(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Ue.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function ex(n){return{getDownloadURL:()=>Fe(void 0).pipe(mn.fc,g(()=>n.getDownloadURL()),mn.iC),getMetadata:()=>Fe(void 0).pipe(mn.fc,g(()=>n.getMetadata()),mn.iC),delete:()=>(0,dt.D)(n.delete()),child:t=>ex(n.child(t)),updateMetadata:t=>(0,dt.D)(n.updateMetadata(t)),put:(t,e)=>nj(n.put(t,e)),putString:(t,e,i)=>nj(n.putString(t,e,i)),list:t=>(0,dt.D)(n.list(t)),listAll:()=>(0,dt.D)(n.listAll())}}!function l9(n){const t={TaskState:co,TaskEvent:T7,StringFormat:ka,Storage:ej,Reference:hh};n.INTERNAL.registerComponent(new Rl.wA("storage-compat",a9,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(pT.Z);const u9=new s.OlP("angularfire2.storageBucket"),d9=new s.OlP("angularfire2.storage.maxUploadRetryTime"),h9=new s.OlP("angularfire2.storage.maxOperationRetryTime"),f9=new s.OlP("angularfire2.storage.use-emulator");let tN=(()=>{class n{constructor(e,i,r,o,c,d,p,y,C,E){const M=(0,nr.on)(e,c,i);this.storage=(0,nr.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const P=c.runOutsideAngular(()=>M.storage(r||void 0)),F=C;return F&&P.useEmulator(...F),p&&P.setMaxUploadRetryTime(p),y&&P.setMaxOperationRetryTime(y),P},[p,y])}ref(e){return ex(this.storage.ref(e))}refFromURL(e){return ex(this.storage.refFromURL(e))}upload(e,i,r){return ex(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nr.Dh),s.LFG(nr.xv,8),s.LFG(u9,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(mn.HU),s.LFG(d9,8),s.LFG(h9,8),s.LFG(f9,8),s.LFG(UC,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),p9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),ij=(()=>{class n{constructor(){jI.Z.registerVersion("angularfire",mn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[tN],imports:[p9]}),n})(),m9=(()=>{class n{constructor(e,i){this.fireStorage=e,this.authService=i}uploadImage(e){const i=`$'profile_images/${e.name}`,r=this.fireStorage.ref(i);return this.fireStorage.upload(i,e).snapshotChanges().pipe(uu(()=>{r.getDownloadURL().subscribe(c=>{this.authService.adminState$.subscribe(d=>{d&&d?.updateProfile({photoURL:c})})})}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(tN),s.LFG(Yi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nN(n){return n instanceof s.Rgc}function iN(n){return"function"==typeof n}function rj(n){return"string"==typeof n}let g9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(e,i){1&e&&s._UZ(0,"div",0),2&e&&s.Q6J("innerHTML",i.content,s.oJD)},encapsulation:2}),n})();class _9{constructor(t){this.args=t,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const t=this.viewRef.rootNodes;return 1===t.length&&t[0]===Node.ELEMENT_NODE?this.element=t[0]:(this.element=document.createElement("div"),this.element.append(...t)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class y9{constructor(t){this.value=t}getElement(){return this.value}detectChanges(){}destroy(){}}class v9{constructor(t){if(this.options=t,t.vcr)this.compRef=t.vcr.createComponent(t.component,{index:t.vcr.length,injector:t.injector||t.vcr.injector});else{const e=t.resolver.resolveComponentFactory(t.component);this.compRef=e.create(t.injector),t.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(t,e){return this.compRef.instance[t]=e,this}setInputs(t){return Object.keys(t).forEach(e=>{this.compRef.instance[e]=t[e]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(t){return t.appendChild(this.getElement()),this}removeFrom(t){return t.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let sj=(()=>{class n{constructor(e,i,r){this.resolver=e,this.injector=i,this.appRef=r}createComponent(e,i={}){return new v9({component:e,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(e,i={}){return new _9({vcr:i.vcr,appRef:this.appRef,tpl:e,context:i.context})}createView(e,i={}){if(nN(e))return this.createTemplate(e,i);if(iN(e))return this.createComponent(e,i);if(rj(e))return new y9(e);throw"Type of content is not supported"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b9=(()=>{class n{constructor(e,i,r){this.defaultTpl=e,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(e){e.view&&!e.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),rj(this.view)?(this.viewRef=this.viewService.createComponent(g9,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(sj))},n.\u0275dir=s.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[s.TTD]}),n})(),w9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const{isArray:C9}=Array;const T9=["*"],I9=function(n,t){return{"border-color":n,"border-right-color":t}};function x9(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1,"\n        "),s._UZ(2,"hot-toast-error",2),s._uU(3,"\n      "),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("theme",e.theme)}}function A9(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1,"\n        "),s._UZ(2,"hot-toast-checkmark",2),s._uU(3,"\n      "),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("theme",e.theme)}}function M9(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1,"\n        "),s._UZ(2,"hot-toast-warning",2),s._uU(3,"\n      "),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("theme",e.theme)}}function k9(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1,"\n        "),s._UZ(2,"hot-toast-info",2),s._uU(3,"\n      "),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("theme",e.theme)}}function R9(n,t){if(1&n&&(s.TgZ(0,"div",4),s._uU(1,"\n    "),s.TgZ(2,"div",5),s._uU(3,"\n      "),s.YNc(4,x9,4,1,"div",6),s._uU(5,"\n      "),s.YNc(6,A9,4,1,"div",6),s._uU(7,"\n      "),s.YNc(8,M9,4,1,"div",6),s._uU(9,"\n      "),s.YNc(10,k9,4,1,"div",6),s._uU(11,"\n    "),s.qZA(),s._uU(12,"\n  "),s.qZA()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngSwitch",e.type),s.xp6(2),s.Q6J("ngSwitchCase","error"),s.xp6(2),s.Q6J("ngSwitchCase","success"),s.xp6(2),s.Q6J("ngSwitchCase","warning"),s.xp6(2),s.Q6J("ngSwitchCase","info")}}function O9(n,t){if(1&n&&(s.TgZ(0,"div",1),s._uU(1,"\n  "),s._UZ(2,"hot-toast-loader",2),s._uU(3,"\n  "),s.YNc(4,R9,13,5,"div",3),s._uU(5,"\n"),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("theme",e.theme),s.xp6(2),s.Q6J("ngIf","loading"!==e.type)}}const P9=["hotToastBarBase"];function N9(n,t){if(1&n&&(s.ynx(0),s._uU(1,"\n          "),s.TgZ(2,"hot-toast-animated-icon",10),s._uU(3),s.qZA(),s._uU(4,"\n        "),s.BQk()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("iconTheme",e.toast.iconTheme),s.xp6(1),s.Oqu(e.toast.icon)}}function F9(n,t){if(1&n&&(s._uU(0,"\n          "),s.TgZ(1,"div"),s._uU(2,"\n            "),s.GkF(3,11),s._uU(4,"\n          "),s.qZA(),s._uU(5,"\n        ")),2&n){const e=s.oxw(2);s.xp6(3),s.Q6J("dynamicView",e.toast.icon)}}function L9(n,t){if(1&n&&(s.ynx(0),s._uU(1,"\n        "),s.YNc(2,N9,5,2,"ng-container",4),s._uU(3,"\n        "),s.YNc(4,F9,6,1,"ng-template",null,9,s.W1O),s._uU(6,"\n      "),s.BQk()),2&n){const e=s.MAs(5),i=s.oxw();s.xp6(2),s.Q6J("ngIf",i.isIconString)("ngIfElse",e)}}function V9(n,t){if(1&n&&(s._uU(0,"\n        "),s._UZ(1,"hot-toast-indicator",12),s._uU(2,"\n      ")),2&n){const e=s.oxw();s.xp6(1),s.Q6J("theme",e.toast.iconTheme)("type",e.toast.type)}}function B9(n,t){1&n&&s.GkF(0)}function U9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",13),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.close())}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngStyle",e.toast.closeStyle)}}function H9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"hot-toast",3),s.NdJ("height",function(r){const c=s.CHM(e).$implicit,d=s.oxw();return s.KtG(d.updateHeight(r,c))})("beforeClosed",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.beforeClosed(o))})("afterClosed",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.afterClosed(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("toast",e)("offset",r.calculateOffset(e.id,e.position))("toastRef",r.toastRefs[i])}}const oj={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class lj{constructor(t){this.toast=t,this._onClosed=new et.x}set dispose(t){this._dispose=t}getToast(){return this.toast}appendTo(t){const{dispose:e,updateMessage:i,updateToast:r,afterClosed:o}=t.addToast(this);return this.dispose=e,this.updateMessage=i,this.updateToast=r,this.afterClosed=function E9(...n){return 1===(n=function D9(n){return 1===n.length&&C9(n[0])?n[0]:n}(n)).length?(0,Er.Xf)(n[0]):new Fn.y(function S9(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,Er.Xf)(n[i]).subscribe((0,hn.x)(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))}(this._onClosed.asObservable(),o),this}close(t={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:t.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let G9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:T9,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0),s._uU(1,"\n  "),s.Hsn(2),s._uU(3,"\n"),s.qZA(),s._uU(4,"\n")),2&e&&s.Udp("color",null==i.iconTheme?null:i.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),$9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(e,i){1&e&&(s._UZ(0,"div",0),s._uU(1,"\n")),2&e&&s.Q6J("ngStyle",s.WLB(1,I9,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},dependencies:[_h],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),Z9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(e,i){1&e&&(s._UZ(0,"div",0),s._uU(1,"\n")),2&e&&s.Udp("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),Y9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(e,i){1&e&&(s._UZ(0,"div",0),s._uU(1,"\n")),2&e&&s.Udp("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),W9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(e,i){1&e&&(s._UZ(0,"div",0),s._uU(1,"\n")),2&e&&s.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),K9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(e,i){1&e&&(s._UZ(0,"div",0),s._uU(1,"\n")),2&e&&s.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),Q9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,i){1&e&&(s.YNc(0,O9,6,2,"div",0),s._uU(1,"\n")),2&e&&s.Q6J("ngIf","blank"!==i.type)},dependencies:[$9,Z9,Y9,W9,K9,dn,Vs,Bi],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),cj=(()=>{class n{constructor(e,i,r){this.injector=e,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new s.vpe,this.beforeClosed=new s.vpe,this.afterClosed=new s.vpe,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){nN(this.toast.message)&&(this.context={$implicit:this.toastRef}),iN(this.toast.message)&&(this.toastComponentInjector=s.zs3.create({providers:[{provide:lj,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const e=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(e.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(e,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(e,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const e=this.toast.position.includes("top"),i=e?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(e?1:-1)}px)`,...i,...r}}get toastBarBaseStyles(){const e=this.toast.position.includes("top"),i=`hotToastEnterAnimation${e?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${i}, hotToastExitAnimation${e?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i}}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,t)=>{this.toastBarBase.nativeElement.style.animation=t})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(e){return e.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const e=this.toast.attributes;for(const[i,r]of Object.entries(e))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.zs3),s.Y36(s.Qsj),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(e,i){if(1&e&&s.Gf(P9,5),2&e){let r;s.iGM(r=s.CRH())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0),s._uU(1,"\n  "),s.TgZ(2,"div",1,2),s._uU(4,"\n    "),s.TgZ(5,"div",3),s._uU(6,"\n      "),s.YNc(7,L9,7,2,"ng-container",4),s._uU(8,"\n\n      "),s.YNc(9,V9,3,2,"ng-template",null,5,s.W1O),s._uU(11,"\n    "),s.qZA(),s._uU(12,"\n\n    "),s.TgZ(13,"div",6),s._uU(14,"\n      "),s.TgZ(15,"div"),s._uU(16,"\n        "),s.YNc(17,B9,1,0,"ng-container",7),s._uU(18,"\n      "),s.qZA(),s._uU(19,"\n    "),s.qZA(),s._uU(20,"\n\n    "),s.YNc(21,U9,1,1,"button",8),s._uU(22,"\n  "),s.qZA(),s._uU(23,"\n"),s.qZA(),s._uU(24,"\n")),2&e){const r=s.MAs(10);s.Q6J("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),s.xp6(2),s.Udp("--hot-toast-animation-state",i.isManualClose?"running":"paused"),s.Q6J("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),s.uIk("aria-live",i.toast.ariaLive)("role",i.toast.role),s.xp6(5),s.Q6J("ngIf",void 0!==i.toast.icon)("ngIfElse",r),s.xp6(10),s.Q6J("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),s.xp6(4),s.Q6J("ngIf",i.toast.dismissible)}},dependencies:[G9,Q9,_h,ea,dn,b9],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),J9=(()=>{class n{constructor(e){this.cdr=e,this.toasts=[],this.toastRefs=[],this._onClosed=new et.x,this.onClosed$=this._onClosed.asObservable()}trackById(e,i){return i.id}calculateOffset(e,i){const r=this.toasts.filter(d=>d.visible&&d.position===i),o=r.findIndex(d=>d.id===e);return-1!==o?r.slice(...this.defaultConfig.reverseOrder?[o+1]:[0,o]).reduce((d,p)=>d+(p.height||0)+8,0):0}updateHeight(e,i){i.height=e,this.cdr.detectChanges()}addToast(e){this.toastRefs.push(e);const i=e.getToast();return this.toasts.push(e.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(e){if(e){const i=this.hotToastComponentList.find(r=>r.toast.id===e);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(e){e.visible=!1}afterClosed(e){this.toasts.findIndex(r=>r.id===e.id)>-1&&(this._onClosed.next(e),this.toasts=this.toasts.filter(r=>r.id!==e.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==e.id),this.cdr.detectChanges())}hasToast(e){return this.toasts.findIndex(i=>i.id===e)>-1}getAfterClosed(e){return this.onClosed$.pipe(R(i=>i.id===e.id))}updateToasts(e,i){this.toasts=this.toasts.map(r=>({...r,...r.id===e.id&&{...e,...i}}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(cj,5),2&e){let r;s.iGM(r=s.CRH())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._uU(1,"\n  "),s.TgZ(2,"div",1),s._uU(3,"\n    "),s.YNc(4,H9,1,3,"hot-toast",2),s._uU(5,"\n  "),s.qZA(),s._uU(6,"\n"),s.qZA(),s._uU(7,"\n")),2&e&&(s.xp6(4),s.Q6J("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},dependencies:[cj,di],encapsulation:2,changeDetection:0}),n})();class rN{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class tQ{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let fh=(()=>{class n{constructor(e,i,r){this._viewService=e,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new rN,this._defaultPersistConfig=new tQ,r&&(this._defaultConfig={...this._defaultConfig,...r})}get defaultConfig(){return this._defaultConfig}set defaultConfig(e){this._defaultConfig={...this._defaultConfig,...e},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(e,i){return this.createToast(e||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...i})}error(e,i){return this.createToast(e||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...i})}success(e,i){return this.createToast(e||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...i})}loading(e,i){return this.createToast(e||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...i})}warning(e,i){return this.createToast(e||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}info(e,i){return this.createToast(e||this._defaultConfig.warning.content,"info",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}observe(e){return i=>{let r,o=0;const c=e.loading??this._defaultConfig.loading?.content,d=e.success??this._defaultConfig.success?.content,p=e.error??this._defaultConfig.error?.content;return _l(()=>(c&&(r=this.createLoadingToast(c),o=Date.now()),i.pipe((0,Gt.b)({...d&&{next:y=>{r=this.createOrUpdateToast(e,y,r,"success",0===o?o:Date.now()-o)}},...p&&{error:y=>{r=this.createOrUpdateToast(e,y,r,"error",0===o?o:Date.now()-o)}}}))))}}close(e){this._componentRef&&this._componentRef.ref.instance.closeToast(e)}init(){dr(this.platformId)||(this._componentRef=this._viewService.createComponent(J9).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(e,i,r,o,c){let d=null,p={};if(({content:d,options:p}=this.getContentAndOptions(o,e[o]||(this._defaultConfig[o]?this._defaultConfig[o].content:""))),d=((n,t)=>(n=>"function"==typeof n)(n)?n(t):n)(d,i),r){r.updateMessage(d);const y={type:o,duration:c+oj[o],...p,...p.duration&&{duration:c+p.duration}};r.updateToast(y)}else this.createToast(d,o,p);return r}createToast(e,i,r,o){this._isInitialized||(this._isInitialized=!0,this.init());const c=Date.now(),d=r?.id??c.toString();if(!this.isDuplicate(d)&&(!r.persist?.enabled||r.persist?.enabled&&this.handleStorageValue(d,r))){const p={ariaLive:r?.ariaLive??"polite",createdAt:c,duration:r?.duration??oj[i],id:d,message:e,role:r?.role??"status",type:i,visible:!0,observableMessages:o??void 0,...r};return new lj(p).appendTo(this._componentRef.ref.instance)}}isDuplicate(e){return this._componentRef.ref.instance.hasToast(e)}handleStorageValue(e,i){let r=1;const o={...this._defaultPersistConfig,...i.persist},c="local"===o.storage?localStorage:sessionStorage,d=o.key.replace(/\${id}/g,e);let p=c.getItem(d);return p?(p=parseInt(p,10),r=p>0?p-1:p):r=o.count,c.setItem(d,r.toString()),r}getContentAndOptions(e,i){let r,o={...this._defaultConfig,...this._defaultConfig[e]};if("string"==typeof i||nN(i)||iN(i))r=i;else{let c;({content:r,...c}=i),o={...o,...c}}return{content:r,options:o}}createLoadingToast(e){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",e)),this.loading(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sj),s.LFG(s.Lbi),s.LFG(rN,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nQ=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:rN,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[cr,w9]]}),n})(),Ov=(()=>{class n{constructor(e,i){this.firestore=e,this.authService=i,this.isLoggedInUserCompany$=this.authService.adminState$.pipe(g(r=>r?this.companiesCollection.doc(r.uid).get().pipe(g(o=>Fe(!!o.exists))):Fe(!1))),this.companiesCollection=this.firestore.collection("companies"),this.adminState$=this.authService.adminState$.pipe(g(r=>r?this.get(r?.uid).pipe((0,Ue.U)(o=>o.data())):Fe(null)))}get(e){return(0,dt.D)(this.companiesCollection.doc(e).get())}getCompany(e){return(0,dt.D)(this.companiesCollection.doc(e).valueChanges())}create(e){return(0,dt.D)(this.companiesCollection.doc(e.uid).set(e))}update(e){return(0,dt.D)(this.companiesCollection.doc(e.uid).update({...e}))}delete(e){return(0,dt.D)(this.companiesCollection.doc(e).delete())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ag),s.LFG(Yi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uj=["*"],iQ=["content"];function rQ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function sQ(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const oQ=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],aQ=["mat-drawer","mat-drawer-content","*"],lQ={transformDrawer:Ml("transform",[jr("open, open-instant",An({transform:"none",visibility:"visible"})),jr("void",An({"box-shadow":"none",visibility:"hidden"})),xs("void => open-instant",Is("0ms")),xs("void <=> open, open-instant => void",Is("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},cQ=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function uQ(){return!1}}),dj=new s.OlP("MAT_DRAWER_CONTAINER");let sN=(()=>{class n extends oy{constructor(e,i,r,o,c){super(r,o,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>aN)),s.Y36(s.SBq),s.Y36(sy),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:oy,useExisting:n}]),s.qOj],ngContentSelectors:uj,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),oN=(()=>{class n{constructor(e,i,r,o,c,d,p,y){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=c,this._interactivityChecker=d,this._doc=p,this._container=y,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new et.x,this._animationEnd=new et.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(R(C=>C),(0,Ue.U)(()=>{})),this.openedStart=this._animationStarted.pipe(R(C=>C.fromState!==C.toState&&0===C.toState.indexOf("open")),yl(void 0)),this._closedStream=this.openedChange.pipe(R(C=>!C),(0,Ue.U)(()=>{})),this.closedStart=this._animationStarted.pipe(R(C=>C.fromState!==C.toState&&"void"===C.toState),yl(void 0)),this._destroyed=new et.x,this.onPositionChanged=new s.vpe,this._modeChanged=new et.x,this.openedChange.subscribe(C=>{C?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Cc(this._elementRef.nativeElement,"keydown").pipe(R(C=>27===C.keyCode&&!this.disableClose&&!gr(C)),Zt(this._destroyed)).subscribe(C=>this._ngZone.run(()=>{this.close(),C.stopPropagation(),C.preventDefault()}))}),this._animationEnd.pipe(xm((C,E)=>C.fromState===E.fromState&&C.toState===E.toState)).subscribe(C=>{const{fromState:E,toState:M}=C;(0===M.indexOf("open")&&"void"===E||"void"===M&&0===E.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Dt(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Dt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Dt(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(w(1)).subscribe(c=>o(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Wd),s.Y36(Kd),s.Y36(er),s.Y36(s.R0b),s.Y36(vf),s.Y36(ie,8),s.Y36(dj,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(iQ,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:uj,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[oy],encapsulation:2,data:{animation:[lQ.transformDrawer]},changeDetection:0}),n})(),aN=(()=>{class n{constructor(e,i,r,o,c,d=!1,p){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=p,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new et.x,this._doCheckSubject=new et.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new et.x,e&&e.change.pipe(Zt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Zt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Dt(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:Dt(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(A(this._allDrawers),Zt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(A(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Im(10),Zt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(R(i=>i.fromState!==i.toState),Zt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Zt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Zt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(w(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Zt((0,ti.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ur,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(Gd),s.Y36(cQ),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,sN,5),s.Suo(r,oN,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(sN,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:dj,useExisting:n}])],ngContentSelectors:aQ,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(oQ),s.YNc(0,rQ,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,sQ,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[dn,sN],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),dQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[cr,pn,Ec,Ec,pn]}),n})();function hQ(n,t){if(1&n&&(s.TgZ(0,"h2"),s._uU(1),s.qZA()),2&n){const e=t.ngIf;s.xp6(1),s.hij("Welcome ",e.companyName,"")}}function fQ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s._UZ(1,"img",20),s.TgZ(2,"div",21)(3,"button",22),s.NdJ("click",function(){s.CHM(e);const r=s.MAs(7);return s.KtG(r.click())}),s.TgZ(4,"mat-icon",23),s._uU(5,"edit"),s.qZA()(),s.TgZ(6,"input",24,25),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.submit(r))}),s.qZA()()()}if(2&n){const e=t.ngIf;let i;s.xp6(1),s.Q6J("src",null!==(i=e.photoURL)&&void 0!==i?i:"/assets/images/logo.png",s.LSH)}}function pQ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.toggle())})("click",function(){s.CHM(e),s.oxw();const r=s.MAs(9);return s.KtG(r.toggle())}),s._uU(1,">>"),s.qZA()}}let mQ=(()=>{class n{constructor(e,i,r,o,c){this.authService=e,this.router=i,this.ngopic=r,this.toast=o,this.companyService=c,this.isShown=!0}ngOnInit(){}toggle(){this.isShown=!this.isShown}adminLogout(){this.authService.adminSignOut().subscribe(()=>{this.router.navigate(["landingg/about"])})}submit(e){const r=e.target?.files?.[0];this.ngopic.uploadImage(r).pipe(this.toast.observe({loading:"Uploading Image ...",success:"Image Saved",error:o=>"This error Haappened: "+o})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yi),s.Y36(fn),s.Y36(m9),s.Y36(fh),s.Y36(Ov))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-layout"]],decls:35,vars:7,consts:[["id","header"],["src","./assets/images/logo.png","alt","we-logo"],[4,"ngIf"],["autosize","",1,"example-container"],["mode","side",1,"example-sidenav"],["drawer",""],["id","nav"],["class","profile-img",4,"ngIf"],["id","a-container"],[1,"ancor"],["routerLink","/admin/post"],["routerLink","/admin/activities"],["routerLink","/admin/view"],["routerLink","/admin/profile"],["id","logout","mat-raised-button","","color","accent",3,"click"],["id","btn0","mat-stroked-button","","color","primary",3,"click"],[1,"example-sidenav-content"],["id","main"],["id","btn","mat-stroked-button","","color","primary",3,"click",4,"ngIf"],[1,"profile-img"],[3,"src"],["id","btn"],["id","pic-btn","mat-mini-fab","","color","primary",3,"click"],["id","pen"],["type","file","hidden","","accept","image/*","value","select image",3,"change"],["inputFile",""],["id","btn","mat-stroked-button","","color","primary",3,"click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"header")(1,"div",0),s._UZ(2,"img",1),s.YNc(3,hQ,2,1,"h2",2),s.ALo(4,"async"),s.TgZ(5,"h1"),s._uU(6,"NGO Control Panel"),s.qZA()()(),s.TgZ(7,"mat-drawer-container",3)(8,"mat-drawer",4,5)(10,"div",6),s.YNc(11,fQ,8,1,"div",7),s.ALo(12,"async"),s.TgZ(13,"div",8)(14,"div",9)(15,"a",10),s._uU(16,"Post"),s.qZA()(),s.TgZ(17,"div",9)(18,"a",11),s._uU(19,"Activities"),s.qZA()(),s.TgZ(20,"div",9)(21,"a",12),s._uU(22,"View"),s.qZA()(),s.TgZ(23,"div",9)(24,"a",13),s._uU(25,"Profile"),s.qZA()()(),s.TgZ(26,"button",14),s.NdJ("click",function(){return i.adminLogout()}),s.TgZ(27,"mat-icon"),s._uU(28,"logout"),s.qZA()(),s.TgZ(29,"button",15),s.NdJ("click",function(){return i.toggle()})("click",function(){s.CHM(r);const c=s.MAs(9);return s.KtG(c.toggle())}),s._uU(30,"<<"),s.qZA()()(),s.TgZ(31,"div",16)(32,"div",17),s._UZ(33,"router-outlet"),s.qZA(),s.YNc(34,pQ,2,0,"button",18),s.qZA()()}2&e&&(s.xp6(3),s.Q6J("ngIf",s.lcZ(4,3,i.companyService.adminState$)),s.xp6(8),s.Q6J("ngIf",s.lcZ(12,5,i.authService.adminState$)),s.xp6(23),s.Q6J("ngIf",i.isShown))},dependencies:[dn,Br,Js,uh,wr,oN,aN,qa],styles:['#header[_ngcontent-%COMP%]{margin:0 auto;overflow:hidden;background-color:#8a2be2;position:fixed;display:flex;justify-content:space-between;align-items:center;z-index:44;width:100%}#header[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:indigo;padding-bottom:124.42136%;width:100%;bottom:0;left:0;transform:rotate(80deg);transform-origin:left bottom}#main[_ngcontent-%COMP%]{margin:40px 30px}img[_ngcontent-%COMP%]{width:100px;height:75px;z-index:2}#nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;width:100%;height:550px;z-index:4}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;z-index:2;font-size:17px}a[_ngcontent-%COMP%]:hover{color:#8a2be2}.ancor[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid white;width:100%;height:100%;justify-content:center;align-items:center}#a-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:300px;width:100%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin:auto 20px;z-index:5;justify-self:center;align-self:center;color:#fff}.example-container[_ngcontent-%COMP%]{top:75px;position:fixed;width:100%;height:100%;border:1px solid indigo}.example-sidenav-content[_ngcontent-%COMP%]{height:100%}.example-sidenav[_ngcontent-%COMP%]{width:200px;background-color:indigo}#btn0[_ngcontent-%COMP%]{border:1px solid white;color:#fff;margin-bottom:20px}#btn[_ngcontent-%COMP%]{border:1px solid indigo;color:indigo}#logout[_ngcontent-%COMP%]{margin:5px 0}.profile-img[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100px;height:100px}.profile-img[_ngcontent-%COMP%]{position:relative}img[_ngcontent-%COMP%]{border-radius:100%}#pic-btn[_ngcontent-%COMP%]{width:25px;height:25px;position:relative;left:10px;bottom:30px}#pen[_ngcontent-%COMP%]{transform:scale(.7);position:absolute;left:0px;bottom:1px}#btn[_ngcontent-%COMP%]{position:absolute}']}),n})();const gQ=["connectionContainer"],_Q=["inputContainer"],yQ=["label"];function vQ(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function bQ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function wQ(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function CQ(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function DQ(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function EQ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.YNc(2,wQ,4,1,"ng-container",12),s.YNc(3,CQ,1,0,"ng-content",12),s.YNc(4,DQ,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function SQ(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function TQ(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function IQ(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function xQ(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function AQ(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,xQ,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const MQ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],kQ=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let RQ=0;const hj=new s.OlP("MatError");let tx=(()=>{class n{constructor(e,i){this.id="mat-error-"+RQ++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:hj,useExisting:n}])]}),n})();const OQ={transitionMessages:Ml("transitionMessages",[jr("enter",An({opacity:1,transform:"translateY(0%)"})),xs("void => enter",[An({opacity:0,transform:"translateY(-5px)"}),Is("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Pv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})(),PQ=0;const fj=new s.OlP("MatHint");let lN=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+PQ++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id)("align",null),s.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[s._Bn([{provide:fj,useExisting:n}])]}),n})(),Pc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),NQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const FQ=new s.OlP("MatPrefix"),pj=new s.OlP("MatSuffix");let Rg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:pj,useExisting:n}])]}),n})(),mj=0;const VQ=wf(class{constructor(n){this._elementRef=n}},"primary"),BQ=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Nv=new s.OlP("MatFormField");let Lu=(()=>{class n extends VQ{constructor(e,i,r,o,c,d,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new et.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+mj++,this._labelId="mat-form-field-label-"+mj++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Dt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(A(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Zt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Zt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ti.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(A(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(A(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Zt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Cc(this._label.nativeElement,"transitionend").pipe(w(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const C=i.querySelectorAll(`${r}, ${o}`);for(let E=0;E<C.length;E++)C[E].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const p=i.querySelectorAll(r),y=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const C=i.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const E=this._getStartEnd(C),M=e.children,P=this._getStartEnd(M[0].getBoundingClientRect());let F=0;for(let j=0;j<M.length;j++)F+=M[j].offsetWidth;c=Math.abs(P-E)-5,d=F>0?.75*F+10:0}for(let C=0;C<p.length;C++)p[C].style.width=`${c}px`;for(let C=0;C<y.length;C++)y[C].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ur,8),s.Y36(BQ,8),s.Y36(er),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Pv,5),s.Suo(r,Pv,7),s.Suo(r,Pc,5),s.Suo(r,Pc,7),s.Suo(r,NQ,5),s.Suo(r,hj,5),s.Suo(r,fj,5),s.Suo(r,FQ,5),s.Suo(r,pj,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(gQ,7),s.Gf(_Q,5),s.Gf(yQ,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:Nv,useExisting:n}]),s.qOj],ngContentSelectors:kQ,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(MQ),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,vQ,9,0,"ng-container",3),s.YNc(4,bQ,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,EQ,5,16,"label",8),s.qZA()(),s.YNc(10,SQ,2,0,"div",9),s.qZA(),s.YNc(11,TQ,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,IQ,2,1,"div",12),s.YNc(14,AQ,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[dn,Vs,Bi,yf],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[OQ.transitionMessages]},changeDetection:0}),n})(),nx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[cr,pn,mS,pn]}),n})();const _j=Bd({passive:!0});let UQ=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Uo.E;const i=vc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new et.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,_j),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",d,_j)}}),o}stopMonitoring(e){const i=vc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(er),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const vj=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),HQ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let jQ=0;const zQ=Mm(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new et.x}});let Vu=(()=>{class n extends zQ{constructor(e,i,r,o,c,d,p,y,C,E){super(d,o,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=y,this._formField=E,this._uid="mat-input-"+jQ++,this.focused=!1,this.stateChanges=new et.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>b0().has(F)),this._iOSKeyupListener=F=>{const j=F.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))};const M=this._elementRef.nativeElement,P=M.nodeName.toLowerCase();this._inputValueAccessor=p||M,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===P,this._isTextarea="textarea"===P,this._isInFormField=!!E,this._isNativeSelect&&(this.controlType=M.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Dt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(lt.required)??!1}set required(e){this._required=Dt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&b0().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Dt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){HQ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(er),s.Y36(Ai,10),s.Y36(zi,8),s.Y36(Un,8),s.Y36(qo),s.Y36(vj,10),s.Y36(UQ),s.Y36(s.R0b),s.Y36(Nv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:Pv,useExisting:n}]),s.qOj,s.TTD]}),n})(),qQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[qo],imports:[yj,nx,pn,yj,nx]}),n})();const GQ=["mat-calendar-body",""];function $Q(n,t){if(1&n&&(s.TgZ(0,"tr",2)(1,"td",3),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e.numCols),s.xp6(1),s.hij(" ",e.label," ")}}function ZQ(n,t){if(1&n&&(s.TgZ(0,"td",3),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e._firstRowOffset),s.xp6(1),s.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function YQ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",7)(1,"button",8),s.NdJ("click",function(r){const c=s.CHM(e).$implicit,d=s.oxw(2);return s.KtG(d._cellClicked(c,r))})("focus",function(r){const c=s.CHM(e).$implicit,d=s.oxw(2);return s.KtG(d._emitActiveDateChange(c,r))}),s.TgZ(2,"div",9),s._uU(3),s.qZA(),s._UZ(4,"div",10),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw().index,o=s.oxw();s.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),s.uIk("data-mat-row",r)("data-mat-col",i),s.xp6(1),s.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),s.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),s.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null),s.xp6(1),s.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),s.xp6(1),s.hij(" ",e.displayValue," ")}}function WQ(n,t){if(1&n&&(s.TgZ(0,"tr",4),s.YNc(1,ZQ,2,6,"td",5),s.YNc(2,YQ,5,47,"td",6),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(1),s.Q6J("ngIf",0===i&&r._firstRowOffset),s.xp6(1),s.Q6J("ngForOf",e)}}function KQ(n,t){if(1&n&&(s.TgZ(0,"th",5)(1,"span",6),s._uU(2),s.qZA(),s.TgZ(3,"span",7),s._uU(4),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.long),s.xp6(2),s.Oqu(e.narrow)}}const QQ=["*"];function JQ(n,t){}function XQ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-month-view",5),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("_userSelection",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._dateSelected(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function eJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-year-view",6),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("monthSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._monthSelectedInYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"month"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function tJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-multi-year-view",7),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("yearSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"year"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function nJ(n,t){}const iJ=["button"];function rJ(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",3),s._UZ(1,"path",4),s.qZA())}const sJ=[[["","matDatepickerToggleIcon",""]]],oJ=["[matDatepickerToggleIcon]"],aJ=[[["input","matStartDate",""]],[["input","matEndDate",""]]],lJ=["input[matStartDate]","input[matEndDate]"];let YC=(()=>{class n{constructor(){this.changes=new et.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cN{constructor(t,e,i,r,o={},c=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=c,this.rawValue=d}}let Fv=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new s.vpe,this.previewChange=new s.vpe,this.activeDateChange=new s.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(w(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return uN(e,this.startValue,this.endValue)}_isRangeEnd(e){return dN(e,this.startValue,this.endValue)}_isInRange(e){return hN(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return uN(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){const c=this.rows[i-1];o=c&&c[c.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){const c=this.rows[i+1];o=c&&c[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return dN(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return hN(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return uN(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return dN(e,this.previewStart,this.previewEnd)}_isInPreview(e){return hN(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(bj(e)?i=e:bj(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[s.TTD],attrs:GQ,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(s.YNc(0,$Q,3,6,"tr",0),s.YNc(1,WQ,3,2,"tr",1)),2&e&&(s.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),s.xp6(1),s.Q6J("ngForOf",i.rows))},dependencies:[ea,di,dn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function bj(n){return"TD"===n.nodeName}function uN(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function dN(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function hN(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Os{constructor(t,e){this.start=t,this.end=e}}let Xf=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new et.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),cJ=(()=>{class n extends Xf{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),uJ=(()=>{class n extends Xf{constructor(e){super(new Os(null,null),e)}add(e){let{start:i,end:r}=this.selection;null==i?i=e:null==r?r=e:(i=e,r=null),super.updateSelection(new Os(i,r),this)}isValid(){const{start:e,end:i}=this.selection;return null==e&&null==i||(null!=e&&null!=i?this._isValidDateInstance(e)&&this._isValidDateInstance(i)&&this._adapter.compareDate(e,i)<=0:(null==e||this._isValidDateInstance(e))&&(null==i||this._isValidDateInstance(i)))}isComplete(){return null!=this.selection.start&&null!=this.selection.end}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const hJ={provide:Xf,deps:[[new s.FiY,new s.tp0,Xf],yi],useFactory:function dJ(n,t){return n||new cJ(t)}},pJ={provide:Xf,deps:[[new s.FiY,new s.tp0,Xf],yi],useFactory:function fJ(n,t){return n||new uJ(t)}},ix=new s.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let mJ=(()=>{class n{constructor(e){this._dateAdapter=e}selectionFinished(e,i){let{start:r,end:o}=i;return null==r?r=e:null==o&&e&&this._dateAdapter.compareDate(e,r)>=0?o=e:(r=e,o=null),new Os(r,o)}createPreview(e,i){let r=null,o=null;return i.start&&!i.end&&e&&(r=i.start,o=e),new Os(r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const _J={provide:ix,deps:[[new s.FiY,new s.tp0,ix],yi],useFactory:function gJ(n,t){return n||new mJ(t)}};let wj=(()=>{class n{constructor(e,i,r,o,c){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=c,this._rerenderSubscription=$n.w0.EMPTY,this.selectedChange=new s.vpe,this._userSelection=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Os?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(A(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let o,c;this._selected instanceof Os?(o=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):o=c=this._getDateInCurrentMonth(this._selected),(o!==i||c!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!gr(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const o=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((c,d)=>({long:c,narrow:i[d]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),d=this._shouldEnableDate(c),p=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),y=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new cN(r+1,i[r],p,d,y,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Os?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Tl,8),s.Y36(yi,8),s.Y36(Ur,8),s.Y36(ix,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Fv,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[s.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s.YNc(3,KQ,5,2,"th",2),s.qZA(),s.TgZ(4,"tr"),s._UZ(5,"th",3),s.qZA()(),s.TgZ(6,"tbody",4),s.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("previewChange",function(o){return i._previewChanged(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i._weekdays),s.xp6(3),s.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[di,Fv],encapsulation:2,changeDetection:0}),n})(),Cj=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=$n.w0.EMPTY,this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),Dj(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Os?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(A(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-WC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<24;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(c=>this._createCellForYear(c))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-WC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-WC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return WC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new cN(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Os){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(yi,8),s.Y36(Ur,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Fv,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Fv],encapsulation:2,changeDetection:0}),n})();function Dj(n,t,e,i,r){const o=n.getYear(t),c=n.getYear(e),d=Ej(n,i,r);return Math.floor((o-d)/24)===Math.floor((c-d)/24)}function WC(n,t,e,i){return function yJ(n,t){return(n%t+t)%t}(n.getYear(t)-Ej(n,e,i),24)}function Ej(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let Sj=(()=>{class n{constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=$n.w0.EMPTY,this.selectedChange=new s.vpe,this.monthSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Os?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(A(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(r,"year"):void 0;return new cN(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Os?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Tl,8),s.Y36(yi,8),s.Y36(Ur,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Fv,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Fv],encapsulation:2,changeDetection:0}),n})(),vJ=0,bJ=(()=>{class n{constructor(e,i,r,o,c){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._buttonDescriptionId="mat-calendar-button-"+vJ++,this.calendar.stateChanges.subscribe(()=>c.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-WC(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),c=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(o,c)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):Dj(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(YC),s.Y36((0,s.Gpc)(()=>mN)),s.Y36(yi,8),s.Y36(Tl,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:QQ,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return i.currentPeriodClicked()}),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.O4$(),s.TgZ(5,"svg",3),s._UZ(6,"polygon",4),s.qZA()(),s.kcU(),s._UZ(7,"div",5),s.Hsn(8),s.TgZ(9,"button",6),s.NdJ("click",function(){return i.previousClicked()}),s.qZA(),s.TgZ(10,"button",7),s.NdJ("click",function(){return i.nextClicked()}),s.qZA()()()),2&e&&(s.xp6(2),s.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),s.xp6(1),s.uIk("id",i._buttonDescriptionId),s.xp6(1),s.Oqu(i.periodButtonText),s.xp6(1),s.ekj("mat-calendar-invert","month"!==i.calendar.currentView),s.xp6(4),s.Q6J("disabled",!i.previousEnabled()),s.uIk("aria-label",i.prevButtonLabel),s.xp6(1),s.Q6J("disabled",!i.nextEnabled()),s.uIk("aria-label",i.nextButtonLabel))},dependencies:[wr],encapsulation:2,changeDetection:0}),n})(),mN=(()=>{class n{constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this._userSelection=new s.vpe,this.stateChanges=new et.x,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Os?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new If(this.headerComponent||bJ),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){const c=this._getCurrentViewComponent();c&&(this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Os||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(YC),s.Y36(yi,8),s.Y36(Tl,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(s.Gf(wj,5),s.Gf(Sj,5),s.Gf(Cj,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.monthView=r.first),s.iGM(r=s.CRH())&&(i.yearView=r.first),s.iGM(r=s.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[s._Bn([hJ]),s.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(s.YNc(0,JQ,0,0,"ng-template",0),s.TgZ(1,"div",1),s.YNc(2,XQ,1,8,"mat-month-view",2),s.YNc(3,eJ,1,6,"mat-year-view",3),s.YNc(4,tJ,1,6,"mat-multi-year-view",4),s.qZA()),2&e&&(s.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),s.xp6(1),s.Q6J("ngSwitch",i.currentView),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngSwitchCase","multi-year"))},dependencies:[Vs,Bi,$0,Af,wj,Sj,Cj],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const Tj={transformPanel:Ml("transformPanel",[xs("void => enter-dropdown",Is("120ms cubic-bezier(0, 0, 0.2, 1)",Cw([An({opacity:0,transform:"scale(1, 0.8)"}),An({opacity:1,transform:"scale(1, 1)"})]))),xs("void => enter-dialog",Is("150ms cubic-bezier(0, 0, 0.2, 1)",Cw([An({opacity:0,transform:"scale(0.7)"}),An({transform:"none",opacity:1})]))),xs("* => void",Is("100ms linear",An({opacity:0})))]),fadeInCalendar:Ml("fadeInCalendar",[jr("void",An({opacity:0})),jr("enter",An({opacity:1})),xs("void => *",Is("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let wJ=0;const Ij=new s.OlP("mat-datepicker-scroll-strategy"),DJ={provide:Ij,deps:[Go],useFactory:function CJ(n){return()=>n.scrollStrategies.reposition()}},EJ=wf(class{constructor(n){this._elementRef=n}});let SJ=(()=>{class n extends EJ{constructor(e,i,r,o,c,d){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=c,this._subscriptions=new $n.w0,this._animationDone=new et.x,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,o=i instanceof Os;if(o&&this._rangeSelectionStrategy){const c=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(c,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Xf),s.Y36(yi),s.Y36(ix,8),s.Y36(YC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&s.Gf(mN,5),2&e){let r;s.iGM(r=s.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&s.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(s.d8E("@transformPanel",i._animationState),s.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[s.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"mat-calendar",1),s.NdJ("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)}),s.qZA(),s.YNc(2,nJ,0,0,"ng-template",2),s.TgZ(3,"button",3),s.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),s._uU(4),s.qZA()()),2&e){let r;s.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),s.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),s.xp6(1),s.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),s.xp6(1),s.Q6J("cdkPortalOutlet",i._actionsPortal),s.xp6(1),s.ekj("cdk-visually-hidden",!i._closeButtonFocused),s.Q6J("color",i.color||"primary"),s.xp6(1),s.Oqu(i._closeButtonText)}},dependencies:[ea,wr,Vk,Af,mN],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Tj.transformPanel,Tj.fadeInCalendar]},changeDetection:0}),n})(),xj=(()=>{class n{constructor(e,i,r,o,c,d,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=c,this._dir=d,this._model=p,this._inputStateChanges=$n.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this.openedStream=new s.vpe,this.closedStream=new s.vpe,this._opened=!1,this.id="mat-datepicker-"+wJ++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new et.x,this._scrollStrategy=o}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Dt(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=Dt(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=Dt(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=VE(e)}get opened(){return this._opened}set opened(e){Dt(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof fw&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=wc(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(w(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new If(SJ,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Vm({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{const c=o.keyCode;(38===c||40===c||37===c||39===c||33===c||34===c)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(w(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",c="top"===o?"bottom":"top";return e.withPositions([{originX:i,originY:c,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:c},{originX:r,originY:c,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:c}])}_getCloseStream(e){return(0,ti.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(R(i=>27===i.keyCode&&!gr(i)||this.datepickerInput&&gr(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Go),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(Ij),s.Y36(yi,8),s.Y36(Ur,8),s.Y36(Xf))},n.\u0275dir=s.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[s.TTD]}),n})();class rx{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let Aj=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new s.vpe,this.dateInput=new s.vpe,this.stateChanges=new et.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=$n.w0.EMPTY,this._localeSubscription=$n.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!c||this._matchesFilter(c)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),d=this._getMinDate();return!d||!c||this._dateAdapter.compareDate(d,c)<=0?null:{matDatepickerMin:{min:d,actual:c}}},this._maxValidator=o=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),d=this._getMaxDate();return!d||!c||this._dateAdapter.compareDate(d,c)>=0?null:{matDatepickerMax:{max:d,actual:c}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=Dt(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new rx(this,this._elementRef.nativeElement)),this.dateChange.emit(new rx(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){Mj(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new rx(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new rx(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(yi,8),s.Y36(Tl,8))},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s.TTD]}),n})();function Mj(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:o}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(o))return!0;if(!t.sameDate(r,o))return!0}return!1}let xJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),gN=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=$n.w0.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Dt(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Fe(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Fe(),r=this.datepicker?(0,ti.T)(this.datepicker.openedStream,this.datepicker.closedStream):Fe();this._stateChanges.unsubscribe(),this._stateChanges=(0,ti.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(YC),s.Y36(s.sBO),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,xJ,5),2&e){let o;s.iGM(o=s.CRH())&&(i._customIcon=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(iJ,5),2&e){let r;s.iGM(r=s.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._open(o)}),2&e&&(s.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),s.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[s.TTD],ngContentSelectors:oJ,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(s.F$t(sJ),s.TgZ(0,"button",0,1),s.YNc(2,rJ,2,0,"svg",2),s.Hsn(3),s.qZA()),2&e&&(s.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),s.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),s.xp6(2),s.Q6J("ngIf",!i._customIcon))},dependencies:[dn,wr],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})();const sx=new s.OlP("MAT_DATE_RANGE_INPUT_PARENT"),Rj=Mm((()=>{class n extends Aj{constructor(e,i,r,o,c,d,p,y){super(i,p,y),this._rangeInput=e,this._elementRef=i,this._defaultErrorStateMatcher=r,this._injector=o,this._parentForm=c,this._parentFormGroup=d,this._dir=(0,s.f3M)(Ur,s.XFs.Optional)}ngOnInit(){const e=this._injector.get(Ai,null,s.XFs.Self|s.XFs.Optional);e&&(this.ngControl=e)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return 0===this._elementRef.nativeElement.value.length}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}_onInput(e){super._onInput(e),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:e}){return e!==this._rangeInput._startInput&&e!==this._rangeInput._endInput}_assignValueProgrammatically(e){super._assignValueProgrammatically(e),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(sx),s.Y36(s.SBq),s.Y36(qo),s.Y36(s.zs3),s.Y36(zi,8),s.Y36(Un,8),s.Y36(yi,8),s.Y36(Tl,8))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})());let ox=(()=>{class n extends Rj{constructor(e,i,r,o,c,d,p,y){super(e,i,r,o,c,d,p,y),this._startValidator=C=>{const E=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(C.value)),M=this._model?this._model.selection.end:null;return!E||!M||this._dateAdapter.compareDate(E,M)<=0?null:{matStartDateInvalid:{end:M,actual:E}}},this._validator=lt.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(e){return e.start}_shouldHandleChangeEvent(e){return!(!super._shouldHandleChangeEvent(e)||(e.oldValue?.start?e.selection.start&&!this._dateAdapter.compareDate(e.oldValue.start,e.selection.start):!e.selection.start))}_assignValueToModel(e){if(this._model){const i=new Os(e,this._model.selection.end);this._model.updateSelection(i,this)}}_formatValue(e){super._formatValue(e),this._rangeInput._handleChildValueChange()}getMirrorValue(){const e=this._elementRef.nativeElement,i=e.value;return i.length>0?i:e.placeholder}_onKeydown(e){const i=this._rangeInput._endInput,r=this._elementRef.nativeElement,o="rtl"!==this._dir?.value;(39===e.keyCode&&o||37===e.keyCode&&!o)&&r.selectionStart===r.value.length&&r.selectionEnd===r.value.length?(e.preventDefault(),i._elementRef.nativeElement.setSelectionRange(0,0),i.focus()):super._onKeydown(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(sx),s.Y36(s.SBq),s.Y36(qo),s.Y36(s.zs3),s.Y36(zi,8),s.Y36(Un,8),s.Y36(yi,8),s.Y36(Tl,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:6,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("keydown",function(o){return i._onKeydown(o)})("blur",function(){return i._onBlur()}),2&e&&(s.Ikx("disabled",i.disabled),s.uIk("id",i._rangeInput.id)("aria-haspopup",i._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==i._rangeInput.rangePicker?null:i._rangeInput.rangePicker.opened)&&i._rangeInput.rangePicker.id||null)("min",i._getMinDate()?i._dateAdapter.toIso8601(i._getMinDate()):null)("max",i._getMaxDate()?i._dateAdapter.toIso8601(i._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s._Bn([{provide:mi,useExisting:n,multi:!0},{provide:sn,useExisting:n,multi:!0}]),s.qOj]}),n})(),ax=(()=>{class n extends Rj{constructor(e,i,r,o,c,d,p,y){super(e,i,r,o,c,d,p,y),this._endValidator=C=>{const E=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(C.value)),M=this._model?this._model.selection.start:null;return!E||!M||this._dateAdapter.compareDate(E,M)>=0?null:{matEndDateInvalid:{start:M,actual:E}}},this._validator=lt.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(e){return e.end}_shouldHandleChangeEvent(e){return!(!super._shouldHandleChangeEvent(e)||(e.oldValue?.end?e.selection.end&&!this._dateAdapter.compareDate(e.oldValue.end,e.selection.end):!e.selection.end))}_assignValueToModel(e){if(this._model){const i=new Os(this._model.selection.start,e);this._model.updateSelection(i,this)}}_onKeydown(e){const i=this._rangeInput._startInput,r=this._elementRef.nativeElement,o="rtl"!==this._dir?.value;if(8!==e.keyCode||r.value)if((37===e.keyCode&&o||39===e.keyCode&&!o)&&0===r.selectionStart&&0===r.selectionEnd){e.preventDefault();const c=i._elementRef.nativeElement.value.length;i._elementRef.nativeElement.setSelectionRange(c,c),i.focus()}else super._onKeydown(e);else i.focus()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(sx),s.Y36(s.SBq),s.Y36(qo),s.Y36(s.zs3),s.Y36(zi,8),s.Y36(Un,8),s.Y36(yi,8),s.Y36(Tl,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("keydown",function(o){return i._onKeydown(o)})("blur",function(){return i._onBlur()}),2&e&&(s.Ikx("disabled",i.disabled),s.uIk("aria-haspopup",i._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==i._rangeInput.rangePicker?null:i._rangeInput.rangePicker.opened)&&i._rangeInput.rangePicker.id||null)("min",i._getMinDate()?i._dateAdapter.toIso8601(i._getMinDate()):null)("max",i._getMaxDate()?i._dateAdapter.toIso8601(i._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s._Bn([{provide:mi,useExisting:n,multi:!0},{provide:sn,useExisting:n,multi:!0}]),s.qOj]}),n})(),AJ=0,_N=(()=>{class n{constructor(e,i,r,o,c){if(this._changeDetectorRef=e,this._elementRef=i,this._dateAdapter=o,this._formField=c,this._closedSubscription=$n.w0.EMPTY,this.id="mat-date-range-input-"+AJ++,this.focused=!1,this.controlType="mat-date-range-input",this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new et.x,c?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")){const d=i.nativeElement.classList;d.add("mat-mdc-input-element"),d.add("mat-mdc-form-field-input-control")}this.ngControl=r}get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){const e=this._startInput?._getPlaceholder()||"",i=this._endInput?._getPlaceholder()||"";return e||i?`${e} ${this.separator} ${i}`:""}get rangePicker(){return this._rangePicker}set rangePicker(e){e&&(this._model=e.registerInput(this),this._rangePicker=e,this._closedSubscription.unsubscribe(),this._closedSubscription=e.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched()}),this._registerModel(this._model))}get required(){return!!this._required}set required(e){this._required=Dt(e)}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._startInput,r=this._endInput,o=i&&i._matchesFilter(i.value),c=r&&r._matchesFilter(i.value);this._dateFilter=e,i&&i._matchesFilter(i.value)!==o&&i._validatorOnChange(),r&&r._matchesFilter(r.value)!==c&&r._validatorOnChange()}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._revalidate())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(e){const i=Dt(e);i!==this._groupDisabled&&(this._groupDisabled=i,this.stateChanges.next(void 0))}get errorState(){return!(!this._startInput||!this._endInput)&&(this._startInput.errorState||this._endInput.errorState)}get empty(){const e=!!this._startInput&&this._startInput.isEmpty(),i=!!this._endInput&&this._endInput.isEmpty();return e&&i}setDescribedByIds(e){this._ariaDescribedBy=e.length?e.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(this._model&&this._model.selection.start?this._endInput.focus():this._startInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),(0,ti.T)(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(e){Mj(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(){return this._startInput?this._startInput.getMirrorValue():""}_shouldHidePlaceholders(){return!!this._startInput&&!this._startInput.isEmpty()}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){const e=this._formField;return e&&e._hasFloatingLabel()?e._labelId:null}_updateFocus(e){this.focused=null!==e,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(e){this._startInput&&this._startInput._registerModel(e),this._endInput&&this._endInput._registerModel(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(xi,10),s.Y36(yi,8),s.Y36(Nv,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-date-range-input"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,ox,5),s.Suo(r,ax,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._startInput=o.first),s.iGM(o=s.CRH())&&(i._endInput=o.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("id",null)("aria-labelledby",i._getAriaLabelledby())("aria-describedby",i._ariaDescribedBy)("data-mat-calendar",i.rangePicker?i.rangePicker.id:null),s.ekj("mat-date-range-input-hide-placeholders",i._shouldHidePlaceholders())("mat-date-range-input-required",i.required))},inputs:{rangePicker:"rangePicker",required:"required",dateFilter:"dateFilter",min:"min",max:"max",disabled:"disabled",separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],features:[s._Bn([{provide:Pv,useExisting:n},{provide:sx,useExisting:n}]),s.TTD],ngContentSelectors:lJ,decls:9,vars:4,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-start-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-end-wrapper"]],template:function(e,i){1&e&&(s.F$t(aJ),s.TgZ(0,"div",0),s.NdJ("cdkFocusChange",function(o){return i._updateFocus(o)}),s.TgZ(1,"div",1),s.Hsn(2),s.TgZ(3,"span",2),s._uU(4),s.qZA()(),s.TgZ(5,"span",3),s._uU(6),s.qZA(),s.TgZ(7,"div",4),s.Hsn(8,1),s.qZA()()),2&e&&(s.xp6(4),s.Oqu(i._getInputMirrorValue()),s.xp6(1),s.ekj("mat-date-range-input-separator-hidden",i._shouldHideSeparator()),s.xp6(1),s.Oqu(i.separator))},dependencies:[$0],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-inner{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-date-range-input-start-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-start-wrapper .mat-date-range-input-inner{position:absolute;top:0;left:0}.mat-date-range-input-end-wrapper{flex-grow:1;max-width:calc(50% - 4px)}.mat-form-field-type-mat-date-range-input .mat-form-field-infix{width:200px}"],encapsulation:2,changeDetection:0}),n})(),yN=(()=>{class n extends xj{_forwardContentValues(e){super._forwardContentValues(e);const i=this.datepickerInput;i&&(e.comparisonStart=i.comparisonStart,e.comparisonEnd=i.comparisonEnd)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],features:[s._Bn([pJ,_J,{provide:xj,useExisting:n}]),s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})(),MJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[YC,DJ],imports:[cr,UP,Uy,qk,Jd,pn,Ec]}),n})();const kJ=["trigger"],RJ=["panel"];function OJ(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function PJ(n,t){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function NJ(n,t){1&n&&s.Hsn(0,0,["*ngSwitchCase","true"])}function FJ(n,t){if(1&n&&(s.TgZ(0,"span",9),s.YNc(1,PJ,2,1,"span",10),s.YNc(2,NJ,1,0,"ng-content",11),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function LJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"div",14,15),s.NdJ("@transformPanel.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))}),s.Hsn(3,1),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",e._getPanelTheme(),""),s.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),s.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const VJ=[[["mat-select-trigger"]],"*"],BJ=["mat-select-trigger","*"],Oj={transformPanelWrap:Ml("transformPanelWrap",[xs("* => void",Hm("@transformPanel",[kl()],{optional:!0}))]),transformPanel:Ml("transformPanel",[jr("void",An({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),jr("showing",An({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),jr("showing-multiple",An({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),xs("void => *",Is("120ms cubic-bezier(0, 0, 0.2, 1)")),xs("* => void",Is("100ms 25ms linear",An({opacity:0})))])};let Pj=0;const Fj=new s.OlP("mat-select-scroll-strategy"),zJ=new s.OlP("MAT_SELECT_CONFIG"),qJ={provide:Fj,deps:[Go],useFactory:function jJ(n){return()=>n.scrollStrategies.reposition()}};class GJ{constructor(t,e){this.source=t,this.value=e}}const $J=Qd(K0(W0(Mm(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new et.x}})))),ZJ=new s.OlP("MatSelectTrigger");let YJ=(()=>{class n extends $J{constructor(e,i,r,o,c,d,p,y,C,E,M,P,F,j){super(c,o,p,y,E),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=C,this._liveAnnouncer=F,this._defaultOptions=j,this._panelOpen=!1,this._compareWith=(te,Re)=>te===Re,this._uid="mat-select-"+Pj++,this._triggerAriaLabelledBy=null,this._destroy=new et.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Pj++,this._panelDoneAnimatingStream=new et.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=_l(()=>{const te=this.options;return te?te.changes.pipe(A(te),g(()=>(0,ti.T)(...te.map(Re=>Re.onSelectionChange)))):this._ngZone.onStable.pipe(w(1),g(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe(R(te=>te),(0,Ue.U)(()=>{})),this._closedStream=this.openedChange.pipe(R(te=>!te),(0,Ue.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=j?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=j.typeaheadDebounceInterval),this._scrollStrategyFactory=P,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(M)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(lt.required)??!1}set required(e){this._required=Dt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Dt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Dt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=_0(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new lm(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(xm(),Zt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Zt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(A(null),Zt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&o&&!gr(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(e);const p=this.selected;p&&d!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,c=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||gr(e))if(!c&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const d=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(d?p.select():p.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(w(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new CS(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Zt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Zt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,ti.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Zt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ti.T)(...this.options.map(i=>i._stateChanges)).pipe(Zt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Gd),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(qo),s.Y36(s.SBq),s.Y36(Ur,8),s.Y36(zi,8),s.Y36(Un,8),s.Y36(Nv,8),s.Y36(Ai,10),s.$8M("tabindex"),s.Y36(Fj),s.Y36(kS),s.Y36(zJ,8))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(kJ,5),s.Gf(RJ,5),s.Gf(tT,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.trigger=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first),s.iGM(r=s.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),n})(),cx=(()=>{class n extends YJ{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Zt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(w(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=Oy(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:ow((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new GJ(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),o=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let y=this._selectionModel.selected[0]||this.options.first;c=y&&y.group?32:16}r||(c*=-1);const d=0-(e.left+c-(r?o:0)),p=e.right+c-i.width+(r?0:o);d>0?c+=d+8:p>0&&(c-=p+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const o=this._getItemHeight(),c=(o-this._triggerRect.height)/2,d=Math.floor(256/o);let p;return this.disableOptionCentering?0:(p=0===this._scrollTop?e*o:this._scrollTop===r?(e-(this._getItemCount()-d))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*p-c))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,c=r.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),y=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;y>c?this._adjustPanelUp(y,c):d>o?this._adjustPanelDown(d,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),c=i*e-r;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=Oy(d,this.options,this.optionGroups);const p=r/2;this._scrollTop=this._calculateOverlayScroll(d,p,c),this._offsetY=this._calculateOverlayOffsetY(d,p,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,ZJ,5),s.Suo(r,Eu,5),s.Suo(r,iw,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.customTrigger=o.first),s.iGM(o=s.CRH())&&(i.options=o),s.iGM(o=s.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(s.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),s.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:Pv,useExisting:n},{provide:Ry,useExisting:n}]),s.qOj],ngContentSelectors:BJ,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(s.F$t(VJ),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return i.toggle()}),s.TgZ(3,"div",2),s.YNc(4,OJ,2,1,"span",3),s.YNc(5,FJ,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA()(),s.YNc(8,LJ,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=s.MAs(1);s.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",i.empty),s.uIk("id",i._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[ea,Vs,Bi,pp,tT,Um],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Oj.transformPanelWrap,Oj.transformPanel]},changeDetection:0}),n})(),WJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[qJ],imports:[cr,Uy,Nm,pn,Ec,nx,Nm,pn]}),n})();function KJ(n,t){if(1&n&&(s.TgZ(0,"mat-option",15),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}let QJ=(()=>{class n{constructor(e,i,r,o,c,d,p){this.postsService=e,this.fb=i,this.router=r,this.route=o,this.authService=c,this.companyService=d,this.fireStore=p,this.disabled=!0,this.skillsList=["Web Development","C#","JS","C++","Java","SQL","SoftWare","HardWare"],this.form=this.fb.group({name:this.fb.control("",lt.required),description:this.fb.control("",lt.required),skills:this.fb.control("skillsList",lt.required),start:this.fb.control("",lt.required),end:this.fb.control("",lt.required),noOfTechs:this.fb.control(0,lt.required),companyName:this.fb.control("",lt.required),type:this.fb.control("",lt.required)})}ngOnInit(){this.authService.adminState$.pipe(w(1)).subscribe(e=>{console.log(e?.uid),e?.uid&&(console.log("userCredetials from ng"),this.companyService.getCompany(e?.uid).subscribe(i=>{this.form.patchValue({companyName:i?.companyName,type:i?.type})}))})}onSubmit(){this.authService.adminState$.pipe(w(1)).subscribe(e=>{console.log("userCredetials"),e&&this.postsService.createPost({name:this.form.value.name+"",description:this.form.value.description+"",skills:this.form.value.skills+"",start:this.form.value.start+"",end:this.form.value.end+"",noOfTechs:this.form.value.noOfTechs,appliedUsers:[],companyId:e.uid,companyName:this.form.value.companyName+"",type:this.form.value.type+""}).subscribe(()=>{this.router.navigate(["admin/activities"])})})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wf),s.Y36(Fr),s.Y36(fn),s.Y36(pu),s.Y36(Yi),s.Y36(Ov),s.Y36(Ag))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-post"]],decls:45,vars:5,consts:[[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["matInput","","formControlName","companyName"],["matInput","","formControlName","type"],["matInput","","formControlName","name","placeholder","Ex. joseph"],["matInput","","formControlName","description","placeholder","Description of the activity"],["formControlName","skills","multiple",""],[3,"value",4,"ngFor","ngForOf"],[3,"rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matSuffix","",3,"for"],["picker",""],["matInput","","placeholder","number","type","number","formControlName","noOfTechs"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div")(1,"h2"),s._uU(2,"Please Fill All The Fields Below"),s.qZA(),s.TgZ(3,"h3"),s._uU(4,"Note: All The Fields Are Required"),s.qZA()(),s.TgZ(5,"form",0),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(6,"mat-form-field",1)(7,"mat-label"),s._uU(8,"Company Name"),s.qZA(),s._UZ(9,"input",2),s.qZA(),s.TgZ(10,"mat-form-field",1)(11,"mat-label"),s._uU(12,"Company Type"),s.qZA(),s._UZ(13,"input",3),s.qZA(),s.TgZ(14,"mat-form-field",1)(15,"mat-label"),s._uU(16,"Activity Name"),s.qZA(),s._UZ(17,"input",4),s.qZA(),s.TgZ(18,"mat-form-field",1)(19,"mat-label"),s._uU(20,"Description"),s.qZA(),s._UZ(21,"textarea",5),s.qZA(),s.TgZ(22,"mat-form-field",1)(23,"mat-label"),s._uU(24,"Skills"),s.qZA(),s.TgZ(25,"mat-select",6),s.YNc(26,KJ,2,2,"mat-option",7),s.qZA()(),s._UZ(27,"br"),s.TgZ(28,"mat-form-field",1)(29,"mat-label"),s._uU(30,"Enter a date range"),s.qZA(),s.TgZ(31,"mat-date-range-input",8),s._UZ(32,"input",9)(33,"input",10),s.qZA(),s.TgZ(34,"mat-hint"),s._uU(35,"MM/DD/YYYY \u2013 MM/DD/YYYY"),s.qZA(),s._UZ(36,"mat-datepicker-toggle",11)(37,"mat-date-range-picker",null,12),s.qZA(),s.TgZ(39,"mat-form-field",1)(40,"mat-label"),s._uU(41,"Number of technologists required"),s.qZA(),s._UZ(42,"input",13),s.qZA(),s.TgZ(43,"button",14),s._uU(44,"Add Post"),s.qZA()()),2&e){const r=s.MAs(38);s.xp6(5),s.Q6J("formGroup",i.form),s.xp6(21),s.Q6J("ngForOf",i.skillsList),s.xp6(5),s.Q6J("rangePicker",r),s.xp6(5),s.Q6J("for",r),s.xp6(7),s.Q6J("disabled",i.form.invalid)}},dependencies:[di,Lu,lN,Pc,Rg,Vu,wr,Xi,Ii,Lp,hr,Ji,gN,_N,ox,ax,yN,cx,Eu,Un,Fo],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;width:100%;display:flex;flex-wrap:wrap}.example-full-width[_ngcontent-%COMP%]{width:35%;margin:10px}.example-chip-list[_ngcontent-%COMP%]{width:100%}.example-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .example-button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:8px}button[_ngcontent-%COMP%]{margin-top:21px;display:block;height:40px}"]}),n})();function JJ(n,t){if(1&n&&(s.TgZ(0,"mat-option",10),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}let XJ=(()=>{class n{constructor(e,i,r,o,c){this.postsService=e,this.fb=i,this.toust=r,this.companyService=o,this.authService=c,this.types=["NGO","Government","Religious"],this.companyForm=this.fb.group({email:["",[lt.email,lt.required]],companyName:["",[lt.required]],phone:this.fb.control(0,[lt.required]),types:["types",[lt.required]],url:[""]})}ngOnInit(){this.companyService.adminState$?.subscribe(e=>{e&&this.companyForm.setValue({email:e.email+"",companyName:e.companyName+"",phone:e.phone??0,types:e.type+"",url:e.url+""})})}saveForm(){this.authService.adminState$.pipe(g(e=>this.companyService.update({uid:e?.uid,email:this.companyForm.value.email+"",companyName:this.companyForm.value.companyName+"",phone:this.companyForm.value.phone,type:this.companyForm.value.types+"",url:this.companyForm.value.url+""}))).pipe(this.toust.observe({loading:"",success:"Saved",error:e=>"Error Happened "+e})).subscribe(()=>{console.log("update done...")})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wf),s.Y36(Fr),s.Y36(fh),s.Y36(Ov),s.Y36(Yi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-profile"]],decls:29,vars:2,consts:[[3,"formGroup"],[1,"example-container"],["appearance","fill"],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],["matInput","","placeholder","","formControlName","companyName","required",""],["matInput","","placeholder","","formControlName","phone","required",""],["formControlName","types"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","","formControlName","url","required",""],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(e,i){1&e&&(s.TgZ(0,"h2"),s._uU(1,"Your profile "),s.qZA(),s.TgZ(2,"p"),s._uU(3,"you can view your informations and edit it"),s.qZA(),s.TgZ(4,"form",0)(5,"div",1)(6,"mat-form-field",2)(7,"mat-label"),s._uU(8,"your email"),s.qZA(),s._UZ(9,"input",3),s.qZA(),s.TgZ(10,"mat-form-field",2)(11,"mat-label"),s._uU(12,"Company Name"),s.qZA(),s._UZ(13,"input",4),s.qZA(),s.TgZ(14,"mat-form-field",2)(15,"mat-label"),s._uU(16,"Phone Number"),s.qZA(),s._UZ(17,"input",5),s.qZA(),s.TgZ(18,"mat-form-field",2)(19,"mat-label"),s._uU(20,"Company Type"),s.qZA(),s.TgZ(21,"mat-select",6),s.YNc(22,JJ,2,2,"mat-option",7),s.qZA()(),s.TgZ(23,"mat-form-field",2)(24,"mat-label"),s._uU(25,"Website URL"),s.qZA(),s._UZ(26,"input",8),s.qZA()(),s.TgZ(27,"button",9),s.NdJ("click",function(){return i.saveForm()}),s._uU(28," Save "),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("formGroup",i.companyForm),s.xp6(18),s.Q6J("ngForOf",i.types))},dependencies:[di,Lu,Pc,Vu,wr,Xi,Ii,hr,Ji,pc,cx,Eu,Un,Fo],styles:[".example-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}"]}),n})();function eX(n,t){if(1&n&&(s.TgZ(0,"mat-card",4)(1,"mat-card-title-group")(2,"mat-card-title"),s._uU(3),s.qZA(),s.TgZ(4,"mat-card-subtitle"),s._uU(5),s.qZA(),s.TgZ(6,"mat-card-subtitle"),s._uU(7),s.qZA(),s.TgZ(8,"mat-card-subtitle"),s._uU(9),s.qZA()(),s.TgZ(10,"mat-card-content"),s._UZ(11,"br"),s.TgZ(12,"p"),s._uU(13),s.qZA(),s.TgZ(14,"p"),s._uU(15),s.qZA(),s.TgZ(16,"p"),s._uU(17),s.qZA(),s.TgZ(18,"p"),s._uU(19),s.ALo(20,"date"),s.qZA(),s.TgZ(21,"p"),s._uU(22),s.ALo(23,"date"),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(3),s.Oqu(e.personName),s.xp6(2),s.hij("City: ",e.city,""),s.xp6(2),s.hij("Email: ",e.email,""),s.xp6(2),s.hij("Phone: ",e.phone,""),s.xp6(4),s.hij("Skills: ",e.skills,""),s.xp6(2),s.hij("Experience: ",e.experience,""),s.xp6(2),s.hij("Courses: ",e.courses,""),s.xp6(2),s.hij("Start Date: ",s.xi3(20,9,e.start,"yyyy/MM/dd"),""),s.xp6(3),s.hij("End Date: ",s.xi3(23,12,e.end,"yyyy/MM/dd"),"")}}let tX=(()=>{class n{constructor(e){this.userService=e,this.searchText$=new et.x,this.query$=this.searchText$.pipe(g(i=>this.userService.getUsers().pipe((0,Ue.U)(r=>i?(console.log(r,"before filter"),r.filter(o=>{let c=!i||!(i.length>0)||o.skills?.toLowerCase().includes(i)||o.city?.toLowerCase().includes(i)||o.personName?.toLowerCase().includes(i);return console.log(c),c})):r)))),this.searchInput=""}ngOnInit(){setTimeout(()=>this.searchText$.next(""),100)}search(e){console.log(e),this.searchText$.next(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ou))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-view"]],decls:7,vars:4,consts:[[1,"search-container"],["type","text","id","search-bar","name","searchInput","placeholder","Search on Volunteers by skills or city...",3,"ngModel","ngModelChange"],["id","cards-container"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"]],template:function(e,i){1&e&&(s.TgZ(0,"h1"),s._uU(1,"List of Volunteers:"),s.qZA(),s.TgZ(2,"form",0)(3,"input",1),s.NdJ("ngModelChange",function(o){return i.search(o)}),s.qZA()(),s.TgZ(4,"div",2),s.YNc(5,eX,24,15,"mat-card",3),s.ALo(6,"async"),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngModel",i.searchInput),s.xp6(2),s.Q6J("ngForOf",s.lcZ(6,2,i.query$)))},dependencies:[di,Xi,Ii,hr,Ji,ls,zi,o6,a6,r6,s6,LW,qa,na],styles:["table[_ngcontent-%COMP%]{width:100%}#title-group[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between}.example-card[_ngcontent-%COMP%]{margin:20px;width:600px;display:flex;justify-content:space-between}#cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.search-container[_ngcontent-%COMP%]{width:490px;display:block;margin:0 0 0 20px}input#search-bar[_ngcontent-%COMP%]{margin:0 auto;width:100%;height:45px;padding:0 20px;font-size:1rem;border:1px solid #d0cfce;outline:none}input#search-bar[_ngcontent-%COMP%]:focus{border:1px solid #008abf;transition:.35s ease;color:#008abf}input#search-bar[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{-webkit-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus::-moz-placeholder{-moz-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus:-ms-placeholder{-ms-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}.search-icon[_ngcontent-%COMP%]{position:relative;float:right;width:75px;height:75px;top:-62px;right:-20px}"]}),n})(),nX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-about"]],decls:41,vars:0,consts:[["id","img"],["id","about-video","loop","","muted","","autoplay",""],["src","assets/white-video.mp4","type","video/mp4"],["id","text-container"],["id","message"],["id","about"],["id","footer-container"],["id","video-2"],["id","footer-video","loop","","muted","","autoplay",""],["src","assets/we-video.mp4","type","video/mp4"],["id","second-container"],["id","contact"],["id","links"],["id","htu","src","assets/images/htu.jpg","alt","htu-image"],["id","info"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"video",1),s._UZ(2,"source",2),s.qZA()(),s.TgZ(3,"div",3)(4,"div",4)(5,"h5"),s._uU(6,"Our message"),s.qZA()(),s.TgZ(7,"h5"),s._uU(8," To effectively influence civil society and all partners "),s._UZ(9,"br"),s._uU(10," and the relevant authorities through charitable work and social responsibility."),s.qZA(),s.TgZ(11,"div")(12,"div",5)(13,"h5"),s._uU(14,"About We"),s.qZA()(),s.TgZ(15,"p"),s._uU(16," The endeavors of the \u201cWe\u201d platform, which is a national platform, come with the aim of unifying efforts made in the field of volunteer work and youth participation at all levels, by building partnerships with the public and private sectors, civil society institutions and owners of initiatives, so that the platform provides the largest possible number of voluntary opportunities in the belief that volunteer work Young people gain new skills, increase their personal and work experience, and ensure a bright future for the societies that embrace them. "),s.qZA(),s.TgZ(17,"p"),s._uU(18,' The "we" platform works to find real volunteer opportunities in various sectors for young people from all over the Kingdom in order to guide them and how to participate in them according to their interests to enhance their role in volunteer work in their communities. The platform\'s keenness to ensure the rights of volunteers is also a priority by documenting their participation in volunteer opportunities on the platform. '),s.qZA()()(),s.TgZ(19,"footer")(20,"div",6)(21,"div",7)(22,"video",8),s._UZ(23,"source",9),s.qZA()(),s.TgZ(24,"div",10)(25,"div",11)(26,"p"),s._uU(27,"Contacts"),s.qZA(),s.TgZ(28,"p"),s._uU(29,"Email: rashedmalkawi97@gmail.com"),s.qZA(),s.TgZ(30,"p"),s._uU(31,"Address: Amman/Jordan"),s.qZA(),s.TgZ(32,"p"),s._uU(33,"Tele: 00962791563116"),s.qZA()(),s.TgZ(34,"div",12)(35,"p"),s._uU(36,"This project was supported by:"),s.qZA(),s._UZ(37,"img",13),s.qZA()(),s.TgZ(38,"div",14)(39,"p"),s._uU(40,"\xa9 2022 WE Corporation. All Rights Reserved."),s.qZA()()()())},styles:["#img[_ngcontent-%COMP%]{width:100%;height:500px}#about-video[_ngcontent-%COMP%]{width:100%;height:480px;object-fit:cover}img[_ngcontent-%COMP%]{width:100%;height:550px}#message[_ngcontent-%COMP%]{margin:20px 0;font-size:25px;border-bottom:1px solid grey;height:35px;text-align:center}h5[_ngcontent-%COMP%]{text-align:center;font-size:18px}#about[_ngcontent-%COMP%]{margin:30px 0 20px;font-size:25px;border-bottom:1px solid grey;height:35px;text-align:center}p[_ngcontent-%COMP%]{margin:20px 0;font-size:18px}#text-container[_ngcontent-%COMP%]{height:500px;padding:10px}#footer-video[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover}#footer-container[_ngcontent-%COMP%]{width:100%;height:100px;margin:auto}#video-2[_ngcontent-%COMP%]{position:relative;width:100%}#second-container[_ngcontent-%COMP%]{position:absolute;bottom:-120px;padding-left:15px;display:flex;width:100%;justify-content:space-around}#links[_ngcontent-%COMP%]{left:150px}#links[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#fff}#htu[_ngcontent-%COMP%]{width:75px;height:75px}#info[_ngcontent-%COMP%]{position:absolute;bottom:-200px;width:100%;color:#fff}#info[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}#contact[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#fff}@media only screen and (max-width: 280px){#footer-container[_ngcontent-%COMP%]{display:flex;background-color:#a4adfa;position:relative;top:470px;width:100%;height:100px;margin:auto;border-top:1px solid rgb(202,201,201)}img[_ngcontent-%COMP%]{width:100%;height:350px}}@media only screen and (max-width: 375px){#footer-container[_ngcontent-%COMP%]{display:flex;background-color:#a4adfa;position:relative;top:375px;width:100%;height:100px;margin:auto;border-top:1px solid rgb(202,201,201)}img[_ngcontent-%COMP%]{width:100%;height:350px}}"]}),n})(),iX=(()=>{class n{constructor(e,i,r){this.fB=e,this.contactService=i,this.router=r,this.contact=this.fB.group({name:this.fB.control("",lt.required),email:this.fB.control("",[lt.required,lt.email]),description:this.fB.control("",lt.required)})}ngOnInit(){}onSubmit(){console.log(this.contact.value),this.contactService.contact(this.contact.value).subscribe(()=>{this.navigate()})}navigate(){this.router.navigate(["landingg/stories"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr),s.Y36(Wf),s.Y36(fn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-contact"]],decls:39,vars:2,consts:[[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["matInput","","placeholder","Ex. Pizza","formControlName","name"],["matInput","","formControlName","email","placeholder","Ex. pat@example.com"],["matInput","","placeholder","Ex. It makes me feel...","formControlName","description"],["mat-flat-button","","color","primary",3,"disabled"],["id","footer-container"],["id","video-2"],["id","footer-video","loop","","muted","","autoplay",""],["src","assets/we-video.mp4","type","video/mp4"],["id","second-container"],["id","contact"],["id","links"],["id","htu","src","assets/images/htu.jpg","alt","htu-image"],["id","info"]],template:function(e,i){1&e&&(s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(1,"h2"),s._uU(2,"Please Fill The Required Fields So We Can Reach You: "),s.qZA(),s.TgZ(3,"mat-form-field",1)(4,"mat-label"),s._uU(5,"Full Name"),s.qZA(),s._UZ(6,"input",2),s.qZA(),s.TgZ(7,"mat-form-field",1)(8,"mat-label"),s._uU(9,"Email"),s.qZA(),s._UZ(10,"input",3),s.qZA(),s.TgZ(11,"mat-form-field",1)(12,"mat-label"),s._uU(13,"Description"),s.qZA(),s._UZ(14,"textarea",4),s.qZA(),s.TgZ(15,"button",5),s._uU(16,"Submit"),s.qZA()(),s.TgZ(17,"footer")(18,"div",6)(19,"div",7)(20,"video",8),s._UZ(21,"source",9),s.qZA()(),s.TgZ(22,"div",10)(23,"div",11)(24,"p"),s._uU(25,"Contacts"),s.qZA(),s.TgZ(26,"p"),s._uU(27,"Email: rashedmalkawi97@gmail.com"),s.qZA(),s.TgZ(28,"p"),s._uU(29,"Address: Amman/Jordan"),s.qZA(),s.TgZ(30,"p"),s._uU(31,"Tele: 00962791563116"),s.qZA()(),s.TgZ(32,"div",12)(33,"p"),s._uU(34,"This project was supported by:"),s.qZA(),s._UZ(35,"img",13),s.qZA()(),s.TgZ(36,"div",14)(37,"p"),s._uU(38,"\xa9 2022 WE Corporation. All Rights Reserved."),s.qZA()()()()),2&e&&(s.Q6J("formGroup",i.contact),s.xp6(15),s.Q6J("disabled",i.contact.invalid))},dependencies:[Lu,Pc,Vu,wr,Xi,Ii,hr,Ji,Un,Fo],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;height:500px;padding:20px}.example-full-width[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{margin:auto;padding-top:30px}#footer-video[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover}#footer-container[_ngcontent-%COMP%]{width:100%;height:100px;margin:auto}#video-2[_ngcontent-%COMP%]{position:relative;width:100%}#second-container[_ngcontent-%COMP%]{position:absolute;bottom:-120px;padding-left:15px;display:flex;width:100%;justify-content:space-around}#links[_ngcontent-%COMP%]{left:150px}#links[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#fff}#htu[_ngcontent-%COMP%]{width:75px;height:75px}#info[_ngcontent-%COMP%]{position:absolute;bottom:-200px;width:100%;color:#fff}#info[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}#contact[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#fff}@media only screen and (max-width: 280px){#footer-container[_ngcontent-%COMP%]{display:flex;background-color:#a4adfa;position:relative;top:470px;width:100%;height:100px;margin:auto;border-top:1px solid rgb(202,201,201)}img[_ngcontent-%COMP%]{width:100%;height:350px}}@media only screen and (max-width: 375px){#footer-container[_ngcontent-%COMP%]{display:flex;background-color:#a4adfa;position:relative;top:375px;width:100%;height:100px;margin:auto;border-top:1px solid rgb(202,201,201)}img[_ngcontent-%COMP%]{width:100%;height:350px}}"]}),n})(),rX=(()=>{class n{constructor(e){this.router=e,this.isMenuOpen=!1}ngOnInit(){}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}onClick(){this.router.navigate(["landingg/select"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-landing-page"]],decls:23,vars:3,consts:[["id","header"],["src","./assets/images/logo.png","alt","we-logo"],[2,"display","flex","flex-direction","column"],[1,"burger",3,"click"],[1,"material-icons"],["id","anchors"],["id","a"],["routerLink","why-volunteering"],["routerLink","about"],["routerLink","contact"],["id","button"],["id","login","mat-raised-button","",3,"click"],["id","main-container"]],template:function(e,i){1&e&&(s.TgZ(0,"header")(1,"div",0),s._UZ(2,"img",1),s.TgZ(3,"div",2)(4,"div",3),s.NdJ("click",function(){return i.toggleMenu()}),s.TgZ(5,"i",4),s._uU(6),s.qZA()(),s.TgZ(7,"div",5)(8,"div",6)(9,"a",7),s._uU(10,"Home"),s.qZA(),s.TgZ(11,"a",8),s._uU(12,"About"),s.qZA(),s.TgZ(13,"a",9),s._uU(14,"Contact Us "),s.qZA()(),s.TgZ(15,"div",10)(16,"button",11),s.NdJ("click",function(){return i.onClick()}),s._uU(17,"Login"),s.TgZ(18,"mat-icon"),s._uU(19,"login"),s.qZA()()()()()()(),s.TgZ(20,"main")(21,"div",12),s._UZ(22,"router-outlet"),s.qZA()()),2&e&&(s.xp6(6),s.Oqu(i.isMenuOpen?"close":"menu"),s.xp6(1),s.ekj("is-open",i.isMenuOpen))},dependencies:[Br,Js,uh,wr],styles:['#header[_ngcontent-%COMP%]{width:100%;margin:0 auto;overflow:hidden;background-color:#8a2be2;position:fixed;display:flex;justify-content:space-around;align-items:center;z-index:55}#header[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:indigo;padding-bottom:124.42136%;width:100%;bottom:0;left:0;transform:rotate(80deg);transform-origin:left bottom}img[_ngcontent-%COMP%]{width:100px;height:75px;z-index:66}nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:800px;z-index:66}#login[_ngcontent-%COMP%]{font-size:18px}nav[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;text-decoration:none;color:#fff;font-size:22px}#anchors[_ngcontent-%COMP%]{margin-top:13px;display:flex;height:100%;justify-content:space-between;width:700px;margin-right:100px}#button[_ngcontent-%COMP%]{position:relative;bottom:7.5px;left:70px}#a[_ngcontent-%COMP%]{z-index:888;display:flex;width:400px;justify-content:space-between}#a[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;text-decoration:none;color:#fff;font-size:18px;z-index:2}a[_ngcontent-%COMP%]:after{content:"";display:block;width:0;height:1px;background:white;transition:width .3s}button[_ngcontent-%COMP%]{z-index:55}a[_ngcontent-%COMP%]:hover:after{width:100%}#main-container[_ngcontent-%COMP%]{width:100%;top:75px;position:relative;margin:auto}.burger[_ngcontent-%COMP%]{display:none;color:#fff;z-index:55;border:1px solid white;padding:5px 5px 0;border-radius:5px}@media only screen and (max-width:768px){#button[_ngcontent-%COMP%]{top:20px;left:150px}#anchors.is-open[_ngcontent-%COMP%]{display:block;width:100%;left:0%}#a[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;height:180px;align-items:center}#anchors[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:space-around;align-items:center;width:100vw;height:250px;margin-left:0;flex-direction:column;top:62px;left:-100%;background-color:indigo;z-index:9999}.burger[_ngcontent-%COMP%]{display:inline-block;width:100%}}']}),n})(),sX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-oppurtunities"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1,"stories works!"),s.qZA())}}),n})(),oX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-why-voulnteering"]],decls:53,vars:0,consts:[["id","video"],["loop","","muted","","autoplay",""],["src","assets/video.mp4","type","video/mp4"],["id","img-content"],["id","content"],["id","footer-container"],["id","video-2"],["id","footer-video","loop","","muted","","autoplay",""],["src","assets/we-video.mp4","type","video/mp4"],["id","second-container"],["id","contact"],["id","links"],["id","htu","src","assets/images/htu.jpg","alt","htu-image"],["id","info"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"video",1),s._UZ(2,"source",2),s.qZA(),s.TgZ(3,"div",3)(4,"h2"),s._uU(5,"What is volunteering?"),s.qZA(),s.TgZ(6,"span"),s._uU(7,"It is the provision of assistance, assistance and effort in order to work towards achieving goodness in society in general and to its members in particular. It was called voluntary work because a person does it voluntarily without being forced to do it by others. It is an inner will, and the dominance of the authority of good over evil, and evidence of the prosperity of society."),s.qZA()()(),s.TgZ(8,"div",4)(9,"h3"),s._uU(10,"Why do we volunteer?"),s.qZA(),s.TgZ(11,"h4"),s._uU(12,"1- Expand your circle of acquaintances and make new friends:"),s.qZA(),s.TgZ(13,"p"),s._uU(14,"Volunteering is a great option when it comes to providing yourself with a new opportunity in different areas of life that gives you the ability to meet new people, expand your contacts and help you step out of your comfort zone, making you more confident and increasing your social skills and ability to communicate effectively with your surroundings."),s.qZA(),s.TgZ(15,"h4"),s._uU(16,"2- Self-satisfaction:"),s.qZA(),s.TgZ(17,"p"),s._uU(18,"When was the last time you made someone happy and put a smile on their face? Wasn't that awesome! We believe that volunteering is the best way to provide self-satisfaction by making an impact in the lives of others. Changing the lives of others, even a small amount, gives a sense of importance to your person and gives you a reason to live."),s.qZA(),s.TgZ(19,"h4"),s._uU(20,"3- Expand your horizons:"),s.qZA(),s.TgZ(21,"p"),s._uU(22,"Whether you are a student, a new graduate or even an employee and looking for a change or something to help you build a career in a new field of work, volunteering is the key to all of this. Volunteering can open doors for you and provide you with an opportunity and broaden your horizons to reach your goals and build the career path you seek. Volunteering can give you experience in your area of \u200b\u200binterest and the opportunity to meet people who specialize in your field. Volunteering gives you the opportunity to practice important skills used in the workplace such as teamwork, communication, problem solving, project planning and time management."),s.qZA(),s.TgZ(23,"h4"),s._uU(24,"4- Estimating the value of life:"),s.qZA(),s.TgZ(25,"p"),s._uU(26,"Volunteering gives humanity a reason to carry on and gives you a reason to live for it. Volunteering gives you the opportunity to see the lives of others in their misfortunes and all the troubles they put into living another day. When you see all of that, you become thankful for the life you have and you start to see that your problems are not as important as you thought, and thus you become destined for the life you have been given."),s.qZA(),s.TgZ(27,"h4"),s._uU(28,"5. It makes you a better person mentally and physically."),s.qZA(),s.TgZ(29,"p"),s._uU(30,"Volunteering provides many benefits in the field of mental and physical health, in terms of mental health, volunteering increases self-confidence and raises self-esteem and self-satisfaction. Your role as a volunteer can give you a sense of pride, belonging and identity. Reducing the risk of depression is another important advantage of volunteering as It keeps you in touch with others and helps you develop a strong support system. In terms of physical health, volunteering can help you stay healthy depending on frequent movement and various activities, which contributes significantly to maintaining your overall health."),s.qZA()(),s.TgZ(31,"footer")(32,"div",5)(33,"div",6)(34,"video",7),s._UZ(35,"source",8),s.qZA()(),s.TgZ(36,"div",9)(37,"div",10)(38,"p"),s._uU(39,"Contacts"),s.qZA(),s.TgZ(40,"p"),s._uU(41,"Email: rashedmalkawi97@gmail.com"),s.qZA(),s.TgZ(42,"p"),s._uU(43,"Address: Amman/Jordan"),s.qZA(),s.TgZ(44,"p"),s._uU(45,"Tele: 00962791563116"),s.qZA()(),s.TgZ(46,"div",11)(47,"p"),s._uU(48,"This project was supported by:"),s.qZA(),s._UZ(49,"img",12),s.qZA()(),s.TgZ(50,"div",13)(51,"p"),s._uU(52,"\xa9 2022 WE Corporation. All Rights Reserved."),s.qZA()()()())},styles:["#video[_ngcontent-%COMP%]{background-color:#000;width:100%;position:relative;overflow:hidden}video[_ngcontent-%COMP%]{width:100%;filter:grayscale(100%) brightness(30%) sepia(50%) hue-rotate(-100deg) saturate(500%) contrast(1);object-fit:cover}#img-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:#fff;font-size:3vw;padding-bottom:10px}#img-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#fff;line-height:50px;font-size:2vw}#img-content[_ngcontent-%COMP%]{position:absolute;top:150px;margin-left:50px;width:70%;height:50%}#content[_ngcontent-%COMP%]{position:relative;top:50px;margin:20px}#content[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{color:#000;text-align:center}#footer-container[_ngcontent-%COMP%]{display:flex;background-color:#a4adfa;position:relative;top:150px;width:100%;height:100px;border-top:1px solid rgb(202,201,201)}footer[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}#footer-video[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover}#footer-container[_ngcontent-%COMP%]{width:100%;height:100px;margin:auto}#video-2[_ngcontent-%COMP%]{position:relative;width:100%}#second-container[_ngcontent-%COMP%]{position:absolute;bottom:-120px;padding-left:15px;display:flex;width:100%;justify-content:space-around}#links[_ngcontent-%COMP%]{left:150px}#links[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#fff}#htu[_ngcontent-%COMP%]{width:75px;height:75px}#info[_ngcontent-%COMP%]{position:absolute;bottom:-200px;width:100%;color:#fff}#info[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}#contact[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#fff}@media only screen and (max-width: 280px){#footer-container[_ngcontent-%COMP%]{display:flex;background-color:#a4adfa;position:relative;top:470px;width:100%;height:100px;margin:auto;border-top:1px solid rgb(202,201,201)}img[_ngcontent-%COMP%]{width:100%;height:350px}}@media only screen and (max-width: 375px){#footer-container[_ngcontent-%COMP%]{display:flex;background-color:#a4adfa;position:relative;top:375px;width:100%;height:100px;margin:auto;border-top:1px solid rgb(202,201,201)}img[_ngcontent-%COMP%]{width:100%;height:350px}}@media only screen and (max-width: 450px){#img-content[_ngcontent-%COMP%]{top:4px;margin-left:10px;width:70%;height:50px}#img-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:#fff;font-size:3vw}#img-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#fff;font-size:2vw;line-height:5px}#content[_ngcontent-%COMP%]{top:10px}}"]}),n})(),aX=(()=>{class n{constructor(e){this.router=e}ngOnInit(){}adminLogin(){this.router.navigate(["adminlog"])}adminRegistration(){this.router.navigate(["adminSignUp"])}userLogin(){this.router.navigate(["userlog"])}userSignUp(){this.router.navigate(["userSignUp"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-select"]],decls:27,vars:0,consts:[["id","container"],["id","login-container"],["id","ngo"],["id","h2-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512"],["d","M336 0C362.5 0 384 21.49 384 48V464C384 490.5 362.5 512 336 512H240V432C240 405.5 218.5 384 192 384C165.5 384 144 405.5 144 432V512H48C21.49 512 0 490.5 0 464V48C0 21.49 21.49 0 48 0H336zM64 272C64 280.8 71.16 288 80 288H112C120.8 288 128 280.8 128 272V240C128 231.2 120.8 224 112 224H80C71.16 224 64 231.2 64 240V272zM176 224C167.2 224 160 231.2 160 240V272C160 280.8 167.2 288 176 288H208C216.8 288 224 280.8 224 272V240C224 231.2 216.8 224 208 224H176zM256 272C256 280.8 263.2 288 272 288H304C312.8 288 320 280.8 320 272V240C320 231.2 312.8 224 304 224H272C263.2 224 256 231.2 256 240V272zM80 96C71.16 96 64 103.2 64 112V144C64 152.8 71.16 160 80 160H112C120.8 160 128 152.8 128 144V112C128 103.2 120.8 96 112 96H80zM160 144C160 152.8 167.2 160 176 160H208C216.8 160 224 152.8 224 144V112C224 103.2 216.8 96 208 96H176C167.2 96 160 103.2 160 112V144zM272 96C263.2 96 256 103.2 256 112V144C256 152.8 263.2 160 272 160H304C312.8 160 320 152.8 320 144V112C320 103.2 312.8 96 304 96H272z"],["id","a-container"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","","color","primary",1,"stroked",3,"click"],["id","user"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["d","M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h2"),s._uU(2,"Please Select If You Are a Company or Person"),s.qZA(),s.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"h2"),s._uU(7,"Copmany"),s.qZA()(),s.O4$(),s.TgZ(8,"svg",4),s._UZ(9,"path",5),s.qZA(),s.kcU(),s.TgZ(10,"div",6)(11,"button",7),s.NdJ("click",function(){return i.adminLogin()}),s._uU(12,"Login"),s.qZA(),s.TgZ(13,"button",8),s.NdJ("click",function(){return i.adminRegistration()}),s._uU(14,"Sign Up"),s.qZA()()(),s.TgZ(15,"div",9)(16,"div",3)(17,"h2"),s._uU(18,"Person"),s.qZA()(),s.O4$(),s.TgZ(19,"svg",10),s._UZ(20,"path",11),s.qZA(),s.kcU(),s.TgZ(21,"div",6)(22,"button",7),s.NdJ("click",function(){return i.userLogin()}),s._uU(23,"Login"),s.qZA(),s.TgZ(24,"button",8),s.NdJ("click",function(){return i.userSignUp()}),s._uU(25,"Sign Up"),s.qZA()()()(),s._UZ(26,"div"),s.qZA())},dependencies:[wr],styles:["#login-container[_ngcontent-%COMP%]{display:flex;padding-top:20px;width:100%;height:500px;flex-wrap:wrap;justify-content:center}#container[_ngcontent-%COMP%]{height:600px}#container[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:indigo;text-align:center;padding-top:20px}#ngo[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;height:400px;width:400px;margin:20px;border:1px solid indigo;border-radius:20px;overflow:hidden}#ngo[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{text-align:center}#user[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{text-align:center}#h2-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:75px;width:100%;background-color:indigo}#user[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;height:400px;width:400px;margin:20px;border:1px solid indigo;border-radius:20px;overflow:hidden}a[_ngcontent-%COMP%]{text-decoration:none;border:1px solid indigo;padding:5px 20px;border-radius:10px;color:indigo;margin:0 10px}#a-container[_ngcontent-%COMP%]{display:flex;width:200px;justify-content:space-around;margin-bottom:20px}.stroked[_ngcontent-%COMP%]{border:1px solid blueviolet}a[_ngcontent-%COMP%]:hover{transition:all ease-in-out .5s;background-color:indigo;color:#fff}svg[_ngcontent-%COMP%]{width:100px}h2[_ngcontent-%COMP%]{color:#fff}@media only screen and (max-width:280px){#login-container[_ngcontent-%COMP%]{display:block;margin:5px}#container[_ngcontent-%COMP%]{height:600px;margin:auto;width:100%}#container[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:indigo;text-align:center;display:inline;padding:20px 0 50px 150px}#ngo[_ngcontent-%COMP%]{margin-right:10px}}"]}),n})();function lX(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Please enter a valid email address "),s.qZA())}function cX(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Email is "),s.TgZ(2,"strong"),s._uU(3,"required"),s.qZA()())}function uX(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Password is required"),s.qZA())}function dX(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Password must be at least 8 characters"),s.qZA())}function hX(n,t){if(1&n&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.adminStatus)}}let fX=(()=>{class n{constructor(e,i,r,o){this.fb=e,this.authService=i,this.router=r,this.toast=o,this.adminLoginForm=this.fb.group({email:this.fb.control("",[lt.required,lt.email]),password:this.fb.control("",[lt.required,lt.minLength(8)])}),this.hide=!0}get email(){return this.adminLoginForm.get("email")}get password(){return this.adminLoginForm.get("password")}adminLogin(){this.authService.adminSignIn(this.adminLoginForm.controls.email.value+"",this.adminLoginForm.controls.password.value+"").pipe(this.toast.observe({loading:"Logging In ...",success:"Welcome To We Platform",error:e=>"This error Haappened: "+e})).subscribe({next:e=>{this.router.navigate(["admin"])},error:e=>{this.adminStatus=e.message}})}back(){this.router.navigate(["landingg/select"])}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr),s.Y36(Yi),s.Y36(fn),s.Y36(fh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-adminlog"]],decls:37,vars:11,consts:[["id","header"],["src","./assets/images/logo.png","alt","we-logo"],["id","nav"],["id","h1"],["mat-raised-button","","color","primary",3,"click"],["id","main"],[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["type","email","matInput","","formControlName","email","placeholder","Ex. pat@example.com"],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["type","submit","mat-raised-button","","color","primary",1,"btn",3,"disabled"],["routerLink","/adminSignUp"]],template:function(e,i){1&e&&(s.TgZ(0,"header")(1,"div",0),s._UZ(2,"img",1),s.TgZ(3,"div",2)(4,"div",3)(5,"h1"),s._uU(6,"Company Login"),s.qZA()(),s.TgZ(7,"button",4),s.NdJ("click",function(){return i.back()}),s._uU(8,"Back >>"),s.qZA()()()(),s.TgZ(9,"div",5)(10,"h2"),s._uU(11,"Sign In"),s.qZA(),s.TgZ(12,"form",6),s.NdJ("ngSubmit",function(){return i.adminLogin()}),s.TgZ(13,"mat-form-field",7)(14,"mat-label"),s._uU(15,"Type your email"),s.qZA(),s._UZ(16,"input",8),s.YNc(17,lX,2,0,"mat-error",9),s.YNc(18,cX,4,0,"mat-error",9),s.qZA(),s.TgZ(19,"mat-form-field",7)(20,"mat-label"),s._uU(21,"Enter your password"),s.qZA(),s._UZ(22,"input",10),s.TgZ(23,"button",11),s.NdJ("click",function(){return i.hide=!i.hide}),s.TgZ(24,"mat-icon"),s._uU(25),s.qZA()(),s.YNc(26,uX,2,0,"mat-error",9),s.YNc(27,dX,2,0,"mat-error",9),s.qZA(),s.YNc(28,hX,2,1,"mat-error",9),s.TgZ(29,"button",12),s._uU(30,"Login "),s.TgZ(31,"mat-icon"),s._uU(32,"login"),s.qZA()()(),s.TgZ(33,"span"),s._uU(34,"Do not have an account? "),s.TgZ(35,"a",13),s._uU(36,"Sign Up"),s.qZA()()()),2&e&&(s.xp6(12),s.Q6J("formGroup",i.adminLoginForm),s.xp6(5),s.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.email),s.xp6(1),s.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.required),s.xp6(4),s.Q6J("type",i.hide?"password":"text"),s.xp6(1),s.uIk("aria-label","Hide password")("aria-pressed",i.hide),s.xp6(2),s.Oqu(i.hide?"visibility_off":"visibility"),s.xp6(1),s.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required),s.xp6(1),s.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.minlength),s.xp6(1),s.Q6J("ngIf",i.adminStatus),s.xp6(1),s.Q6J("disabled",i.adminLoginForm.invalid))},dependencies:[dn,Js,tx,Lu,Pc,Rg,Vu,uh,wr,Xi,Ii,hr,Ji,Un,Fo],styles:['#header[_ngcontent-%COMP%]{width:100%;margin:0 auto;overflow:hidden;background-color:#8a2be2;position:fixed;display:flex;justify-content:space-around;align-items:center;z-index:55}#header[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:indigo;padding-bottom:124.42136%;width:100%;bottom:0;left:0;transform:rotate(80deg);transform-origin:left bottom}img[_ngcontent-%COMP%]{width:100px;height:75px;z-index:66}#nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:600px;z-index:66}h1[_ngcontent-%COMP%]{color:#fff}#h1[_ngcontent-%COMP%]{margin-top:10px}#mat-icon[_ngcontent-%COMP%]{z-index:66}#main[_ngcontent-%COMP%]{position:relative;top:125px;margin:auto;width:300px;height:400px;border:1px solid rgb(204,202,202);border-radius:20px;box-shadow:10px 5px 5px indigo}h2[_ngcontent-%COMP%]{padding-top:10px;text-align:center}mat-form-field[_ngcontent-%COMP%]{width:100%}.btn[_ngcontent-%COMP%]{margin-left:85px;margin-top:10px}span[_ngcontent-%COMP%]{margin-left:65px}span[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none}.example-form[_ngcontent-%COMP%]{min-width:150px;margin:auto;padding:20px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;margin:auto;padding-top:20px}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}']}),n})();function pX(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Please enter a valid email address "),s.qZA())}function mX(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Email is "),s.TgZ(2,"strong"),s._uU(3,"required"),s.qZA()())}function gX(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Password is required"),s.qZA())}function _X(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Password must be at least 8 characters"),s.qZA())}function yX(n,t){if(1&n&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.personStatus)}}let vX=(()=>{class n{constructor(e,i,r,o){this.fb=e,this.authService=i,this.router=r,this.toast=o,this.personLoginForm=this.fb.group({email:this.fb.control("",[lt.required,lt.email]),password:this.fb.control("",[lt.required,lt.minLength(8)])}),this.hide=!0}get email(){return this.personLoginForm.get("email")}get password(){return this.personLoginForm.get("password")}personLogin(){this.authService.adminSignIn(this.personLoginForm.controls.email.value+"",this.personLoginForm.controls.password.value+"").pipe(this.toast.observe({loading:"Logging In ...",success:"Welcome To We Platform",error:e=>"This error Haappened: "+e})).subscribe({next:e=>{this.router.navigate(["user"])},error:e=>{this.personStatus=e.message}})}back(){this.router.navigate(["landingg/select"])}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr),s.Y36(Yi),s.Y36(fn),s.Y36(fh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-userlog"]],decls:37,vars:11,consts:[["id","header"],["src","./assets/images/logo.png","alt","we-logo"],["id","nav"],["id","h1"],["mat-raised-button","","color","primary",3,"click"],["id","main"],[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["type","email","matInput","","formControlName","email","placeholder","Ex. pat@example.com"],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["type","submit","mat-raised-button","","color","primary",1,"btn",3,"disabled"],["routerLink","/userSignUp"]],template:function(e,i){1&e&&(s.TgZ(0,"header")(1,"div",0),s._UZ(2,"img",1),s.TgZ(3,"div",2)(4,"div",3)(5,"h1"),s._uU(6,"Person Login"),s.qZA()(),s.TgZ(7,"button",4),s.NdJ("click",function(){return i.back()}),s._uU(8,"Back >>"),s.qZA()()()(),s.TgZ(9,"div",5)(10,"h2"),s._uU(11,"Sign In"),s.qZA(),s.TgZ(12,"form",6),s.NdJ("ngSubmit",function(){return i.personLogin()}),s.TgZ(13,"mat-form-field",7)(14,"mat-label"),s._uU(15,"Type your email"),s.qZA(),s._UZ(16,"input",8),s.YNc(17,pX,2,0,"mat-error",9),s.YNc(18,mX,4,0,"mat-error",9),s.qZA(),s.TgZ(19,"mat-form-field",7)(20,"mat-label"),s._uU(21,"Enter your password"),s.qZA(),s._UZ(22,"input",10),s.TgZ(23,"button",11),s.NdJ("click",function(){return i.hide=!i.hide}),s.TgZ(24,"mat-icon"),s._uU(25),s.qZA()(),s.YNc(26,gX,2,0,"mat-error",9),s.YNc(27,_X,2,0,"mat-error",9),s.qZA(),s.YNc(28,yX,2,1,"mat-error",9),s.TgZ(29,"button",12),s._uU(30,"Login "),s.TgZ(31,"mat-icon"),s._uU(32,"login"),s.qZA()()(),s.TgZ(33,"span"),s._uU(34,"Do not an account? "),s.TgZ(35,"a",13),s._uU(36,"Sign Up"),s.qZA()()()),2&e&&(s.xp6(12),s.Q6J("formGroup",i.personLoginForm),s.xp6(5),s.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.email),s.xp6(1),s.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.required),s.xp6(4),s.Q6J("type",i.hide?"password":"text"),s.xp6(1),s.uIk("aria-label","Hide password")("aria-pressed",i.hide),s.xp6(2),s.Oqu(i.hide?"visibility_off":"visibility"),s.xp6(1),s.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required),s.xp6(1),s.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.minlength),s.xp6(1),s.Q6J("ngIf",i.personStatus),s.xp6(1),s.Q6J("disabled",i.personLoginForm.invalid))},dependencies:[dn,Js,tx,Lu,Pc,Rg,Vu,uh,wr,Xi,Ii,hr,Ji,Un,Fo],styles:['#header[_ngcontent-%COMP%]{width:100%;margin:0 auto;overflow:hidden;background-color:#8a2be2;position:fixed;display:flex;justify-content:space-around;align-items:center;z-index:55}#header[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:indigo;padding-bottom:124.42136%;width:100%;bottom:0;left:0;transform:rotate(80deg);transform-origin:left bottom}img[_ngcontent-%COMP%]{width:100px;height:75px;z-index:66}#nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:600px;z-index:66}h1[_ngcontent-%COMP%]{color:#fff}#h1[_ngcontent-%COMP%]{margin-top:10px}#mat-icon[_ngcontent-%COMP%]{z-index:66}#main[_ngcontent-%COMP%]{position:relative;top:125px;margin:auto;width:300px;height:400px;border:1px solid rgb(204,202,202);border-radius:20px;box-shadow:10px 5px 5px indigo}h2[_ngcontent-%COMP%]{padding-top:10px;text-align:center}mat-form-field[_ngcontent-%COMP%]{width:100%}.btn[_ngcontent-%COMP%]{margin-left:85px;margin-top:10px}span[_ngcontent-%COMP%]{margin-left:65px}span[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none}.example-form[_ngcontent-%COMP%]{min-width:150px;margin:auto;padding:20px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;margin:auto;padding-top:20px}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}']}),n})(),bX=(()=>{class n{constructor(e,i){this.fireStorage=e,this.authService=i}uploadImage(e){const i=`$'profile_images/${e.name}`,r=this.fireStorage.ref(i);return this.fireStorage.upload(i,e).snapshotChanges().pipe(uu(()=>{r.getDownloadURL().subscribe(c=>{this.authService.personState$.subscribe(d=>{d&&d?.updateProfile({photoURL:c})})})}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(tN),s.LFG(Yi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wX(n,t){if(1&n&&(s.TgZ(0,"h2"),s._uU(1),s.qZA()),2&n){const e=t.ngIf;s.xp6(1),s.hij("Welcome ",e.personName,"")}}function CX(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s._UZ(1,"img",20),s.TgZ(2,"div",21)(3,"button",22),s.NdJ("click",function(){s.CHM(e);const r=s.MAs(7);return s.KtG(r.click())}),s.TgZ(4,"mat-icon",23),s._uU(5,"edit"),s.qZA()(),s.TgZ(6,"input",24,25),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.submit(r))}),s.qZA()()()}if(2&n){const e=t.ngIf;let i;s.xp6(1),s.Q6J("src",null!==(i=e.photoURL)&&void 0!==i?i:"/assets/images/profile-placeholder.jpg",s.LSH)}}function DX(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.toggle())})("click",function(){s.CHM(e),s.oxw();const r=s.MAs(9);return s.KtG(r.toggle())}),s._uU(1,">>"),s.qZA()}}let EX=(()=>{class n{constructor(e,i,r,o,c){this.authService=e,this.router=i,this.toast=r,this.userpic=o,this.userService=c,this.isShown=!0}ngOnInit(){}toggle(){this.isShown=!this.isShown}personLogout(){this.authService.personSignOut().subscribe(()=>{this.router.navigate(["landingg/about"])})}submit(e){const r=e.target?.files?.[0];this.userpic.uploadImage(r).pipe(this.toast.observe({loading:"Uploading Image ...",success:"Image Saved",error:o=>"This error Haappened: "+o})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yi),s.Y36(fn),s.Y36(fh),s.Y36(bX),s.Y36(Ou))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-layout"]],decls:35,vars:7,consts:[["id","header"],["src","./assets/images/logo.png","alt","we-logo"],[4,"ngIf"],["autosize","",1,"example-container"],["mode","side",1,"example-sidenav"],["drawer",""],["id","nav"],["class","profile-img",4,"ngIf"],["id","a-container"],[1,"ancor"],["routerLink","/user/user-activities"],["routerLink","/user/applied-activities"],["routerLink","/user/chat"],["routerLink","/user/user-profile"],["id","logout","mat-raised-button","","color","accent",3,"click"],["id","btn0","mat-stroked-button","","color","primary",3,"click"],[1,"example-sidenav-content"],["id","main"],["id","btn","mat-stroked-button","","color","primary",3,"click",4,"ngIf"],[1,"profile-img"],[3,"src"],["id","btn"],["id","pic-btn","mat-mini-fab","","color","primary",3,"click"],["id","pen"],["type","file","hidden","","accept","image/*","value","select image",3,"change"],["inputFile",""],["id","btn","mat-stroked-button","","color","primary",3,"click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"header")(1,"div",0),s._UZ(2,"img",1),s.YNc(3,wX,2,1,"h2",2),s.ALo(4,"async"),s.TgZ(5,"h1"),s._uU(6,"Technologists Control Panel"),s.qZA()()(),s.TgZ(7,"mat-drawer-container",3)(8,"mat-drawer",4,5)(10,"div",6),s.YNc(11,CX,8,1,"div",7),s.ALo(12,"async"),s.TgZ(13,"div",8)(14,"div",9)(15,"a",10),s._uU(16,"Activities"),s.qZA()(),s.TgZ(17,"div",9)(18,"a",11),s._uU(19,"Applied Activities"),s.qZA()(),s.TgZ(20,"div",9)(21,"a",12),s._uU(22,"Chat"),s.qZA()(),s.TgZ(23,"div",9)(24,"a",13),s._uU(25,"Profile"),s.qZA()()(),s.TgZ(26,"button",14),s.NdJ("click",function(){return i.personLogout()}),s.TgZ(27,"mat-icon"),s._uU(28,"logout"),s.qZA()(),s.TgZ(29,"button",15),s.NdJ("click",function(){return i.toggle()})("click",function(){s.CHM(r);const c=s.MAs(9);return s.KtG(c.toggle())}),s._uU(30,"<<"),s.qZA()()(),s.TgZ(31,"div",16)(32,"div",17),s._UZ(33,"router-outlet"),s.qZA(),s.YNc(34,DX,2,0,"button",18),s.qZA()()}2&e&&(s.xp6(3),s.Q6J("ngIf",s.lcZ(4,3,i.userService.personState$)),s.xp6(8),s.Q6J("ngIf",s.lcZ(12,5,i.authService.personState$)),s.xp6(23),s.Q6J("ngIf",i.isShown))},dependencies:[dn,Br,Js,uh,wr,oN,aN,qa],styles:['#header[_ngcontent-%COMP%]{margin:0 auto;overflow:hidden;background-color:#8a2be2;position:fixed;display:flex;justify-content:space-between;align-items:center;z-index:44;width:100%}#header[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:indigo;padding-bottom:124.42136%;width:100%;bottom:0;left:0;transform:rotate(80deg);transform-origin:left bottom}#main[_ngcontent-%COMP%]{margin:40px 30px}img[_ngcontent-%COMP%]{width:100px;height:75px;z-index:2}#nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;width:100%;height:550px;z-index:4}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;z-index:2;font-size:17px}a[_ngcontent-%COMP%]:hover{color:#8a2be2}.ancor[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid white;width:100%;height:100%;justify-content:center;align-items:center}#a-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:300px;width:100%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin:auto 20px;z-index:5;justify-self:center;align-self:center;color:#fff}.example-container[_ngcontent-%COMP%]{top:75px;position:fixed;width:100%;height:100%;border:1px solid indigo}.example-sidenav-content[_ngcontent-%COMP%]{height:100%}.example-sidenav[_ngcontent-%COMP%]{width:200px;background-color:indigo}#btn0[_ngcontent-%COMP%]{border:1px solid white;color:#fff;margin-bottom:20px}#btn[_ngcontent-%COMP%]{border:1px solid indigo;color:indigo}#logout[_ngcontent-%COMP%]{margin:5px 0}.icon[_ngcontent-%COMP%]{z-index:88}.profile-img[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100px;height:100px}.profile-img[_ngcontent-%COMP%]{position:relative}img[_ngcontent-%COMP%]{border-radius:100%}#pic-btn[_ngcontent-%COMP%]{width:25px;height:25px;position:relative;left:10px;bottom:30px}#pen[_ngcontent-%COMP%]{transform:scale(.7);position:absolute;left:0px;bottom:1px}#btn[_ngcontent-%COMP%]{position:absolute}']}),n})();function SX(n,t){if(1&n&&(s.TgZ(0,"mat-option",14),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}let Lj=(()=>{class n{constructor(e,i,r,o,c,d,p){this.fb=e,this.postsService=i,this.authService=r,this.userService=o,this.toast=c,this.router=d,this.data=p,this.appliedUsers=[],this.appliedPosts=[],this.skillsList=["Web Development","C#","JS","C++","Java","SQL","SoftWare","HardWare"],this.userName="",this.userId="",this.apply=this.fb.group({name:[""],isApproved:[!1],skill:[!this.skillsList,lt.required],comment:["",lt.required],start:["",lt.required],end:["",lt.required]})}onApply(){this.authService.personState$.pipe(w(1)).pipe(this.toast.observe({loading:"Applying ...",success:"Applied",error:e=>"This error Happened: "+e})).subscribe(e=>{e&&this.postsService.userApply({userId:e.uid,actvitiyId:this.data.activityId,isApproved:this.apply.value.isApproved,name:this.apply.value.name+"",skill:this.apply.value.skill+"",comment:this.apply.value.comment+"",start:this.apply.value.start+"",end:this.apply.value.end+"",activityName:this.data.activityName,activityDescription:this.data.activityDescription}),this.postsService.getpost(this.data.activityId).pipe(w(1)).subscribe(i=>{i&&this.userService.createApply(e?.uid,i).subscribe(r=>{console.log(r)}),this.router.navigate(["user/applied-activities"])})})}ngOnInit(){console.log(this.appliedPosts),this.authService.personState$.pipe(w(1)).subscribe(e=>{e?.uid&&this.userService.getUser(e?.uid).subscribe(i=>{this.apply.patchValue({name:i?.personName})})})}disable(){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr),s.Y36(Wf),s.Y36(Yi),s.Y36(Ou),s.Y36(fh),s.Y36(fn),s.Y36(jm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-apply"]],decls:31,vars:5,consts:[["id","header"],[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","formControlName","name","type","text"],["formControlName","skill","multiple",""],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"example-full-width"],["matInput","","placeholder","Ex. It makes me feel...","formControlName","comment"],[3,"rangePicker"],["matStartDate","","placeholder","Start date","formControlName","start"],["matEndDate","","placeholder","End date","formControlName","end"],["matSuffix","",3,"for"],["picker",""],["mat-raised-button","","mat-dialog-close","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(e,i){if(1&e&&(s.TgZ(0,"header")(1,"div",0)(2,"h1"),s._uU(3," Job Apply "),s.qZA()()(),s.TgZ(4,"form",1),s.NdJ("ngSubmit",function(){return i.onApply()}),s.TgZ(5,"mat-form-field",2)(6,"mat-label"),s._uU(7,"Name"),s.qZA(),s._UZ(8,"input",3),s.qZA(),s.TgZ(9,"mat-form-field",2)(10,"mat-label"),s._uU(11,"Skill you can vounteer in"),s.qZA(),s.TgZ(12,"mat-select",4),s.YNc(13,SX,2,2,"mat-option",5),s.qZA()(),s.TgZ(14,"mat-form-field",6)(15,"mat-label"),s._uU(16,"Why you are applying"),s.qZA(),s._UZ(17,"textarea",7),s.qZA(),s.TgZ(18,"mat-form-field",2)(19,"mat-label"),s._uU(20,"Enter a date range"),s.qZA(),s.TgZ(21,"mat-date-range-input",8),s._UZ(22,"input",9)(23,"input",10),s.qZA(),s.TgZ(24,"mat-hint"),s._uU(25,"MM/DD/YYYY \u2013 MM/DD/YYYY"),s.qZA(),s._UZ(26,"mat-datepicker-toggle",11)(27,"mat-date-range-picker",null,12),s.qZA(),s.TgZ(29,"button",13),s._uU(30,"Apply"),s.qZA()()),2&e){const r=s.MAs(28);s.xp6(4),s.Q6J("formGroup",i.apply),s.xp6(9),s.Q6J("ngForOf",i.skillsList),s.xp6(8),s.Q6J("rangePicker",r),s.xp6(5),s.Q6J("for",r),s.xp6(3),s.Q6J("disabled",i.apply.invalid)}},dependencies:[di,Lu,lN,Pc,Rg,Vu,wr,Xi,Ii,hr,Ji,gN,_N,ox,ax,yN,cx,Eu,Un,Fo,Tw],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;margin-top:20px;display:flex;flex-direction:column;gap:10px}.example-full-width[_ngcontent-%COMP%]{width:100%}header[_ngcontent-%COMP%]{height:50px;width:100%}#header[_ngcontent-%COMP%]{margin:auto;padding-top:13px;border:1px solid blueviolet;border-radius:10px;background-color:#8a2be2}h1[_ngcontent-%COMP%]{text-align:center;color:#fff}"]}),n})();function TX(n,t){1&n&&(s.TgZ(0,"th",15),s._uU(1," Name "),s.qZA())}function IX(n,t){if(1&n&&(s.TgZ(0,"td",16),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.name," ")}}function xX(n,t){1&n&&(s.TgZ(0,"th",15),s._uU(1,"Description"),s.qZA())}function AX(n,t){if(1&n&&(s.TgZ(0,"td",17),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.description)}}function MX(n,t){1&n&&(s.TgZ(0,"th",15),s._uU(1,"Start Date"),s.qZA())}function kX(n,t){if(1&n&&(s.TgZ(0,"td",17),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(s.xi3(2,1,e.start,"yyyy/MM/dd"))}}function RX(n,t){1&n&&(s.TgZ(0,"th",15),s._uU(1,"End Date"),s.qZA())}function OX(n,t){if(1&n&&(s.TgZ(0,"td",17),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(s.xi3(2,1,e.end,"yyyy/MM/dd"))}}function PX(n,t){1&n&&(s.TgZ(0,"th",15),s._uU(1," Tech No. "),s.qZA())}function NX(n,t){if(1&n&&(s.TgZ(0,"td",16),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.noOfTechs," ")}}function FX(n,t){1&n&&(s.TgZ(0,"th",15),s._uU(1," Skills "),s.qZA())}function LX(n,t){if(1&n&&(s.TgZ(0,"td",16),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.skills," ")}}function VX(n,t){1&n&&s._UZ(0,"th",15)}function BX(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",16)(1,"button",18),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.openDialog(o.id,o.name,o.description))}),s._uU(2,"Apply"),s.qZA()()}}function UX(n,t){1&n&&s._UZ(0,"tr",19)}function HX(n,t){1&n&&s._UZ(0,"tr",20)}let jX=(()=>{class n{constructor(e,i,r,o,c){this.postsService=e,this.dialog=i,this.companyService=r,this.authService=o,this.fb=c,this.userPosts=new Tf([]),this.displayedColumns=["name","description","start","end","tech no.","skills","apply"],this.searchText$=new et.x,this.query$=this.searchText$.pipe(g(d=>this.postsService.getAllPosts().pipe((0,Ue.U)(p=>d?(console.log(p,"before filter"),p.filter(y=>{let C=!d||!(d.length>0)||y.companyName?.includes(d)||y.name?.includes(d)||y.type?.includes(d)||y.description?.includes(d)||y.skills?.includes(d);return console.log(C),C})):p)))),this.searchInput=""}ngOnInit(){this.query$?.subscribe(e=>{this.userPosts.data=e}),setTimeout(()=>this.searchText$.next(""),100)}openDialog(e,i,r){this.dialog.open(Lj,{data:{activityId:e,activityName:i,activityDescription:r}}).afterClosed().subscribe(c=>{console.log(`Dialog result: ${c}`)})}search(e){console.log(e),this.searchText$.next(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wf),s.Y36(Xd),s.Y36(Ov),s.Y36(Yi),s.Y36(Fr))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-activities"]],decls:31,vars:4,consts:[[1,"search-container"],["type","text","id","search-bar","name","searchInput","placeholder","Search by company name, type, skills or date...",3,"ngModel","ngModelChange"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["class","td","mat-cell","",4,"matCellDef"],["matColumnDef","start"],["matColumnDef","end"],["matColumnDef","tech no."],["matColumnDef","skills"],["matColumnDef","apply"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"td"],["mat-raised-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(s.TgZ(0,"div")(1,"h3"),s._uU(2,"List of Available Jobs:"),s.qZA(),s.TgZ(3,"h5"),s._uU(4,"from here you can see your available jobs and apply on them "),s.qZA()(),s.TgZ(5,"form",0)(6,"input",1),s.NdJ("ngModelChange",function(o){return i.search(o)}),s.qZA()(),s.TgZ(7,"table",2),s.ynx(8,3),s.YNc(9,TX,2,0,"th",4),s.YNc(10,IX,2,1,"td",5),s.BQk(),s.ynx(11,6),s.YNc(12,xX,2,0,"th",4),s.YNc(13,AX,2,1,"td",7),s.BQk(),s.ynx(14,8),s.YNc(15,MX,2,0,"th",4),s.YNc(16,kX,3,4,"td",7),s.BQk(),s.ynx(17,9),s.YNc(18,RX,2,0,"th",4),s.YNc(19,OX,3,4,"td",7),s.BQk(),s.ynx(20,10),s.YNc(21,PX,2,0,"th",4),s.YNc(22,NX,2,1,"td",5),s.BQk(),s.ynx(23,11),s.YNc(24,FX,2,0,"th",4),s.YNc(25,LX,2,1,"td",5),s.BQk(),s.ynx(26,12),s.YNc(27,VX,1,0,"th",4),s.YNc(28,BX,3,0,"td",5),s.BQk(),s.YNc(29,UX,1,0,"tr",13),s.YNc(30,HX,1,0,"tr",14),s.qZA()),2&e&&(s.xp6(6),s.Q6J("ngModel",i.searchInput),s.xp6(1),s.Q6J("dataSource",i.userPosts),s.xp6(22),s.Q6J("matHeaderRowDef",i.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[wr,Xi,Ii,hr,Ji,ls,zi,_r,Fm,Su,Py,xl,Ef,Ny,Df,Fy,Ly,na],styles:["table[_ngcontent-%COMP%]{width:1000px;max-width:1000px}td[_ngcontent-%COMP%]{height:100px;max-width:100px;width:100px}.search-container[_ngcontent-%COMP%]{width:490px;display:block;margin:0 0 20px}input#search-bar[_ngcontent-%COMP%]{margin:0 auto;width:100%;height:45px;padding:0 20px;font-size:1rem;border:1px solid #d0cfce;outline:none}input#search-bar[_ngcontent-%COMP%]:focus{border:1px solid #008abf;transition:.35s ease;color:#008abf}input#search-bar[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{-webkit-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus::-moz-placeholder{-moz-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus:-ms-placeholder{-ms-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}"]}),n})();const zX=["*"],Vj=new s.OlP("MatChipRemove"),Bj=new s.OlP("MatChipAvatar"),Uj=new s.OlP("MatChipTrailingIcon");class qX{constructor(t){this._elementRef=t}}const GX=K0(wf(Qd(qX),"primary"),-1);let ux=(()=>{class n extends GX{constructor(e,i,r,o,c,d,p,y){super(e),this._ngZone=i,this._changeDetectorRef=c,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new et.x,this._onBlur=new et.x,this.selectionChange=new s.vpe,this.destroyed=new s.vpe,this.removed=new s.vpe,this._addHostClassName(),this._chipRippleTarget=d.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new Ay(this,i,this._chipRippleTarget,r),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=o||{},this._animationsDisabled="NoopAnimations"===p,this.tabIndex=null!=y&&parseInt(y)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const i=Dt(e);i!==this._selected&&(this._selected=i,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=Dt(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=Dt(e)}get removable(){return this._removable}set removable(e){this._removable=Dt(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",i=this._elementRef.nativeElement;i.hasAttribute(e)||i.tagName.toLowerCase()===e?i.classList.add(e):i.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case 46:case 8:this.remove(),e.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe(w(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(er),s.Y36(VS,8),s.Y36(s.sBO),s.Y36(ie),s.Y36(s.QbO,8),s.$8M("tabindex"))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Bj,5),s.Suo(r,Uj,5),s.Suo(r,Vj,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.avatar=o.first),s.iGM(o=s.CRH())&&(i.trailingIcon=o.first),s.iGM(o=s.CRH())&&(i.removeIcon=o.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._handleClick(o)})("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i.focus()})("blur",function(){return i._blur()}),2&e&&(s.uIk("tabindex",i.disabled?null:i.tabIndex)("role",i.role)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString())("aria-selected",i.ariaSelected),s.ekj("mat-chip-selected",i.selected)("mat-chip-with-avatar",i.avatar)("mat-chip-with-trailing-icon",i.trailingIcon||i.removeIcon)("mat-chip-disabled",i.disabled)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[s.qOj]}),n})(),Hj=(()=>{class n{constructor(e,i){this._parentChip=e,"BUTTON"===i.nativeElement.nodeName&&i.nativeElement.setAttribute("type","button")}_handleClick(e){const i=this._parentChip;i.removable&&!i.disabled&&i.remove(),e.stopPropagation(),e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ux),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._handleClick(o)})},features:[s._Bn([{provide:Vj,useExisting:n}])]}),n})();const jj=new s.OlP("mat-chips-default-options"),YX=Mm(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new et.x}});let WX=0;class KX{constructor(t,e){this.source=t,this.value=e}}let zj=(()=>{class n extends YX{constructor(e,i,r,o,c,d,p){super(d,o,c,p),this._elementRef=e,this._changeDetectorRef=i,this._dir=r,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new et.x,this._uid="mat-chip-list-"+WX++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(y,C)=>y===C,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(e){this._explicitRole=e}get multiple(){return this._multiple}set multiple(e){this._multiple=Dt(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(lt.required)??!1}set required(e){this._required=Dt(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Dt(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=Dt(e),this._syncChipsState()}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,ti.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,ti.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,ti.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,ti.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new DS(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Zt(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe(Zt(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(A(null),Zt(this._destroyed)).subscribe(()=>{(this.disabled||!this.selectable)&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new lm(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const i=e.target;i&&i.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,i=!0){if(this._clearSelection(),this.chips.forEach(r=>r.deselect()),Array.isArray(e))e.forEach(r=>this._selectValue(r,i)),this._sortValues();else{const r=this._selectValue(e,i);r&&i&&this._keyManager.setActiveItem(r)}}_selectValue(e,i=!0){const r=this.chips.find(o=>null!=o.value&&this._compareWith(o.value,e));return r&&(i?r.selectViaInteraction():r.select(),this._selectionModel.select(r)),r}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(i=>{i!==e&&i.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let i=null;i=Array.isArray(this.selected)?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.change.emit(new KX(this,i)),this.valueChange.emit(i),this._onChange(i),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(i=>{!this._selectionModel.isSelected(i)&&i.selected&&i.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let i=this.chips.toArray().indexOf(e.chip);this._isValidIndex(i)&&this._keyManager.updateActiveItem(i),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const i=e.chip,r=this.chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&i._hasFocus&&(this._lastDestroyedChipIndex=r)})}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-chip"))return!0;i=i.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ur,8),s.Y36(zi,8),s.Y36(Un,8),s.Y36(qo),s.Y36(Ai,10))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-chip-list"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ux,5),2&e){let o;s.iGM(o=s.CRH())&&(i.chips=o)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i.focus()})("blur",function(){return i._blur()})("keydown",function(o){return i._keydown(o)}),2&e&&(s.Ikx("id",i._uid),s.uIk("tabindex",i.disabled?null:i._tabIndex)("aria-required",i.role?i.required:null)("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-multiselectable",i.multiple)("role",i.role)("aria-orientation",i.ariaOrientation),s.ekj("mat-chip-list-disabled",i.disabled)("mat-chip-list-invalid",i.errorState)("mat-chip-list-required",i.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[s._Bn([{provide:Pv,useExisting:n}]),s.qOj],ngContentSelectors:zX,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),n})(),QX=0,qj=(()=>{class n{constructor(e,i){this._elementRef=e,this._defaultOptions=i,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new s.vpe,this.placeholder="",this.id="mat-chip-list-input-"+QX++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement}set chipList(e){e&&(this._chipList=e,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(e){this._addOnBlur=Dt(e)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(e){this._disabled=Dt(e)}get empty(){return!this.inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(e){if(e){if(9===e.keyCode&&!gr(e,"shiftKey")&&this._chipList._allowFocusEscape(),8===e.keyCode&&this._focusLastChipOnBackspace)return this._chipList._keyManager.setLastItemActive(),void e.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(e)}_keyup(e){!this._focusLastChipOnBackspace&&8===e.keyCode&&this.empty&&(this._focusLastChipOnBackspace=!0,e.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipList.stateChanges.next()}_emitChipEnd(e){!this.inputElement.value&&!!e&&this._chipList._keydown(e),(!e||this._isSeparatorKey(e))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),e?.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(e){this.inputElement.focus(e)}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}_isSeparatorKey(e){return!gr(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(jj))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._keydown(o)})("keyup",function(o){return i._keyup(o)})("blur",function(){return i._blur()})("focus",function(){return i._focus()})("input",function(){return i._onInput()}),2&e&&(s.Ikx("id",i.id),s.uIk("disabled",i.disabled||null)("placeholder",i.placeholder||null)("aria-invalid",i._chipList&&i._chipList.ngControl?i._chipList.ngControl.invalid:null)("aria-required",i._chipList&&i._chipList.required||null))},inputs:{chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[s.TTD]}),n})(),JX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[qo,{provide:jj,useValue:{separatorKeyCodes:[13]}}],imports:[pn]}),n})();function XX(n,t){if(1&n&&(s.TgZ(0,"mat-option",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}function eee(n,t){if(1&n&&(s.TgZ(0,"mat-option",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function tee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-chip",23),s.NdJ("removed",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.remove(o))}),s._uU(1),s.TgZ(2,"button",24)(3,"mat-icon"),s._uU(4,"cancel"),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.name," ")}}let nee=(()=>{class n{constructor(e,i,r,o,c){this.fb=e,this.toast=i,this.userService=r,this.authService=o,this.fireStore=c,this.skills=["Web Development","C#","JS","C++","Java","SQL","SoftWare","HardWare"],this.cities=["Amman","Irbid","Jarash","Aqaba","Salt"],this.personForm=this.fb.group({email:["",[lt.email,lt.required]],personName:["",[lt.required]],phone:this.fb.control(0,[lt.required]),skills:this.fb.control("skills",[lt.required]),city:["cities",[lt.required]],experience:[""],courses:["courses",[lt.required]],start:["",[lt.required]],end:["",[lt.required]]}),this.addOnBlur=!0,this.separatorKeysCodes=[13,188],this.courses=[]}add(e){const i=(e.value||"").trim();i&&this.courses.push({name:i}),e.chipInput.clear()}remove(e){const i=this.courses.indexOf(e);i>=0&&this.courses.splice(i,1)}ngOnInit(){this.userService.personState$?.subscribe(e=>{e&&this.personForm.setValue({email:e.email+"",personName:e.personName+"",phone:e.phone??0,skills:e.skills+"",city:e.city+"",experience:e.experience+"",courses:e.courses+"",start:e.start+"",end:e.end+""})})}saveForm(){this.authService.personState$.pipe(g(e=>this.userService.update({uid:e?.uid,email:this.personForm.value.email+"",personName:this.personForm.value.personName+"",phone:this.personForm.value.phone,skills:this.personForm.value.skills,city:this.personForm.value.city+"",experience:this.personForm.value.experience+"",courses:this.personForm.value.courses+"",start:this.personForm.value.start+"",end:this.personForm.value.end+""})),this.toast.observe({loading:"Saving Profile ...",success:"Saved",error:e=>"Error Happened "+e})).subscribe(()=>{console.log("update done...")})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr),s.Y36(fh),s.Y36(Ou),s.Y36(Yi),s.Y36(Ag))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-profile"]],decls:57,vars:9,consts:[[3,"formGroup"],[1,"example-container"],["appearance","fill"],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],["matInput","","placeholder","","formControlName","personName","required",""],["matInput","","placeholder","","formControlName","phone","required",""],["formControlName","skills","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","city"],["appearance","fill",1,"example-full-width"],["matInput","","placeholder","Ex. My Experience...","formControlName","experience"],["appearance","fill",1,"example-chip-list"],["aria-label","Fruit selection","formControlName","courses"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","New Course...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[3,"rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matSuffix","",3,"for"],["picker",""],["mat-raised-button","","color","primary",3,"click"],[3,"value"],[3,"removed"],["matChipRemove",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"h2"),s._uU(1,"Here is your profile information "),s.qZA(),s.TgZ(2,"h4"),s._uU(3,"You still can edit your info here:"),s.qZA(),s.TgZ(4,"form",0)(5,"div",1)(6,"mat-form-field",2)(7,"mat-label"),s._uU(8,"Email"),s.qZA(),s._UZ(9,"input",3),s.qZA(),s._UZ(10,"br"),s.TgZ(11,"mat-form-field",2)(12,"mat-label"),s._uU(13,"Name"),s.qZA(),s._UZ(14,"input",4),s.qZA(),s._UZ(15,"br"),s.TgZ(16,"mat-form-field",2)(17,"mat-label"),s._uU(18,"Phone Number"),s.qZA(),s._UZ(19,"input",5),s.qZA(),s._UZ(20,"br"),s.TgZ(21,"mat-form-field",2)(22,"mat-label"),s._uU(23,"Skills"),s.qZA(),s.TgZ(24,"mat-select",6),s.YNc(25,XX,2,2,"mat-option",7),s.qZA()(),s._UZ(26,"br"),s.TgZ(27,"mat-form-field",2)(28,"mat-label"),s._uU(29,"city"),s.qZA(),s.TgZ(30,"mat-select",8),s.YNc(31,eee,2,2,"mat-option",7),s.qZA()(),s._UZ(32,"br"),s.TgZ(33,"mat-form-field",9)(34,"mat-label"),s._uU(35,"Experience"),s.qZA(),s._UZ(36,"textarea",10),s.qZA(),s.TgZ(37,"mat-form-field",11)(38,"mat-label"),s._uU(39,"Courses"),s.qZA(),s.TgZ(40,"mat-chip-list",12,13),s.YNc(42,tee,5,1,"mat-chip",14),s.TgZ(43,"input",15),s.NdJ("matChipInputTokenEnd",function(o){return i.add(o)}),s.qZA()()(),s.TgZ(44,"mat-form-field",2)(45,"mat-label"),s._uU(46,"Enter a date range"),s.qZA(),s.TgZ(47,"mat-date-range-input",16),s._UZ(48,"input",17)(49,"input",18),s.qZA(),s.TgZ(50,"mat-hint"),s._uU(51,"MM/DD/YYYY \u2013 MM/DD/YYYY"),s.qZA(),s._UZ(52,"mat-datepicker-toggle",19)(53,"mat-date-range-picker",null,20),s.qZA()(),s.TgZ(55,"button",21),s.NdJ("click",function(){return i.saveForm()}),s._uU(56," Save "),s.qZA()()),2&e){const r=s.MAs(41),o=s.MAs(54);s.xp6(4),s.Q6J("formGroup",i.personForm),s.xp6(21),s.Q6J("ngForOf",i.skills),s.xp6(6),s.Q6J("ngForOf",i.cities),s.xp6(11),s.Q6J("ngForOf",i.courses),s.xp6(1),s.Q6J("matChipInputFor",r)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes)("matChipInputAddOnBlur",i.addOnBlur),s.xp6(4),s.Q6J("rangePicker",o),s.xp6(5),s.Q6J("for",o)}},dependencies:[di,Lu,lN,Pc,Rg,Vu,zj,ux,qj,Hj,uh,wr,Xi,Ii,hr,Ji,pc,gN,_N,ox,ax,yN,cx,Eu,Un,Fo],styles:[".example-chip-list[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.example-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:75%}mat-form-field[_ngcontent-%COMP%]{margin:10px}"]}),n})();function iee(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Email is required"),s.qZA())}function ree(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Email format is incorrect"),s.qZA())}function see(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Password is required"),s.qZA())}function oee(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Password must be at least 8 characters"),s.qZA())}function aee(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Password is required"),s.qZA())}function lee(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Confirm password don't match the entered password"),s.qZA())}let cee=(()=>{class n{constructor(e,i,r,o,c){this.fb=e,this.router=i,this.authService=r,this.toast=o,this.compnayService=c,this.adminRegisterForm=this.fb.group({email:["",[lt.required,lt.email]],password:["",[lt.required,lt.minLength(8)]],confirmPassword:["",lt.required]},{validators:this.passwordMatchingValidator()}),this.hide=!0}ngOnInit(){}get email(){return this.adminRegisterForm.get("email")}get password(){return this.adminRegisterForm.get("password")}get confirmPassword(){return this.adminRegisterForm.get("confirmPassword")}back(){this.router.navigate(["landingg/select"])}submit(){const e=this.adminRegisterForm.value;this.authService.adminSignUp(e.email+"",e.password+"").pipe(g(i=>this.compnayService.create({uid:i.user?.uid,email:i.user?.email+""})),this.toast.observe({loading:"Registering User ...",success:"Succesfully Registered",error:i=>"Error Happened "+i})).subscribe({next:()=>{this.router.navigate(["adminlog"])},error:i=>alert("Error "+i)})}passwordMatchingValidator(){return e=>{const i=e.get("password")?.value,r=e.get("confirmPassword")?.value;return i&&r&&i!==r?{passwordDontMatch:!0}:null}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr),s.Y36(fn),s.Y36(Yi),s.Y36(fh),s.Y36(Ov))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-admin-registration"]],decls:46,vars:16,consts:[["id","header"],["src","./assets/images/logo.png","alt","we-logo"],["id","nav"],["id","h1"],["mat-raised-button","","color","primary",3,"click"],["id","main"],[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill"],["type","text","matInput","","formControlName","email"],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","password","formControlName","confirmPassword",3,"type"],["type","submit","mat-raised-button","","color","primary",1,"btn",3,"disabled"],["routerLink","/adminlog"]],template:function(e,i){1&e&&(s.TgZ(0,"header")(1,"div",0),s._UZ(2,"img",1),s.TgZ(3,"div",2)(4,"div",3)(5,"h1"),s._uU(6,"Company Sign Up"),s.qZA()(),s.TgZ(7,"button",4),s.NdJ("click",function(){return i.back()}),s._uU(8,"Back >>"),s.qZA()()()(),s.TgZ(9,"div",5)(10,"h2"),s._uU(11,"Sign Up"),s.qZA(),s.TgZ(12,"form",6),s.NdJ("ngSubmit",function(){return i.submit()}),s.TgZ(13,"mat-form-field",7)(14,"mat-label"),s._uU(15,"Email: "),s.qZA(),s._UZ(16,"input",8),s.YNc(17,iee,2,0,"mat-error",9),s.YNc(18,ree,2,0,"mat-error",9),s.qZA(),s._UZ(19,"br"),s.TgZ(20,"mat-form-field",7)(21,"mat-label"),s._uU(22,"Password"),s.qZA(),s._UZ(23,"input",10),s.TgZ(24,"button",11),s.NdJ("click",function(){return i.hide=!i.hide}),s.TgZ(25,"mat-icon"),s._uU(26),s.qZA()(),s.YNc(27,see,2,0,"mat-error",9),s.YNc(28,oee,2,0,"mat-error",9),s.qZA(),s._UZ(29,"br"),s.TgZ(30,"mat-form-field",7)(31,"mat-label"),s._uU(32,"Confirm Password"),s.qZA(),s._UZ(33,"input",12),s.TgZ(34,"button",11),s.NdJ("click",function(){return i.hide=!i.hide}),s.TgZ(35,"mat-icon"),s._uU(36),s.qZA()(),s.YNc(37,aee,2,0,"mat-error",9),s.qZA(),s._UZ(38,"br"),s.YNc(39,lee,2,0,"mat-error",9),s.TgZ(40,"button",13),s._uU(41,"Register"),s.qZA()(),s.TgZ(42,"span"),s._uU(43,"Have an account? "),s.TgZ(44,"a",14),s._uU(45,"Sign In"),s.qZA()()()),2&e&&(s.xp6(12),s.Q6J("formGroup",i.adminRegisterForm),s.xp6(5),s.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.required),s.xp6(1),s.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.email),s.xp6(5),s.Q6J("type",i.hide?"password":"text"),s.xp6(1),s.uIk("aria-label","Hide password")("aria-pressed",i.hide),s.xp6(2),s.Oqu(i.hide?"visibility_off":"visibility"),s.xp6(1),s.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required),s.xp6(1),s.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.minlength),s.xp6(5),s.Q6J("type",i.hide?"password":"text"),s.xp6(1),s.uIk("aria-label","Hide password")("aria-pressed",i.hide),s.xp6(2),s.Oqu(i.hide?"visibility_off":"visibility"),s.xp6(1),s.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required),s.xp6(2),s.Q6J("ngIf",null==i.adminRegisterForm.errors?null:i.adminRegisterForm.errors.passwordDontMatch),s.xp6(1),s.Q6J("disabled",i.adminRegisterForm.invalid))},dependencies:[dn,Js,tx,Lu,Pc,Rg,Vu,uh,wr,Xi,Ii,hr,Ji,Un,Fo],styles:['#header[_ngcontent-%COMP%]{width:100%;margin:0 auto;overflow:hidden;background-color:#8a2be2;position:fixed;display:flex;justify-content:space-around;align-items:center;z-index:55}#header[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:indigo;padding-bottom:124.42136%;width:100%;bottom:0;left:0;transform:rotate(80deg);transform-origin:left bottom}img[_ngcontent-%COMP%]{width:100px;height:75px;z-index:66}#nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:600px;z-index:66}h1[_ngcontent-%COMP%]{color:#fff}#h1[_ngcontent-%COMP%]{margin-top:10px}#mat-icon[_ngcontent-%COMP%]{z-index:66}#main[_ngcontent-%COMP%]{position:relative;top:125px;margin:auto;width:300px;height:400px;border:1px solid rgb(204,202,202);border-radius:20px;box-shadow:10px 5px 5px indigo}h2[_ngcontent-%COMP%]{padding-top:10px;text-align:center}mat-form-field[_ngcontent-%COMP%]{width:100%}.btn[_ngcontent-%COMP%]{margin-left:85px;margin-top:10px}span[_ngcontent-%COMP%]{margin-left:65px}span[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none}.example-form[_ngcontent-%COMP%]{min-width:150px;margin:auto;padding:20px}']}),n})(),uee=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.adminState$.pipe(w(1),(0,Ue.U)(r=>!r||(this.router.navigate(["adminlog"]),!1)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yi),s.LFG(fn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dee(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Email is required"),s.qZA())}function hee(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Email format is incorrect"),s.qZA())}function fee(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Password is required"),s.qZA())}function pee(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Password must be at least 8 characters"),s.qZA())}function mee(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Password is required"),s.qZA())}function gee(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Confirm password don't match the entered password"),s.qZA())}let _ee=(()=>{class n{constructor(e,i,r,o,c){this.fb=e,this.router=i,this.authService=r,this.toast=o,this.userService=c,this.userRegisterForm=this.fb.group({email:["",[lt.required,lt.email]],password:["",[lt.required,lt.minLength(8)]],confirmPassword:["",lt.required]},{validators:this.passwordMatchingValidator()}),this.hide=!0}ngOnInit(){}get email(){return this.userRegisterForm.get("email")}get password(){return this.userRegisterForm.get("password")}get confirmPassword(){return this.userRegisterForm.get("confirmPassword")}back(){this.router.navigate(["landingg/select"])}submit(){const e=this.userRegisterForm.value;this.authService.personSignUp(e.email+"",e.password+"").pipe(g(i=>this.userService.create({uid:i.user?.uid,email:i.user?.email+""})),this.toast.observe({loading:"Registering User ...",success:"Succesfully Registered",error:i=>"Error Happened "+i})).subscribe({next:()=>{this.router.navigate(["adminlog"])},error:i=>alert("Error "+i)})}passwordMatchingValidator(){return e=>{const i=e.get("password")?.value,r=e.get("confirmPassword")?.value;return i&&r&&i!==r?{passwordDontMatch:!0}:null}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr),s.Y36(fn),s.Y36(Yi),s.Y36(fh),s.Y36(Ou))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-registration"]],decls:46,vars:16,consts:[["id","header"],["src","./assets/images/logo.png","alt","we-logo"],["id","nav"],["id","h1"],["mat-raised-button","","color","primary",3,"click"],["id","main"],[1,".example-form",3,"formGroup","ngSubmit"],["appearance","fill"],["type","text","matInput","","formControlName","email"],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","password","formControlName","confirmPassword",3,"type"],["type","submit","mat-raised-button","","color","primary",1,"btn",3,"disabled"],["routerLink","/userlog"]],template:function(e,i){1&e&&(s.TgZ(0,"header")(1,"div",0),s._UZ(2,"img",1),s.TgZ(3,"div",2)(4,"div",3)(5,"h1"),s._uU(6,"Person Sign Up"),s.qZA()(),s.TgZ(7,"button",4),s.NdJ("click",function(){return i.back()}),s._uU(8,"Back >>"),s.qZA()()()(),s.TgZ(9,"div",5)(10,"h2"),s._uU(11,"Sign Up"),s.qZA(),s.TgZ(12,"form",6),s.NdJ("ngSubmit",function(){return i.submit()}),s.TgZ(13,"mat-form-field",7)(14,"mat-label"),s._uU(15,"Email: "),s.qZA(),s._UZ(16,"input",8),s.YNc(17,dee,2,0,"mat-error",9),s.YNc(18,hee,2,0,"mat-error",9),s.qZA(),s._UZ(19,"br"),s.TgZ(20,"mat-form-field",7)(21,"mat-label"),s._uU(22,"Password"),s.qZA(),s._UZ(23,"input",10),s.TgZ(24,"button",11),s.NdJ("click",function(){return i.hide=!i.hide}),s.TgZ(25,"mat-icon"),s._uU(26),s.qZA()(),s.YNc(27,fee,2,0,"mat-error",9),s.YNc(28,pee,2,0,"mat-error",9),s.qZA(),s._UZ(29,"br"),s.TgZ(30,"mat-form-field",7)(31,"mat-label"),s._uU(32,"Confirm Password"),s.qZA(),s._UZ(33,"input",12),s.TgZ(34,"button",11),s.NdJ("click",function(){return i.hide=!i.hide}),s.TgZ(35,"mat-icon"),s._uU(36),s.qZA()(),s.YNc(37,mee,2,0,"mat-error",9),s.qZA(),s._UZ(38,"br"),s.YNc(39,gee,2,0,"mat-error",9),s.TgZ(40,"button",13),s._uU(41,"Register"),s.qZA()(),s.TgZ(42,"span"),s._uU(43,"Have an account? "),s.TgZ(44,"a",14),s._uU(45,"Sign In"),s.qZA()()()),2&e&&(s.xp6(12),s.Q6J("formGroup",i.userRegisterForm),s.xp6(5),s.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.required),s.xp6(1),s.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.email),s.xp6(5),s.Q6J("type",i.hide?"password":"text"),s.xp6(1),s.uIk("aria-label","Hide password")("aria-pressed",i.hide),s.xp6(2),s.Oqu(i.hide?"visibility_off":"visibility"),s.xp6(1),s.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required),s.xp6(1),s.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.minlength),s.xp6(5),s.Q6J("type",i.hide?"password":"text"),s.xp6(1),s.uIk("aria-label","Hide password")("aria-pressed",i.hide),s.xp6(2),s.Oqu(i.hide?"visibility_off":"visibility"),s.xp6(1),s.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required),s.xp6(2),s.Q6J("ngIf",null==i.userRegisterForm.errors?null:i.userRegisterForm.errors.passwordDontMatch),s.xp6(1),s.Q6J("disabled",i.userRegisterForm.invalid))},dependencies:[dn,Js,tx,Lu,Pc,Rg,Vu,uh,wr,Xi,Ii,hr,Ji,Un,Fo],styles:['#header[_ngcontent-%COMP%]{width:100%;margin:0 auto;overflow:hidden;background-color:#8a2be2;position:fixed;display:flex;justify-content:space-around;align-items:center;z-index:55}#header[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:indigo;padding-bottom:124.42136%;width:100%;bottom:0;left:0;transform:rotate(80deg);transform-origin:left bottom}img[_ngcontent-%COMP%]{width:100px;height:75px;z-index:66}#nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:600px;z-index:66}h1[_ngcontent-%COMP%]{color:#fff}#h1[_ngcontent-%COMP%]{margin-top:10px}#mat-icon[_ngcontent-%COMP%]{z-index:66}.example-form[_ngcontent-%COMP%]{margin:auto;padding:20px}#main[_ngcontent-%COMP%]{position:relative;top:125px;margin:auto;width:300px;height:400px;border:1px solid rgb(204,202,202);border-radius:20px;box-shadow:10px 5px 5px indigo}h2[_ngcontent-%COMP%]{padding-top:10px;text-align:center}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:0 20px}.btn[_ngcontent-%COMP%]{margin-left:105px;margin-top:10px;margin-bottom:30px}span[_ngcontent-%COMP%]{margin-left:65px}span[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none}.example-form[_ngcontent-%COMP%]{min-width:150px;margin:auto;padding:20px}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}']}),n})(),yee=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.personState$.pipe(w(1),(0,Ue.U)(r=>!r||(this.router.navigate(["userlog"]),!1)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yi),s.LFG(fn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vee=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.userService=r}canActivate(e,i){return this.userService.isLoggedInUserPerson$.pipe((0,Ue.U)(r=>!!r||(this.router.navigate(["not-authorized"]),!1)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yi),s.LFG(fn),s.LFG(Ou))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bee=(()=>{class n{constructor(e,i){this.companyService=e,this.router=i}canActivate(e,i){return this.companyService.isLoggedInUserCompany$.pipe((0,Ue.U)(r=>!!r||(this.router.navigate(["not-authorized"]),!1)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ov),s.LFG(fn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wee=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-not-authorized"]],decls:3,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"h2"),s._uU(1,"You are not-authorized to view this page"),s._UZ(2,"h2"),s.qZA())}}),n})();function Cee(n,t){1&n&&(s.TgZ(0,"th",12),s._uU(1," Name "),s.qZA())}function Dee(n,t){if(1&n&&(s.TgZ(0,"td",13),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.activityName," ")}}function Eee(n,t){1&n&&(s.TgZ(0,"th",12),s._uU(1,"Description"),s.qZA())}function See(n,t){if(1&n&&(s.TgZ(0,"td",14),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.activityDescription)}}function Tee(n,t){1&n&&(s.TgZ(0,"th",12),s._uU(1,"Start Date"),s.qZA())}function Iee(n,t){if(1&n&&(s.TgZ(0,"td",14),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(s.xi3(2,1,e.start,"yyyy/MM/dd"))}}function xee(n,t){1&n&&(s.TgZ(0,"th",12),s._uU(1,"End Date"),s.qZA())}function Aee(n,t){if(1&n&&(s.TgZ(0,"td",14),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(s.xi3(2,1,e.end,"yyyy/MM/dd"))}}function Mee(n,t){1&n&&(s.TgZ(0,"th",12),s._uU(1," Skills "),s.qZA())}function kee(n,t){if(1&n&&(s.TgZ(0,"td",13),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.skill," ")}}function Ree(n,t){1&n&&(s.TgZ(0,"th",12),s._uU(1,"Status"),s.qZA())}function Oee(n,t){1&n&&(s.TgZ(0,"button",17),s.O4$(),s.TgZ(1,"svg",18),s._UZ(2,"path",19),s.qZA(),s._uU(3,"Approved"),s.qZA())}function Pee(n,t){1&n&&(s.TgZ(0,"button",20),s._uU(1,"Pending"),s.qZA())}function Nee(n,t){if(1&n&&(s.TgZ(0,"td",13),s.YNc(1,Oee,4,0,"button",15),s.YNc(2,Pee,2,0,"button",16),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",e.isApproved),s.xp6(1),s.Q6J("ngIf",!e.isApproved)}}function Fee(n,t){1&n&&s._UZ(0,"tr",21)}function Lee(n,t){1&n&&s._UZ(0,"tr",22)}let Vee=(()=>{class n{constructor(e,i,r){this.postsService=e,this.userService=i,this.authService=r,this.posts=new Tf([]),this.displayedColumns=["name","description","start","end","skills","status"]}ngOnInit(){this.authService.personState$.pipe(w(1)).subscribe(e=>{console.log(e?.uid),this.userService.getAppliedPosts(e?.uid).pipe(w(1)).subscribe(i=>{console.log(i),this.posts.data=i})}),console.log(this.posts,"fromTable")}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wf),s.Y36(Ou),s.Y36(Yi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-applied-activities"]],decls:26,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["class","td","mat-cell","",4,"matCellDef"],["matColumnDef","start"],["matColumnDef","end"],["matColumnDef","skills"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"td"],["class","approved","mat-stroked-button","",4,"ngIf"],["mat-stroked-button","",4,"ngIf"],["mat-stroked-button","",1,"approved"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512"],["d","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"],["mat-stroked-button",""],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(s.TgZ(0,"div")(1,"h3"),s._uU(2,"List Of Your Applied Activities:"),s.qZA(),s.TgZ(3,"h5"),s._uU(4,"from here you can review your last applied activities and their status"),s.qZA()(),s.TgZ(5,"table",0),s.ynx(6,1),s.YNc(7,Cee,2,0,"th",2),s.YNc(8,Dee,2,1,"td",3),s.BQk(),s.ynx(9,4),s.YNc(10,Eee,2,0,"th",2),s.YNc(11,See,2,1,"td",5),s.BQk(),s.ynx(12,6),s.YNc(13,Tee,2,0,"th",2),s.YNc(14,Iee,3,4,"td",5),s.BQk(),s.ynx(15,7),s.YNc(16,xee,2,0,"th",2),s.YNc(17,Aee,3,4,"td",5),s.BQk(),s.ynx(18,8),s.YNc(19,Mee,2,0,"th",2),s.YNc(20,kee,2,1,"td",3),s.BQk(),s.ynx(21,9),s.YNc(22,Ree,2,0,"th",2),s.YNc(23,Nee,3,2,"td",3),s.BQk(),s.YNc(24,Fee,1,0,"tr",10),s.YNc(25,Lee,1,0,"tr",11),s.qZA()),2&e&&(s.xp6(5),s.Q6J("dataSource",i.posts),s.xp6(19),s.Q6J("matHeaderRowDef",i.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[dn,wr,_r,Fm,Su,Py,xl,Ef,Ny,Df,Fy,Ly,na],styles:["table[_ngcontent-%COMP%]{width:100%;max-width:1000px}svg[_ngcontent-%COMP%]{width:17px;margin-right:5px;color:#8a2be2}.approved[_ngcontent-%COMP%]{background-color:#adff2f}"]}),n})(),Bee=(()=>{class n{constructor(e,i){this.firestore=e,this.userService=i}createChat(e){const i=this.firestore.collection("chats");return this.userService.currentUserProfile$.pipe(w(1),ct(r=>(console.log(r),(0,dt.D)(i.add({users:[r,e],userIds:[r?.uid+"",e?.uid+""]})).pipe((0,Ue.U)(c=>c.id)))),(0,Ue.U)(r=>r))}get myChats$(){return this.firestore.collection("chats"),this.userService.currentUserProfile$.pipe(ct(i=>(0,dt.D)(this.firestore.collection("chats",r=>r.where("_userIds","array-contains",i?.uid)).valueChanges({idField:"id"}).pipe((0,Ue.U)(r=>this.addChatName(i?.uid??"",r))))))}addChatName(e,i){return i.forEach(r=>{if(r.userIds&&r.users){const o=0===r.userIds.indexOf(e??"")?1:0;r.chatName=r.users[o]+""}}),i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ag),s.LFG(Ou))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uee=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Dt(e)}get inset(){return this._inset}set inset(e){this._inset=Dt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),Gj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[pn,pn]}),n})();const Hee=["*"],zee=["text"];function qee(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",5),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}const Gee=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],$ee=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let $j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),Zee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})();const Yee=Qd(class{}),Wee=Qd(class{}),Kee={provide:mi,useExisting:(0,s.Gpc)(()=>vN),multi:!0};class Qee{constructor(t,e){this.source=t,this.options=e}}let Zj=(()=>{class n extends Wee{constructor(e,i,r){super(),this._element=e,this._changeDetector=i,this.selectionList=r,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new s.vpe,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(e){this._color=e}get value(){return this._value}set value(e){this.selected&&!this.selectionList.compareWith(e,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=e}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(e){const i=Dt(e);i!==this._disabled&&(this._disabled=i,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(e){const i=Dt(e);i!==this._selected&&(this._setSelected(i),(i||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const e=this.selectionList;e._value&&e._value.some(r=>e.compareWith(this._value,r))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function Xk(n,t,e="mat"){n.changes.pipe(A(n)).subscribe(({length:i})=>{Rm(t,`${e}-2-line`,!1),Rm(t,`${e}-3-line`,!1),Rm(t,`${e}-multi-line`,!1),2===i||3===i?Rm(t,`${e}-${i}-line`,!0):i>3&&Rm(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const e=this._hasFocus,i=this.selectionList._removeOptionFromList(this);e&&i&&i.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(e){return e!==this._selected&&(this._selected=e,e?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(e),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>vN)))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list-option"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,$j,5),s.Suo(r,Zee,5),s.Suo(r,Cf,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._avatar=o.first),s.iGM(o=s.CRH())&&(i._icon=o.first),s.iGM(o=s.CRH())&&(i._lines=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(zee,5),2&e){let r;s.iGM(r=s.CRH())&&(i._text=r.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._handleFocus()})("blur",function(){return i._handleBlur()})("click",function(){return i._handleClick()}),2&e&&(s.uIk("aria-selected",i.selected)("aria-disabled",i.disabled)("tabindex",-1),s.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)("mat-primary","primary"===i.color)("mat-accent","primary"!==i.color&&"warn"!==i.color)("mat-warn","warn"===i.color)("mat-list-single-selected-option",i.selected&&!i.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[s.qOj],ngContentSelectors:$ee,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(e,i){1&e&&(s.F$t(Gee),s.TgZ(0,"div",0),s._UZ(1,"div",1),s.YNc(2,qee,1,2,"mat-pseudo-checkbox",2),s.TgZ(3,"div",3,4),s.Hsn(5),s.qZA(),s.Hsn(6,1),s.qZA()),2&e&&(s.ekj("mat-list-item-content-reverse","after"==i.checkboxPosition),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()),s.xp6(1),s.Q6J("ngIf",i.selectionList.multiple))},dependencies:[My,ky,dn],encapsulation:2,changeDetection:0}),n})(),vN=(()=>{class n extends Yee{constructor(e,i,r){super(),this._element=e,this._changeDetector=i,this._focusMonitor=r,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new s.vpe,this.color="accent",this.compareWith=(o,c)=>o===c,this._disabled=!1,this.selectedOptions=new lm(this._multiple),this._tabIndex=-1,this._onChange=o=>{},this._destroyed=new et.x,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(e){this._disabled=Dt(e),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(e){const i=Dt(e);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new lm(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new DS(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Zt(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(A(null),Zt(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Zt(this._destroyed)).subscribe(e=>{if(e.added)for(let i of e.added)i.selected=!0;if(e.removed)for(let i of e.removed)i.selected=!1}),this._focusMonitor.monitor(this._element).pipe(Zt(this._destroyed)).subscribe(e=>{if("keyboard"===e||"program"===e){let i=0;for(let r=0;r<this.options.length;r++)if(this.options.get(r)?.selected){i=r;break}this._keyManager.setActiveItem(i)}})}ngOnChanges(e){const i=e.disableRipple,r=e.color;(i&&!i.firstChange||r&&!r.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(e){this._element.nativeElement.focus(e)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(e){this._keyManager.updateActiveItem(e)}_removeOptionFromList(e){const i=this._getOptionIndex(e);return i>-1&&this._keyManager.activeItemIndex===i&&(i>0?this._keyManager.updateActiveItem(i-1):0===i&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(i+1,this.options.length-1))),this._keyManager.activeItem}_keydown(e){const i=e.keyCode,r=this._keyManager,o=r.activeItemIndex,c=gr(e);switch(i){case 32:case 13:!c&&!r.isTyping()&&(this._toggleFocusedOption(),e.preventDefault());break;default:if(65===i&&this.multiple&&gr(e,"ctrlKey")&&!r.isTyping()){const d=this.options.some(p=>!p.disabled&&!p.selected);this._setAllOptionsSelected(d,!0,!0),e.preventDefault()}else r.onKeydown(e)}this.multiple&&(38===i||40===i)&&e.shiftKey&&r.activeItemIndex!==o&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const e=this._getSelectedOptionValues();this._onChange(e),this._value=e}}_emitChangeEvent(e){this.selectionChange.emit(new Qee(this,e))}writeValue(e){this._value=e,this.options&&this._setOptionsFromValues(e||[])}setDisabledState(e){this.disabled=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}_setOptionsFromValues(e){this.options.forEach(i=>i._setSelected(!1)),e.forEach(i=>{const r=this.options.find(o=>!o.selected&&this.compareWith(o.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(e=>e.selected).map(e=>e.value)}_toggleFocusedOption(){let e=this._keyManager.activeItemIndex;if(null!=e&&this._isValidIndex(e)){let i=this.options.toArray()[e];i&&!i.disabled&&(this._multiple||!i.selected)&&(i.toggle(),this._emitChangeEvent([i]))}}_setAllOptionsSelected(e,i,r){const o=[];return this.options.forEach(c=>{(!i||!c.disabled)&&c._setSelected(e)&&o.push(c)}),o.length&&(this._reportValueChange(),r&&this._emitChangeEvent(o)),o}_isValidIndex(e){return e>=0&&e<this.options.length}_getOptionIndex(e){return this.options.toArray().indexOf(e)}_markOptionsForCheck(){this.options&&this.options.forEach(e=>e._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Kd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-selection-list"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Zj,5),2&e){let o;s.iGM(o=s.CRH())&&(i.options=o)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._keydown(o)}),2&e&&s.uIk("aria-multiselectable",i.multiple)("aria-disabled",i.disabled.toString())("tabindex",i._tabIndex)},inputs:{disableRipple:"disableRipple",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[s._Bn([Kee]),s.qOj,s.TTD],ngContentSelectors:Hee,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),Jee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[FS,nw,pn,Pm,cr,FS,pn,Pm,Gj]}),n})();function Yj(n,t){return t?e=>Ws(t.pipe(w(1),function Xee(){return(0,ei.e)((n,t)=>{n.subscribe((0,hn.x)(t,wu.Z))})}()),e.pipe(Yj(n))):(0,q.z)((e,i)=>n(e,i).pipe(w(1),yl(e)))}const tte=["panel"];function nte(n,t){if(1&n&&(s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA()),2&n){const e=t.id,i=s.oxw();s.Q6J("id",i.id)("ngClass",i._classList),s.uIk("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}const ite=["*"];let rte=0;class ste{constructor(t,e){this.source=t,this.option=e}}const ote=Qd(class{}),Wj=new s.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function ate(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1}}});let lte=(()=>{class n extends ote{constructor(e,i,r,o){super(),this._changeDetectorRef=e,this._elementRef=i,this._activeOptionChanges=$n.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new s.vpe,this.opened=new s.vpe,this.closed=new s.vpe,this.optionActivated=new s.vpe,this._classList={},this.id="mat-autocomplete-"+rte++,this.inertGroups=o?.SAFARI||!1,this._autoActiveFirstOption=!!r.autoActiveFirstOption,this._autoSelectActiveOption=!!r.autoSelectActiveOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(e){this._autoActiveFirstOption=Dt(e)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(e){this._autoSelectActiveOption=Dt(e)}set classList(e){this._classList=e&&e.length?VE(e).reduce((i,r)=>(i[r]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new CS(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){const i=new ste(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){return this.ariaLabel?null:this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_setVisibilityClasses(e){e[this._visibleClass]=this.showPanel,e[this._hiddenClass]=!this.showPanel}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(Wj),s.Y36(er))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(s.Rgc,7),s.Gf(tte,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.template=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[s.qOj]}),n})(),cte=(()=>{class n extends lte{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,iw,5),s.Suo(r,Eu,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.optionGroups=o),s.iGM(o=s.CRH())&&(i.options=o)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[s._Bn([{provide:Ry,useExisting:n}]),s.qOj],ngContentSelectors:ite,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,nte,3,4,"ng-template"))},dependencies:[ea],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}"],encapsulation:2,changeDetection:0}),n})();const Kj=new s.OlP("mat-autocomplete-scroll-strategy"),dte={provide:Kj,deps:[Go],useFactory:function ute(n){return()=>n.scrollStrategies.reposition()}},hte={provide:mi,useExisting:(0,s.Gpc)(()=>Qj),multi:!0};let fte=(()=>{class n{constructor(e,i,r,o,c,d,p,y,C,E,M){this._element=e,this._overlay=i,this._viewContainerRef=r,this._zone=o,this._changeDetectorRef=c,this._dir=p,this._formField=y,this._document=C,this._viewportRuler=E,this._defaults=M,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=$n.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new et.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=_l(()=>{const P=this.autocomplete?this.autocomplete.options:null;return P?P.changes.pipe(A(P),g(()=>(0,ti.T)(...P.map(F=>F.onSelectionChange)))):this._zone.onStable.pipe(w(1),g(()=>this.optionSelections))}),this._scrollStrategy=d}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(e){this._autocompleteDisabled=Dt(e)}ngAfterViewInit(){const e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,ti.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(R(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(R(()=>this._overlayAttached)):Fe()).pipe((0,Ue.U)(e=>e instanceof rw?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,ti.T)(Cc(this._document,"click"),Cc(this._document,"auxclick"),Cc(this._document,"touchend")).pipe(R(e=>{const i=bu(e),r=this._formField?this._formField._elementRef.nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(i))&&(!o||!o.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){const i=e.keyCode,r=gr(e);if(27===i&&!r&&e.preventDefault(),this.activeOption&&13===i&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,c=38===i||40===i;9===i||c&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):c&&this._canOpen()&&this.openPanel(),(c||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let i=e.target,r=i.value;"number"===i.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r&&(this._previousValue=r,this._pendingAutoselectedOption=null,this._onChange(r),this._canOpen()&&this._document.activeElement===e.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(e=!1){this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const e=this._zone.onStable.pipe(w(1)),i=this.autocomplete.options.changes.pipe((0,Gt.b)(()=>this._positionStrategy.reapplyLastPosition()),function ete(n,t=Dc.z){const e=zd(n,t);return Yj(()=>e)}(0));return(0,ti.T)(e,i).pipe(g(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),w(1)).subscribe(r=>this._setValueAndClose(r))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(e){const i=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e;this._updateNativeInputValue(i??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){const i=e?e.source:this._pendingAutoselectedOption;i&&(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),this.autocomplete._emitSelectEvent(i),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(e){this.autocomplete.options.forEach(i=>{i!==e&&i.selected&&i.deselect()})}_attachOverlay(){let e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new xf(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,this._handleOverlayEvents(e),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&e&&e.updateSize({width:this._getPanelWidth()})})),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const i=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&i!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new Vm({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let c;c="above"===this.position?o:"below"===this.position?i:[...i,...o],e.withPositions(c)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const e=this.autocomplete;e.autoActiveFirstOption?e._keyManager.setFirstItemActive():e._keyManager.setActiveItem(-1)}_canOpen(){const e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){const i=this.autocomplete,r=Oy(e,i.options,i.optionGroups);if(0===e&&1===r)i._setScrollTop(0);else if(i.panel){const o=i.options.toArray()[e];if(o){const c=o._getHostElement(),d=ow(c.offsetTop,c.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(d)}}}_handleOverlayEvents(e){e.keydownEvents().subscribe(i=>{(27===i.keyCode&&!gr(i)||38===i.keyCode&&gr(i,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),i.stopPropagation(),i.preventDefault())}),e.outsidePointerEvents().subscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Go),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(Kj),s.Y36(Ur,8),s.Y36(Nv,9),s.Y36(ie,8),s.Y36(Gd),s.Y36(Wj,8))},n.\u0275dir=s.lG2({type:n,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[s.TTD]}),n})(),Qj=(()=>{class n extends fte{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(e,i){1&e&&s.NdJ("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(o){return i._handleInput(o)})("keydown",function(o){return i._handleKeydown(o)})("click",function(){return i._handleClick()}),2&e&&s.uIk("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-owns",i.autocompleteDisabled||!i.panelOpen||null==i.autocomplete?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[s._Bn([hte]),s.qOj]}),n})(),pte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[dte],imports:[Uy,Nm,pn,cr,Ec,Nm,pn]}),n})();function mte(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",9),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.createChat(o))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.personName," ")}}function gte(n,t){if(1&n&&(s.TgZ(0,"mat-list-option",10),s._UZ(1,"img",11),s.TgZ(2,"p",12)(3,"span",13),s._uU(4),s.qZA(),s.TgZ(5,"span",14),s._uU(6),s.qZA()(),s.TgZ(7,"p",15),s._uU(8),s.qZA(),s._UZ(9,"mat-divider"),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.id),s.xp6(1),s.Q6J("src","assets/images/profile-placeholder.jpg",s.LSH),s.xp6(3),s.Oqu(e.chatName),s.xp6(2),s.hij("",e.lastMessageDate," "),s.xp6(2),s.hij(" ",e.lastMessage," ")}}const _te=[{path:"",redirectTo:"landingg/about",pathMatch:"full"},{path:"landingg",component:rX,children:[{path:"stories",component:sX},{path:"why-volunteering",component:oX},{path:"about",component:nX},{path:"contact",component:iX},{path:"select",component:aX}]},{path:"not-authorized",component:wee},{path:"adminlog",component:fX},{path:"userlog",component:vX},{path:"adminSignUp",component:cee,canActivate:[uee]},{path:"userSignUp",component:_ee,canActivate:[yee]},{path:"admin",component:mQ,canActivate:[bee],children:[{path:"",redirectTo:"post",pathMatch:"full"},{path:"post",component:QJ},{path:"activities",component:IK},{path:"view",component:tX},{path:"profile",component:XJ}]},{path:"user",component:EX,canActivate:[vee],children:[{path:"user-activities",component:jX},{path:"applied-activities",component:Vee},{path:"chat",component:(()=>{class n{constructor(e,i){this.userService=e,this.chatService=i,this.myChats$=this.chatService.myChats$,this.user$=this.userService.isLoggedInUserPerson$,this.user=this.userService.personState$,this.searchControl=new md,this.users$=Bo([this.userService.getUsers(),this.user$,this.searchControl.valueChanges.pipe(A(""))]).pipe((0,Ue.U)(([r,o,c])=>r.filter(d=>d.personName?.includes(c))))}ngOnInit(){}createChat(e){this.chatService.createChat(e).subscribe(i=>{console.log(i)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ou),s.Y36(Bee))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-chatting"]],decls:14,vars:9,consts:[[1,"container"],[1,"chat-list","mat-elevation-z5"],[1,"search-input"],["matInput","","placeholder","Search for users","type","text",3,"formControl","matAutocomplete"],["users","matAutocomplete"],[3,"click",4,"ngFor","ngForOf"],[3,"multiple"],[3,"value",4,"ngFor","ngForOf"],[1,"messages","mat-elevation-z5"],[3,"click"],[3,"value"],["matListAvatar","",3,"src"],["mat-line","",1,"chat-title"],[1,"chat-name"],[1,"chat-date"],["mat-line",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field"),s._UZ(4,"input",3),s.qZA(),s.TgZ(5,"mat-autocomplete",null,4),s.YNc(7,mte,2,1,"mat-option",5),s.ALo(8,"async"),s.qZA()(),s.TgZ(9,"mat-selection-list",6),s._UZ(10,"mat-divider"),s.YNc(11,gte,10,5,"mat-list-option",7),s.ALo(12,"async"),s.qZA()(),s._UZ(13,"div",8),s.qZA()),2&e){const r=s.MAs(6);s.xp6(4),s.Q6J("formControl",i.searchControl)("matAutocomplete",r),s.xp6(3),s.Q6J("ngForOf",s.lcZ(8,5,i.users$)),s.xp6(2),s.Q6J("multiple",!1),s.xp6(2),s.Q6J("ngForOf",s.lcZ(12,7,i.myChats$))}},dependencies:[di,Lu,Vu,Ii,hr,$j,Cf,vN,Zj,Uee,Eu,Gh,cte,Qj,qa],styles:[".container[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 70px)}.chat-list[_ngcontent-%COMP%]{width:40%;margin:16px;background-color:#c5cae9;border-radius:16px}.messages[_ngcontent-%COMP%]{width:60%;margin:16px;border-radius:16px}.search-input[_ngcontent-%COMP%]{margin:24px}.chat-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.chat-name[_ngcontent-%COMP%]{font-weight:500}.chat-date[_ngcontent-%COMP%]{font-size:.7rem;color:#000000b3}"]}),n})()},{path:"user-profile",component:nee}]}];let yte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ME.forRoot(_te),ME]}),n})(),vte=(()=>{class n{constructor(){this.title="capstoneproj"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[Br],styles:["body[_ngcontent-%COMP%]{background-color:#a4adfa}"]}),n})();function Jj(n){return new s.vHH(3e3,!1)}function ene(){return typeof window<"u"&&typeof window.document<"u"}function bN(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ep(n){switch(n.length){case 0:return new zy;case 1:return n[0];default:return new aT(n)}}function Xj(n,t,e,i,r=new Map,o=new Map){const c=[],d=[];let p=-1,y=null;if(i.forEach(C=>{const E=C.get("offset"),M=E==p,P=M&&y||new Map;C.forEach((F,j)=>{let te=j,Re=F;if("offset"!==j)switch(te=t.normalizePropertyName(te,c),Re){case"!":Re=r.get(j);break;case Ia:Re=o.get(j);break;default:Re=t.normalizeStyleValue(j,te,Re,c)}P.set(te,Re)}),M||d.push(P),y=P,p=E}),c.length)throw function jte(n){return new s.vHH(3502,!1)}();return d}function wN(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&CN(e,"start",n)));break;case"done":n.onDone(()=>i(e&&CN(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&CN(e,"destroy",n)))}}function CN(n,t,e){const o=DN(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(o._data=c),o}function DN(n,t,e,i,r="",o=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function Oa(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function ez(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let EN=(n,t)=>!1,tz=(n,t,e)=>[],nz=null;function SN(n){const t=n.parentNode||n.host;return t===nz?null:t}(bN()||typeof Element<"u")&&(ene()?(nz=(()=>document.documentElement)(),EN=(n,t)=>{for(;t;){if(t===n)return!0;t=SN(t)}return!1}):EN=(n,t)=>n.contains(t),tz=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Og=null,iz=!1;const rz=EN,sz=tz;let oz=(()=>{class n{validateStyleProperty(e){return function nne(n){Og||(Og=function ine(){return typeof document<"u"?document.body:null}()||{},iz=!!Og.style&&"WebkitAppearance"in Og.style);let t=!0;return Og.style&&!function tne(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Og.style,!t&&iz&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Og.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return rz(e,i)}getParentElement(e){return SN(e)}query(e,i,r){return sz(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,c,d=[],p){return new zy(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),TN=(()=>{class n{}return n.NOOP=new oz,n})();const IN="ng-enter",dx="ng-leave",hx="ng-trigger",fx=".ng-trigger",lz="ng-animating",xN=".ng-animating";function tp(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:AN(parseFloat(t[1]),t[2])}function AN(n,t){return"s"===t?1e3*n:n}function px(n,t,e){return n.hasOwnProperty("duration")?n:function one(n,t,e){let r,o=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(Jj()),{duration:0,delay:0,easing:""};r=AN(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(o=AN(parseFloat(p),d[4]));const y=d[5];y&&(c=y)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(function bte(){return new s.vHH(3100,!1)}()),d=!0),o<0&&(t.push(function wte(){return new s.vHH(3101,!1)}()),d=!0),d&&t.splice(p,0,Jj())}return{duration:r,delay:o,easing:c}}(n,t,e)}function QC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function cz(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function np(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function dz(n,t,e){return e?t+":"+e+";":""}function hz(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=dz(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=dz(0,une(e),n.style[e]));n.setAttribute("style",t)}function Bu(n,t,e){n.style&&(t.forEach((i,r)=>{const o=kN(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),bN()&&hz(n))}function Pg(n,t){n.style&&(t.forEach((e,i)=>{const r=kN(i);n.style[r]=""}),bN()&&hz(n))}function JC(n){return Array.isArray(n)?1==n.length?n[0]:ww(n):n}const MN=new RegExp("{{\\s*(.+?)\\s*}}","g");function fz(n){let t=[];if("string"==typeof n){let e;for(;e=MN.exec(n);)t.push(e[1]);MN.lastIndex=0}return t}function mx(n,t,e){const i=n.toString(),r=i.replace(MN,(o,c)=>{let d=t[c];return null==d&&(e.push(function Dte(n){return new s.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function gx(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const cne=/-+([a-z0-9])/g;function kN(n){return n.replace(cne,(...t)=>t[1].toUpperCase())}function une(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Pa(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Ete(n){return new s.vHH(3004,!1)}()}}function pz(n,t){return window.getComputedStyle(n)[t]}function gne(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function _ne(n,t,e){if(":"==n[0]){const p=function yne(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Vte(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Lte(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],c=i[3];t.push(mz(r,c));"<"==o[0]&&!("*"==r&&"*"==c)&&t.push(mz(c,r))}(i,e,t)):e.push(n),e}const bx=new Set(["true","1"]),wx=new Set(["false","0"]);function mz(n,t){const e=bx.has(n)||wx.has(n),i=bx.has(t)||wx.has(t);return(r,o)=>{let c="*"==n||n==r,d="*"==t||t==o;return!c&&e&&"boolean"==typeof r&&(c=r?bx.has(n):wx.has(n)),!d&&i&&"boolean"==typeof o&&(d=o?bx.has(t):wx.has(t)),c&&d}}const vne=new RegExp("s*:selfs*,?","g");function RN(n,t,e,i){return new bne(n).build(t,e,i)}class bne{constructor(t){this._driver=t}build(t,e,i){const r=new Dne(e);return this._resetContextStyleTimingState(r),Pa(this,JC(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function Tte(){return new s.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,y=p.name;y.toString().split(/\s*,\s*/).forEach(C=>{p.name=C,o.push(this.visitState(p,e))}),p.name=y}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function Ite(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{fz(p).forEach(y=>{c.hasOwnProperty(y)||o.add(y)})})}),o.size&&(gx(o.values()),e.errors.push(function xte(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Pa(this,JC(t.animation),e);return{type:1,matchers:gne(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ng(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Pa(this,i,e)),options:Ng(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(c=>{e.currentTime=i;const d=Pa(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:o,options:Ng(t.options)}}visitAnimate(t,e){const i=function Sne(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ON(px(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=ON(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=px(e,t);return ON(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:An({});if(5==o.type)r=this.visitKeyframes(o,e);else{let c=t.styles,d=!1;if(!c){d=!0;const y={};i.easing&&(y.easing=i.easing),c=An(y)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===Ia?i.push(d):e.errors.push(new s.vHH(3002,!1)):i.push(cz(d));let o=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!o))for(let p of d.values())if(p.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,p)=>{const y=e.collectedStyles.get(e.currentQuerySelector),C=y.get(p);let E=!0;C&&(o!=r&&o>=C.startTime&&r<=C.endTime&&(e.errors.push(function Mte(n,t,e,i,r){return new s.vHH(3010,!1)}()),E=!1),o=C.startTime),E&&y.set(p,{startTime:o,endTime:r}),e.options&&function lne(n,t,e){const i=t.params||{},r=fz(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Cte(n){return new s.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function kte(){return new s.vHH(3011,!1)}()),i;let o=0;const c=[];let d=!1,p=!1,y=0;const C=t.steps.map(Re=>{const Ge=this._makeStyleAst(Re,e);let We=null!=Ge.offset?Ge.offset:function Ene(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ge.styles),Ze=0;return null!=We&&(o++,Ze=Ge.offset=We),p=p||Ze<0||Ze>1,d=d||Ze<y,y=Ze,c.push(Ze),Ge});p&&e.errors.push(function Rte(){return new s.vHH(3012,!1)}()),d&&e.errors.push(function Ote(){return new s.vHH(3200,!1)}());const E=t.steps.length;let M=0;o>0&&o<E?e.errors.push(function Pte(){return new s.vHH(3202,!1)}()):0==o&&(M=1/(E-1));const P=E-1,F=e.currentTime,j=e.currentAnimateTimings,te=j.duration;return C.forEach((Re,Ge)=>{const We=M>0?Ge==P?1:M*Ge:c[Ge],Ze=We*te;e.currentTime=F+j.delay+Ze,j.duration=Ze,this._validateStyleAst(Re,e),Re.offset=We,i.styles.push(Re)}),i}visitReference(t,e){return{type:8,animation:Pa(this,JC(t.animation),e),options:Ng(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ng(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ng(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,c]=function wne(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(vne,"")),n=n.replace(/@\*/g,fx).replace(/@\w+/g,e=>fx+"-"+e.slice(1)).replace(/:animating/g,xN),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Oa(e.collectedStyles,e.currentQuerySelector,new Map);const d=Pa(this,JC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:Ng(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Nte(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:px(t.timings,e.errors,!0);return{type:12,animation:Pa(this,JC(t.animation),e),timings:i,options:null}}}class Dne{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ng(n){return n?(n=QC(n)).params&&(n.params=function Cne(n){return n?QC(n):null}(n.params)):n={},n}function ON(n,t,e){return{duration:n,delay:t,easing:e}}function PN(n,t,e,i,r,o,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:d}}class Cx{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const xne=new RegExp(":enter","g"),Mne=new RegExp(":leave","g");function NN(n,t,e,i,r,o=new Map,c=new Map,d,p,y=[]){return(new kne).buildKeyframes(n,t,e,i,r,o,c,d,p,y)}class kne{buildKeyframes(t,e,i,r,o,c,d,p,y,C=[]){y=y||new Cx;const E=new FN(t,e,y,r,o,C,[]);E.options=p;const M=p.delay?tp(p.delay):0;E.currentTimeline.delayNextStep(M),E.currentTimeline.setStyles([c],null,E.errors,p),Pa(this,i,E);const P=E.timelines.filter(F=>F.containsAnimation());if(P.length&&d.size){let F;for(let j=P.length-1;j>=0;j--){const te=P[j];if(te.element===e){F=te;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([d],null,E.errors,p)}return P.length?P.map(F=>F.buildKeyframes()):[PN(e,[],[],[],0,M,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const c=null!=i.duration?tp(i.duration):null,d=null!=i.delay?tp(i.delay):null;return 0!==c&&t.forEach(p=>{const y=e.appendInstructionToTimeline(p,c,d);o=Math.max(o,y.duration+y.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Pa(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Dx);const c=tp(o.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>Pa(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?tp(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);o&&d.delayNextStep(o),Pa(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return px(e.params?mx(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*o),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?tp(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Dx);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((y,C)=>{e.currentQueryIndex=C;const E=e.createSubContext(t.options,y);o&&E.delayNextStep(o),y===e.element&&(p=E.currentTimeline),Pa(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,c=Math.abs(o.duration),d=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const C=e.currentTimeline;p&&C.delayNextStep(p);const E=C.currentTime;Pa(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-E+(r.startTime-i.currentTimeline.startTime)}}const Dx={};class FN{constructor(t,e,i,r,o,c,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Dx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Ex(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=tp(i.duration)),null!=i.delay&&(r.delay=tp(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=mx(o[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new FN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Dx,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Rne(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(xne,"."+this._enterClassName)).replace(Mne,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),d.push(...y)}return!o&&0==d.length&&c.push(function Fte(n){return new s.vHH(3014,!1)}()),d}}class Ex{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ex(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Ia),this._currentKeyframe.set(e,Ia);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},c=function One(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Ia)}else np(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,p]of c){const y=mx(p,o,i);this._pendingStyles.set(d,y),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Ia),this._updateStyle(d,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const y=np(d,new Map,this._backFill);y.forEach((C,E)=>{"!"===C?t.add(E):C===Ia&&e.add(E)}),i||y.set("offset",p/this.duration),r.push(y)});const o=t.size?gx(t.values()):[],c=e.size?gx(e.values()):[];if(i){const d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return PN(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class Rne extends Ex{constructor(t,e,i,r,o,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],c=i+e,d=e/c,p=np(t[0]);p.set("offset",0),o.push(p);const y=np(t[0]);y.set("offset",yz(d)),o.push(y);const C=t.length-1;for(let E=1;E<=C;E++){let M=np(t[E]);const P=M.get("offset");M.set("offset",yz((e+P*i)/c)),o.push(M)}i=c,e=0,r="",t=o}return PN(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function yz(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class LN{}const Pne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Nne extends LN{normalizePropertyName(t,e){return kN(t)}normalizeStyleValue(t,e,i,r){let o="";const c=i.toString().trim();if(Pne.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function Ste(n,t){return new s.vHH(3005,!1)}())}return c+o}}function vz(n,t,e,i,r,o,c,d,p,y,C,E,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:y,postStyleProps:C,totalTime:E,errors:M}}const VN={};class bz{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Fne(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,c,d,p,y,C){const E=[],M=this.ast.options&&this.ast.options.params||VN,F=this.buildStyles(i,d&&d.params||VN,E),j=p&&p.params||VN,te=this.buildStyles(r,j,E),Re=new Set,Ge=new Map,We=new Map,Ze="void"===r,bt={params:Lne(j,M),delay:this.ast.options?.delay},St=C?[]:NN(t,e,this.ast.animation,o,c,F,te,bt,y,E);let rn=0;if(St.forEach(La=>{rn=Math.max(La.duration+La.delay,rn)}),E.length)return vz(e,this._triggerName,i,r,Ze,F,te,[],[],Ge,We,rn,E);St.forEach(La=>{const gh=La.element,oG=Oa(Ge,gh,new Set);La.preStyleProps.forEach(Zg=>oG.add(Zg));const AD=Oa(We,gh,new Set);La.postStyleProps.forEach(Zg=>AD.add(Zg)),gh!==e&&Re.add(gh)});const sr=gx(Re.values());return vz(e,this._triggerName,i,r,Ze,F,te,St,sr,Ge,We,rn)}}function Lne(n,t){const e=QC(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Vne{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=QC(this.defaultParams);return Object.keys(t).forEach(o=>{const c=t[o];null!==c&&(r[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,d)=>{c&&(c=mx(c,r,e));const p=this.normalizer.normalizePropertyName(d,e);c=this.normalizer.normalizeStyleValue(d,p,c,e),i.set(p,c)})}),i}}class Une{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Vne(r.style,r.options&&r.options.params||{},i))}),wz(this.states,"true","1"),wz(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new bz(t,r,this.states))}),this.fallbackTransition=function Hne(n,t,e){return new bz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function wz(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const jne=new Cx;class zne{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=RN(this._driver,e,i,[]);if(i.length)throw function zte(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=Xj(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let c;const d=new Map;if(o?(c=NN(this._driver,e,o,IN,dx,new Map,new Map,i,jne,r),c.forEach(C=>{const E=Oa(d,C.element,new Map);C.postStyleProps.forEach(M=>E.set(M,null))})):(r.push(function qte(){return new s.vHH(3300,!1)}()),c=[]),r.length)throw function Gte(n){return new s.vHH(3504,!1)}();d.forEach((C,E)=>{C.forEach((M,P)=>{C.set(P,this._driver.computeStyle(E,P,Ia))})});const y=ep(c.map(C=>{const E=d.get(C.element);return this._buildPlayer(C,new Map,E)}));return this._playersById.set(t,y),y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function $te(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=DN(e,"","","");return wN(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Cz="ng-animate-queued",BN="ng-animate-disabled",Yne=[],Dz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Nl="__ng_removed";class UN{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Xne(n){return n??null}(i?t.value:t),i){const o=QC(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const XC="void",HN=new UN(XC);class Kne{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function Zte(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function Yte(n){return new s.vHH(3303,!1)}();if(!function eie(n){return"start"==n||"done"==n}(i))throw function Wte(n,t){return new s.vHH(3400,!1)}();const o=Oa(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};o.push(c);const d=Oa(this._engine.statesByElement,t,new Map);return d.has(e)||(Fl(t,hx),Fl(t,hx+"-"+e),d.set(e,HN)),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(c);p>=0&&o.splice(p,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Kte(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),c=new jN(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(Fl(t,hx),Fl(t,hx+"-"+e),this._engine.statesByElement.set(t,d=new Map));let p=d.get(e);const y=new UN(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),d.set(e,y),p||(p=HN),y.value!==XC&&p.value===y.value){if(!function iie(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(p.params,y.params)){const j=[],te=o.matchStyles(p.value,p.params,j),Re=o.matchStyles(y.value,y.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{Pg(t,te),Bu(t,Re)})}return}const M=Oa(this._engine.playersByElement,t,[]);M.forEach(j=>{j.namespaceId==this.id&&j.triggerName==e&&j.queued&&j.destroy()});let P=o.matchTransition(p.value,y.value,t,y.params),F=!1;if(!P){if(!r)return;P=o.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:p,toState:y,player:c,isFallbackTransition:F}),F||(Fl(t,Cz),c.onStart(()=>{Vv(t,Cz)})),c.onDone(()=>{let j=this.players.indexOf(c);j>=0&&this.players.splice(j,1);const te=this._engine.playersByElement.get(t);if(te){let Re=te.indexOf(c);Re>=0&&te.splice(Re,1)}}),this.players.push(c),M.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,fx,!0);i.forEach(r=>{if(r[Nl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),c=new Map;if(o){const d=[];if(o.forEach((p,y)=>{if(c.set(y,p.value),this._triggers.has(y)){const C=this.trigger(t,y,XC,r);C&&d.push(C)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&ep(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,y=i.get(c)||HN,C=new UN(XC),E=new jN(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:y,toState:C,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Nl];(!o||o===Dz)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Fl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=DN(o,i.triggerName,i.fromState.value,i.toState.value);p._data=t,wN(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Qne{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Kne(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(e);for(;d;){const p=r.get(d);if(p){const y=i.indexOf(p);i.splice(y+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(Sx(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Sx(e))return;const o=e[Nl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fl(t,BN)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Vv(t,BN))}removeNode(t,e,i,r){if(Sx(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Nl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Sx(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,fx,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,xN,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ep(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Nl];if(e&&e.setForRemoval){if(t[Nl]=Dz,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(BN)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ep(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Qte(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new Cx,r=[],o=new Map,c=[],d=new Map,p=new Map,y=new Map,C=new Set;this.disabledNodes.forEach(_t=>{C.add(_t);const kt=this.driver.query(_t,".ng-animate-queued",!0);for(let Ft=0;Ft<kt.length;Ft++)C.add(kt[Ft])});const E=this.bodyNode,M=Array.from(this.statesByElement.keys()),P=Tz(M,this.collectedEnterElements),F=new Map;let j=0;P.forEach((_t,kt)=>{const Ft=IN+j++;F.set(kt,Ft),_t.forEach(Cn=>Fl(Cn,Ft))});const te=[],Re=new Set,Ge=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const kt=this.collectedLeaveElements[_t],Ft=kt[Nl];Ft&&Ft.setForRemoval&&(te.push(kt),Re.add(kt),Ft.hasAnimation?this.driver.query(kt,".ng-star-inserted",!0).forEach(Cn=>Re.add(Cn)):Ge.add(kt))}const We=new Map,Ze=Tz(M,Array.from(Re));Ze.forEach((_t,kt)=>{const Ft=dx+j++;We.set(kt,Ft),_t.forEach(Cn=>Fl(Cn,Ft))}),t.push(()=>{P.forEach((_t,kt)=>{const Ft=F.get(kt);_t.forEach(Cn=>Vv(Cn,Ft))}),Ze.forEach((_t,kt)=>{const Ft=We.get(kt);_t.forEach(Cn=>Vv(Cn,Ft))}),te.forEach(_t=>{this.processLeaveNode(_t)})});const bt=[],St=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(e).forEach(Ft=>{const Cn=Ft.player,es=Ft.element;if(bt.push(Cn),this.collectedEnterElements.length){const Ns=es[Nl];if(Ns&&Ns.setForMove){if(Ns.previousTriggersValues&&Ns.previousTriggersValues.has(Ft.triggerName)){const Yg=Ns.previousTriggersValues.get(Ft.triggerName),Hl=this.statesByElement.get(Ft.element);if(Hl&&Hl.has(Ft.triggerName)){const uA=Hl.get(Ft.triggerName);uA.value=Yg,Hl.set(Ft.triggerName,uA)}}return void Cn.destroy()}}const qu=!E||!this.driver.containsElement(E,es),Va=We.get(es),fp=F.get(es),Fi=this._buildInstruction(Ft,i,fp,Va,qu);if(Fi.errors&&Fi.errors.length)return void St.push(Fi);if(qu)return Cn.onStart(()=>Pg(es,Fi.fromStyles)),Cn.onDestroy(()=>Bu(es,Fi.toStyles)),void r.push(Cn);if(Ft.isFallbackTransition)return Cn.onStart(()=>Pg(es,Fi.fromStyles)),Cn.onDestroy(()=>Bu(es,Fi.toStyles)),void r.push(Cn);const cG=[];Fi.timelines.forEach(Ns=>{Ns.stretchStartingKeyframe=!0,this.disabledNodes.has(Ns.element)||cG.push(Ns)}),Fi.timelines=cG,i.append(es,Fi.timelines),c.push({instruction:Fi,player:Cn,element:es}),Fi.queriedElements.forEach(Ns=>Oa(d,Ns,[]).push(Cn)),Fi.preStyleProps.forEach((Ns,Yg)=>{if(Ns.size){let Hl=p.get(Yg);Hl||p.set(Yg,Hl=new Set),Ns.forEach((uA,nL)=>Hl.add(nL))}}),Fi.postStyleProps.forEach((Ns,Yg)=>{let Hl=y.get(Yg);Hl||y.set(Yg,Hl=new Set),Ns.forEach((uA,nL)=>Hl.add(nL))})});if(St.length){const _t=[];St.forEach(kt=>{_t.push(function Jte(n,t){return new s.vHH(3505,!1)}())}),bt.forEach(kt=>kt.destroy()),this.reportError(_t)}const rn=new Map,sr=new Map;c.forEach(_t=>{const kt=_t.element;i.has(kt)&&(sr.set(kt,kt),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,rn))}),r.forEach(_t=>{const kt=_t.element;this._getPreviousPlayers(kt,!1,_t.namespaceId,_t.triggerName,null).forEach(Cn=>{Oa(rn,kt,[]).push(Cn),Cn.destroy()})});const La=te.filter(_t=>xz(_t,p,y)),gh=new Map;Sz(gh,this.driver,Ge,y,Ia).forEach(_t=>{xz(_t,p,y)&&La.push(_t)});const AD=new Map;P.forEach((_t,kt)=>{Sz(AD,this.driver,new Set(_t),p,"!")}),La.forEach(_t=>{const kt=gh.get(_t),Ft=AD.get(_t);gh.set(_t,new Map([...Array.from(kt?.entries()??[]),...Array.from(Ft?.entries()??[])]))});const Zg=[],aG=[],lG={};c.forEach(_t=>{const{element:kt,player:Ft,instruction:Cn}=_t;if(i.has(kt)){if(C.has(kt))return Ft.onDestroy(()=>Bu(kt,Cn.toStyles)),Ft.disabled=!0,Ft.overrideTotalTime(Cn.totalTime),void r.push(Ft);let es=lG;if(sr.size>1){let Va=kt;const fp=[];for(;Va=Va.parentNode;){const Fi=sr.get(Va);if(Fi){es=Fi;break}fp.push(Va)}fp.forEach(Fi=>sr.set(Fi,es))}const qu=this._buildAnimation(Ft.namespaceId,Cn,rn,o,AD,gh);if(Ft.setRealPlayer(qu),es===lG)Zg.push(Ft);else{const Va=this.playersByElement.get(es);Va&&Va.length&&(Ft.parentPlayer=ep(Va)),r.push(Ft)}}else Pg(kt,Cn.fromStyles),Ft.onDestroy(()=>Bu(kt,Cn.toStyles)),aG.push(Ft),C.has(kt)&&r.push(Ft)}),aG.forEach(_t=>{const kt=o.get(_t.element);if(kt&&kt.length){const Ft=ep(kt);_t.setRealPlayer(Ft)}}),r.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<te.length;_t++){const kt=te[_t],Ft=kt[Nl];if(Vv(kt,dx),Ft&&Ft.hasAnimation)continue;let Cn=[];if(d.size){let qu=d.get(kt);qu&&qu.length&&Cn.push(...qu);let Va=this.driver.query(kt,xN,!0);for(let fp=0;fp<Va.length;fp++){let Fi=d.get(Va[fp]);Fi&&Fi.length&&Cn.push(...Fi)}}const es=Cn.filter(qu=>!qu.destroyed);es.length?tie(this,kt,es):this.processLeaveNode(kt)}return te.length=0,Zg.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const kt=this.players.indexOf(_t);this.players.splice(kt,1)}),_t.play()}),Zg}elementContainsData(t,e){let i=!1;const r=e[Nl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const p=!o||o==XC;d.forEach(y=>{y.queued||!p&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const o=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const y=p.element,C=y!==o,E=Oa(i,y,[]);this._getPreviousPlayers(y,C,c,d,e.toState).forEach(P=>{const F=P.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),P.destroy(),E.push(P)})}Pg(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,c){const d=e.triggerName,p=e.element,y=[],C=new Set,E=new Set,M=e.timelines.map(F=>{const j=F.element;C.add(j);const te=j[Nl];if(te&&te.removedBeforeQueried)return new zy(F.duration,F.delay);const Re=j!==p,Ge=function nie(n){const t=[];return Iz(n,t),t}((i.get(j)||Yne).map(rn=>rn.getRealPlayer())).filter(rn=>!!rn.element&&rn.element===j),We=o.get(j),Ze=c.get(j),bt=Xj(0,this._normalizer,0,F.keyframes,We,Ze),St=this._buildPlayer(F,bt,Ge);if(F.subTimeline&&r&&E.add(j),Re){const rn=new jN(t,d,j);rn.setRealPlayer(St),y.push(rn)}return St});y.forEach(F=>{Oa(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>function Jne(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,F.element,F))}),C.forEach(F=>Fl(F,lz));const P=ep(M);return P.onDestroy(()=>{C.forEach(F=>Vv(F,lz)),Bu(p,e.toStyles)}),E.forEach(F=>{Oa(r,F,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new zy(t.duration,t.delay)}}class jN{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new zy,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>wN(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Oa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Sx(n){return n&&1===n.nodeType}function Ez(n,t){const e=n.style.display;return n.style.display=t??"none",e}function Sz(n,t,e,i,r){const o=[];e.forEach(p=>o.push(Ez(p)));const c=[];i.forEach((p,y)=>{const C=new Map;p.forEach(E=>{const M=t.computeStyle(y,E,r);C.set(E,M),(!M||0==M.length)&&(y[Nl]=Wne,c.push(y))}),n.set(y,C)});let d=0;return e.forEach(p=>Ez(p,o[d++])),c}function Tz(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),o=new Map;function c(d){if(!d)return 1;let p=o.get(d);if(p)return p;const y=d.parentNode;return p=e.has(y)?y:r.has(y)?1:c(y),o.set(d,p),p}return t.forEach(d=>{const p=c(d);1!==p&&e.get(p).push(d)}),e}function Fl(n,t){n.classList?.add(t)}function Vv(n,t){n.classList?.remove(t)}function tie(n,t,e){ep(e).onDone(()=>n.processLeaveNode(t))}function Iz(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof aT?Iz(i.players,t):t.push(i)}}function xz(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Tx{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Qne(t,e,i),this._timelineEngine=new zne(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],C=RN(this._driver,o,p,[]);if(p.length)throw function Hte(n,t){return new s.vHH(3404,!1)}();d=function Bne(n,t,e){return new Une(n,t,e)}(r,C,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,c]=ez(i);this._timelineEngine.command(o,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[c,d]=ez(i);return this._timelineEngine.listen(c,e,d,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let sie=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Bu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bu(this._element,this._initialStyles),this._endStyles&&(Bu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pg(this._element,this._endStyles),this._endStyles=null),Bu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function zN(n){let t=null;return n.forEach((e,i)=>{(function oie(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class Az{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:pz(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class aie{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return rz(t,e)}getParentElement(t){return SN(t)}query(t,e,i){return sz(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const y=new Map,C=c.filter(P=>P instanceof Az);(function dne(n,t){return 0===n||0===t})(i,r)&&C.forEach(P=>{P.currentSnapshot.forEach((F,j)=>y.set(j,F))});let E=function ane(n){return n.length?n[0]instanceof Map?n:n.map(t=>cz(t)):[]}(e).map(P=>np(P));E=function hne(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,c)=>{i.has(c)||r.push(c),i.set(c,o)}),r.length)for(let o=1;o<t.length;o++){let c=t[o];r.forEach(d=>c.set(d,pz(n,d)))}}return t}(t,E,y);const M=function rie(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=zN(t[0]),t.length>1&&(i=zN(t[t.length-1]))):t instanceof Map&&(e=zN(t)),e||i?new sie(n,e,i):null}(t,E);return new Az(t,E,p,M)}}let lie=(()=>{class n extends iT{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?ww(e):e;return Mz(this._renderer,null,i,"register",[r]),new cie(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class cie extends class D1{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new uie(this._id,t,e||{},this._renderer)}}class uie{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Mz(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Mz(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const kz="@.disabled";let die=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const d=c?.parentNode(o);d&&c.removeChild(d,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(o);return C||(C=new Rz("",o,this.engine),this._rendererCache.set(o,C)),C}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=C=>{Array.isArray(C)?C.forEach(p):this.engine.registerTrigger(c,d,e,C.name,C)};return i.data.animation.forEach(p),new hie(this,d,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,d]=o;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(Tx),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Rz{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==kz?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class hie extends Rz{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==kz?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function fie(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function pie(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let mie=(()=>{class n extends Tx{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(TN),s.LFG(LN),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Oz=[{provide:iT,useClass:lie},{provide:LN,useFactory:function gie(){return new Nne}},{provide:Tx,useClass:mie},{provide:s.FYo,useFactory:function _ie(n,t,e){return new die(n,t,e)},deps:[Gs,Tx,s.R0b]}],qN=[{provide:TN,useFactory:()=>new aie},{provide:s.QbO,useValue:"BrowserAnimations"},...Oz],Pz=[{provide:TN,useClass:oz},{provide:s.QbO,useValue:"NoopAnimations"},...Oz];let yie=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Pz:qN}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:qN,imports:[Nn]}),n})();const Nz_firebase={projectId:"capstone-bf6df",appId:"1:138166591484:web:a8d5bd489cee4002525c79",storageBucket:"capstone-bf6df.appspot.com",locationId:"europe-west",apiKey:"AIzaSyDc7bg_np1rSxEqK0J-RMjy8L35nTlZP_w",authDomain:"capstone-bf6df.firebaseapp.com",messagingSenderId:"138166591484",measurementId:"G-3YXPCL7FHR"},Fz="@firebase/database";let GN="";function Vz(n){GN=n}class wie{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Cie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Bz=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new wie(t)}}catch{}return new Cie},Fg=Bz("localStorage"),$N=Bz("sessionStorage"),Bv=new Ol.Yd("@firebase/database"),Uz=function(){let n=1;return function(){return n++}}(),Hz=function(n){const t=(0,N.dS)(n),e=new N.gQ;e.update(t);const i=e.digest();return N.US.encodeByteArray(i)},eD=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=eD.apply(null,i):t+="object"==typeof i?(0,N.Pz)(i):i,t+=" "}return t};let Lg=null,jz=!0;const zz=function(n,t){(0,N.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Bv.logLevel=Ol.in.VERBOSE,Lg=Bv.log.bind(Bv),t&&$N.set("logging_enabled",!0)):"function"==typeof n?Lg=n:(Lg=null,$N.remove("logging_enabled"))},Jr=function(...n){if(!0===jz&&(jz=!1,null===Lg&&!0===$N.get("logging_enabled")&&zz(!0)),Lg){const t=eD.apply(null,n);Lg(t)}},tD=function(n){return function(...t){Jr(n,...t)}},ZN=function(...n){const t="FIREBASE INTERNAL ERROR: "+eD(...n);Bv.error(t)},Uu=function(...n){const t=`FIREBASE FATAL ERROR: ${eD(...n)}`;throw Bv.error(t),new Error(t)},Ps=function(...n){const t="FIREBASE WARNING: "+eD(...n);Bv.warn(t)},xx=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ph="[MIN_NAME]",Hu="[MAX_NAME]",Vg=function(n,t){if(n===t)return 0;if(n===ph||t===Hu)return-1;if(t===ph||n===Hu)return 1;{const e=Ax(n),i=Ax(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Sie=function(n,t){return n===t?0:n<t?-1:1},nD=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Pz)(t))},YN=function(n){if("object"!=typeof n||null===n)return(0,N.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,N.Pz)(t[i]),e+=":",e+=YN(n[t[i]]);return e+="}",e},qz=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Xr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Gz=function(n){(0,N.hu)(!xx(n),"Invalid JSON number");const i=1023;let r,o,c,d,p;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)y.push(o%2?1:0),o=Math.floor(o/2);y.push(r?1:0),y.reverse();const C=y.join("");let E="";for(p=0;p<64;p+=8){let M=parseInt(C.substr(p,8),2).toString(16);1===M.length&&(M="0"+M),E+=M}return E.toLowerCase()},Aie=new RegExp("^-?(0*)\\d{1,10}$"),$z=-2147483648,WN=2147483647,Ax=function(n){if(Aie.test(n)){const t=Number(n);if(t>=$z&&t<=WN)return t}return null},Uv=function(n){try{n()}catch(t){setTimeout(()=>{throw Ps("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},iD=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class kie{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ps(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Rie{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Jr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ps(t)}}let rD=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Qz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eq="websocket",tq="long_polling";class QN{constructor(t,e,i,r,o=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fg.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Fg.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function nq(n,t,e){let i;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===eq)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==tq)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Oie(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Xr(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class Pie{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const JN={},XN={};function eF(n){const t=n.toString();return JN[t]||(JN[t]=new Pie),JN[t]}class Fie{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Uv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ip{constructor(t,e,i,r,o,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tD(t),this.stats_=eF(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),nq(e,tq,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Fie(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tF((...o)=>{const[c,d,p,y,C]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,d]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Qz.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ip.forceAllow_=!0}static forceDisallow(){ip.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!ip.forceAllow_&&(ip.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,N.h$)(e),r=qz(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class tF{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Uz(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=tF.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Jr("frame writing exception"),d.stack&&Jr(d.stack),Jr(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Jr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Jr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let kx=null;typeof MozWebSocket<"u"?kx=MozWebSocket:typeof WebSocket<"u"&&(kx=WebSocket);let Hv=(()=>{class n{constructor(e,i,r,o,c,d,p){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tD(this.connId),this.stats_=eF(i),this.connURL=n.connectionURL_(i,d,p,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,c){const d={v:"5"};return!(0,N.Yr)()&&typeof location<"u"&&location.hostname&&Qz.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),o&&(d.ac=o),c&&(d.p=c),nq(e,eq,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fg.set("previous_websocket_failure",!0);try{let r;if((0,N.Yr)()){r={headers:{"User-Agent":`Firebase/5/${GN}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new kx(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==kx&&!n.forceDisallow_}static previouslyFailed(){return Fg.isInMemoryStorage||!0===Fg.get("previous_websocket_failure")}markConnectionHealthy(){Fg.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,N.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,N.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=qz(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),cq=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ip,Hv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Hv&&Hv.isAvailable();let r=i&&!Hv.previouslyFailed();if(e.webSocketOnly&&(i||Ps("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Hv];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class gq{constructor(t,e,i,r,o,c,d,p,y,C){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tD("c:"+this.id+":"),this.transportManager_=new cq(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=iD(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=nD("t",t),i=nD("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=nD("t",t),i=nD("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=nD("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?ZN("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ZN("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ps("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),iD(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):iD(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class _q{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class yq{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Rx extends yq{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Rx}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Mn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Sn(){return new Mn("")}function tn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function rp(n){return n.pieces_.length-n.pieceNum_}function Zn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Mn(n.pieces_,t)}function iF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function sD(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function wq(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Mn(t,0)}function Ci(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Mn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Mn(e,0)}function nn(n){return n.pieceNum_>=n.pieces_.length}function uo(n,t){const e=tn(n),i=tn(t);if(null===e)return t;if(e===i)return uo(Zn(n),Zn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function rre(n,t){const e=sD(n,0),i=sD(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Vg(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function rF(n,t){if(rp(n)!==rp(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ll(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(rp(n)>rp(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class sre{constructor(t,e){this.errorPrefix_=e,this.parts_=sD(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);Cq(this)}}function Cq(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Bg(n))}function Bg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class sF extends yq{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new sF}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const oD=1e3;let Px,Ug=(()=>{class n extends _q{constructor(e,i,r,o,c,d,p,y){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=tD("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=oD,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sF.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Rx.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_((0,N.Pz)(c)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new N.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const y=p.d,C=p.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",p),"ok"!==C&&this.removeListen_(r,o),e.onComplete&&e.onComplete(C,y))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const r=(0,N.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Ps(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,N.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,d=o.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):ZN("Unrecognized action received from server: "+(0,N.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=oD,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=oD,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=oD),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,be.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,y=null;const C=function(){y?y.close():(p=!0,o())};e.realtime_={close:C,sendRequest:function(P){(0,N.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(P)}};const M=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[P,F]=yield Promise.all([e.authTokenProvider_.getToken(M),e.appCheckTokenProvider_.getToken(M)]);p?Jr("getToken() completed but was canceled"):(Jr("getToken() completed. Creating connection."),e.authToken_=P&&P.accessToken,e.appCheckToken_=F&&F.token,y=new gq(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,j=>{Ps(j+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(P){e.log_("Failed to get token: "+P),p||(e.repoInfo_.nodeAdmin&&Ps(P),C())}}})()}interrupt(e){Jr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Jr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=oD,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>YN(c)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Mn(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Jr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Jr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+GN.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rx.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class on{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new on(t,e)}}class Ox{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new on(ph,t),r=new on(ph,e);return 0!==this.compare(i,r)}minPost(){return on.MIN}}class Sq extends Ox{static get __EMPTY_NODE(){return Px}static set __EMPTY_NODE(t){Px=t}compare(t,e){return Vg(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return on.MIN}maxPost(){return new on(Hu,Px)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new on(t,Px)}toString(){return".key"}}const ju=new Sq;class Nx{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let aF,Nc=(()=>{class n{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??Ko.EMPTY_NODE,this.right=c??Ko.EMPTY_NODE}copy(e,i,r,o,c){return new n(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ko.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Ko.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ko{constructor(t,e=Ko.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ko(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Nc.BLACK,null,null))}remove(t){return new Ko(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Nc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Nx(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Nx(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Nx(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Nx(this.root_,null,this.comparator_,!0,t)}}function fre(n,t){return Vg(n.name,t.name)}function oF(n,t){return Vg(n,t)}Ko.EMPTY_NODE=new class hre{copy(t,e,i,r,o){return this}insert(t,e,i){return new Nc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Tq=function(n){return"number"==typeof n?"number:"+Gz(n):"string:"+n},Iq=function(n){if(n.isLeafNode()){const t=n.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===aF||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===aF||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let xq,Aq,Mq,jv=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Iq(this.priorityNode_)}static set __childrenNodeConstructor(e){xq=e}static get __childrenNodeConstructor(){return xq}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return nn(e)?this:".priority"===tn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=tn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,N.hu)(".priority"!==r||1===rp(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Zn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Tq(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Gz(this.value_):this.value_,this.lazyHash_=Hz(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,N.hu)(o>=0,"Unknown leaf type: "+i),(0,N.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ii=new class _re extends Ox{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?Vg(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return on.MIN}maxPost(){return new on(Hu,new jv("[PRIORITY-POST]",Mq))}makePost(t,e){const i=Aq(t);return new on(e,new jv("[PRIORITY-POST]",i))}toString(){return".priority"}},yre=Math.log(2);class vre{constructor(t){this.count=parseInt(Math.log(t+1)/yre,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Fx=function(n,t,e,i){n.sort(t);const r=function(p,y){const C=y-p;let E,M;if(0===C)return null;if(1===C)return E=n[p],M=e?e(E):E,new Nc(M,E.node,Nc.BLACK,null,null);{const P=parseInt(C/2,10)+p,F=r(p,P),j=r(P+1,y);return E=n[P],M=e?e(E):E,new Nc(M,E.node,Nc.BLACK,F,j)}},d=function(p){let y=null,C=null,E=n.length;const M=function(F,j){const te=E-F,Re=E;E-=F;const Ge=r(te+1,Re),We=n[te],Ze=e?e(We):We;P(new Nc(Ze,We.node,j,null,Ge))},P=function(F){y?(y.left=F,y=F):(C=F,y=F)};for(let F=0;F<p.count;++F){const j=p.nextBitIsOne(),te=Math.pow(2,p.count-(F+1));j?M(te,Nc.BLACK):(M(te,Nc.BLACK),M(te,Nc.RED))}return C}(new vre(n.length));return new Ko(i||t,d)};let lF;const zv={};class mh{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(zv&&ii,"ChildrenNode.ts has not been loaded"),lF=lF||new mh({".priority":zv},{".priority":ii}),lF}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ko?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==ju,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(on.Wrap);let d,c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();d=r?Fx(i,t.getCompare()):zv;const p=t.toString(),y=Object.assign({},this.indexSet_);y[p]=t;const C=Object.assign({},this.indexes_);return C[p]=d,new mh(C,y)}addToIndexes(t,e){const i=(0,N.UI)(this.indexes_,(r,o)=>{const c=(0,N.DV)(this.indexSet_,o);if((0,N.hu)(c,"Missing index implementation for "+o),r===zv){if(c.isDefinedOn(t.node)){const d=[],p=e.getIterator(on.Wrap);let y=p.getNext();for(;y;)y.name!==t.name&&d.push(y),y=p.getNext();return d.push(t),Fx(d,c.getCompare())}return zv}{const d=e.get(t.name);let p=r;return d&&(p=p.remove(new on(t.name,d))),p.insert(t,t.node)}});return new mh(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,N.UI)(this.indexes_,r=>{if(r===zv)return r;{const o=e.get(t.name);return o?r.remove(new on(t.name,o)):r}});return new mh(i,this.indexSet_)}}let aD,Yt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Iq(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return aD||(aD=new n(new Ko(oF),null,mh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||aD}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?aD:i}}getChild(e){const i=tn(e);return null===i?this:this.getImmediateChild(i).getChild(Zn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new on(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=o.isEmpty()?aD:this.priorityNode_;return new n(o,d,c)}}updateChild(e,i){const r=tn(e);if(null===r)return i;{(0,N.hu)(".priority"!==tn(e)||1===rp(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Zn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(ii,(d,p)=>{i[d]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!e&&c&&o<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Tq(this.getPriority().val())+":"),this.forEachChild(ii,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":Hz(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new on(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new on(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new on(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,on.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,on.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lD?-1:0}withIndex(e){if(e===ju||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ju||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ii),o=i.getIterator(ii);let c=r.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=o.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===ju?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const lD=new class bre extends Yt{constructor(){super(new Ko(oF),Yt.EMPTY_NODE,mh.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Yt.EMPTY_NODE}isEmpty(){return!1}};function Ni(n,t=null){if(null===n)return Yt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new jv(n,Ni(t));if(n instanceof Array){let e=Yt.EMPTY_NODE;return Xr(n,(i,r)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const o=Ni(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Ni(t))}{const e=[];let i=!1;if(Xr(n,(c,d)=>{if("."!==c.substring(0,1)){const p=Ni(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new on(c,p)))}}),0===e.length)return Yt.EMPTY_NODE;const o=Fx(e,fre,c=>c.name,oF);if(i){const c=Fx(e,ii.getCompare());return new Yt(o,Ni(t),new mh({".priority":c},{".priority":ii}))}return new Yt(o,Ni(t),mh.Default)}}Object.defineProperties(on,{MIN:{value:new on(ph,Yt.EMPTY_NODE)},MAX:{value:new on(Hu,lD)}}),Sq.__EMPTY_NODE=Yt.EMPTY_NODE,jv.__childrenNodeConstructor=Yt,function pre(n){aF=n}(lD),function gre(n){Mq=n}(lD),function mre(n){Aq=n}(Ni);class cF extends Ox{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!nn(t)&&".priority"!==tn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?Vg(t.name,e.name):o}makePost(t,e){const i=Ni(t),r=Yt.EMPTY_NODE.updateChild(this.indexPath_,i);return new on(e,r)}maxPost(){const t=Yt.EMPTY_NODE.updateChild(this.indexPath_,lD);return new on(Hu,t)}toString(){return sD(this.indexPath_,0).join("/")}}const uF=new class Cre extends Ox{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Vg(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return on.MIN}maxPost(){return on.MAX}makePost(t,e){const i=Ni(t);return new on(e,i)}toString(){return".value"}},qv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Dre=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=qv.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=qv.charAt(t[r]);return(0,N.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),Oq=function(n){if(n===""+WN)return"-";const t=Ax(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Hu;const o=qv.charAt(qv.indexOf(e[i])+1);return e[i]=o,e.slice(0,i+1).join("")},Pq=function(n){if(n===""+$z)return ph;const t=Ax(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+WN:(delete e[e.length-1],e.join("")):(e[e.length-1]=qv.charAt(qv.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Nq(n){return{type:"value",snapshotNode:n}}function Gv(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function cD(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function uD(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class hF{constructor(t){this.index_=t}updateChild(t,e,i,r,o,c){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(cD(e,d)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Gv(e,i)):c.trackChildChange(uD(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(ii,(r,o)=>{e.hasChild(r)||i.trackChildChange(cD(r,o))}),e.isLeafNode()||e.forEachChild(ii,(r,o)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(o)||i.trackChildChange(uD(r,o,c))}else i.trackChildChange(Gv(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Yt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class dD{constructor(t){this.indexedFilter_=new hF(t.getIndex()),this.index_=t.getIndex(),this.startPost_=dD.getStartPost_(t),this.endPost_=dD.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,o,c){return this.matches(new on(e,i))||(i=Yt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Yt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Yt.EMPTY_NODE);const o=this;return e.forEachChild(ii,(c,d)=>{o.matches(new on(c,d))||(r=r.updateImmediateChild(c,Yt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Sre{constructor(t){this.rangedFilter_=new dD(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,o,c){return this.rangedFilter_.matches(new on(e,i))||(i=Yt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Yt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=Yt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const d=o.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let o,c,d,p;if(r=e.withIndex(this.index_),r=r.updatePriority(Yt.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const E=this.index_.getCompare();d=(M,P)=>E(P,M)}else p=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let y=0,C=!1;for(;p.hasNext();){const E=p.getNext();!C&&d(o,E)<=0&&(C=!0),C&&y<this.limit_&&d(E,c)<=0?y++:r=r.updateImmediateChild(E.name,Yt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let c;if(this.reverse_){const E=this.index_.getCompare();c=(M,P)=>E(P,M)}else c=this.index_.getCompare();const d=t;(0,N.hu)(d.numChildren()===this.limit_,"");const p=new on(e,i),y=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),C=this.rangedFilter_.matches(p);if(d.hasChild(e)){const E=d.getImmediateChild(e);let M=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=M&&(M.name===e||d.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const P=null==M?1:c(M,p);if(C&&!i.isEmpty()&&P>=0)return o?.trackChildChange(uD(e,i,E)),d.updateImmediateChild(e,i);{o?.trackChildChange(cD(e,E));const j=d.updateImmediateChild(e,Yt.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(o?.trackChildChange(Gv(M.name,M.node)),j.updateImmediateChild(M.name,M.node)):j}}return i.isEmpty()?t:C&&c(y,p)>=0?(null!=o&&(o.trackChildChange(cD(y.name,y.node)),o.trackChildChange(Gv(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(y.name,Yt.EMPTY_NODE)):t}}class Lx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ii}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ph}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ii}copy(){const t=new Lx;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function fF(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function pF(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Vx(n,t){const e=n.copy();return e.index_=t,e}function Fq(n){const t={};if(n.isDefault())return t;let e;return n.index_===ii?e="$priority":n.index_===uF?e="$value":n.index_===ju?e="$key":((0,N.hu)(n.index_ instanceof cF,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,N.Pz)(e),n.startSet_&&(t.startAt=(0,N.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,N.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,N.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,N.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Lq(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ii&&(t.i=n.index_.toString()),t}class Bx extends _q{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=tD("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=Bx.getListenId_(t,i),d={};this.listens_[c]=d;const p=Fq(t._queryParams);this.restRequest_(o+".json",p,(y,C)=>{let E=C;if(404===y&&(E=null,y=null),null===y&&this.onDataUpdate_(o,E,!1,i),(0,N.DV)(this.listens_,c)===d){let M;M=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(M,null)}})}unlisten(t,e){const i=Bx.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Fq(t._queryParams),i=t._path.toString(),r=new N.BH;return this.restRequest_(i+".json",e,(o,c)=>{let d=c;404===o&&(d=null,o=null),null===o?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,N.cI)(d.responseText)}catch{Ps("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&Ps("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class kre{constructor(){this.rootNode_=Yt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Ux(){return{value:null,children:new Map}}function $v(n,t,e){if(nn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=tn(t);n.children.has(i)||n.children.set(i,Ux()),$v(n.children.get(i),t=Zn(t),e)}}function mF(n,t){if(nn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ii,(i,r)=>{$v(n,new Mn(i),r)}),mF(n,t)}}if(n.children.size>0){const e=tn(t);return t=Zn(t),n.children.has(e)&&mF(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function gF(n,t,e){null!==n.value?e(t,n.value):function Rre(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{gF(r,new Mn(t.toString()+"/"+i),e)})}class Ore{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Xr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Fre{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ore(t);const i=1e4+2e4*Math.random();iD(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Xr(t,(r,o)=>{o>0&&(0,N.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),iD(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Vl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Vl||(Vl={})),Vl))();function vF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Hx{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Vl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(nn(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Mn(t));return new Hx(Sn(),e,this.revert)}}return(0,N.hu)(tn(this.path)===t,"operationForChild called for unrelated child."),new Hx(Zn(this.path),this.affectedTree,this.revert)}}class hD{constructor(t,e){this.source=t,this.path=e,this.type=Vl.LISTEN_COMPLETE}operationForChild(t){return nn(this.path)?new hD(this.source,Sn()):new hD(this.source,Zn(this.path))}}class Hg{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Vl.OVERWRITE}operationForChild(t){return nn(this.path)?new Hg(this.source,Sn(),this.snap.getImmediateChild(t)):new Hg(this.source,Zn(this.path),this.snap)}}class Zv{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Vl.MERGE}operationForChild(t){if(nn(this.path)){const e=this.children.subtree(new Mn(t));return e.isEmpty()?null:e.value?new Hg(this.source,Sn(),e.value):new Zv(this.source,Sn(),e)}return(0,N.hu)(tn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Zv(this.source,Zn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class sp{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(nn(t))return this.isFullyInitialized()&&!this.filtered_;const e=tn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Lre{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function fD(n,t,e,i,r,o){const c=i.filter(d=>d.type===e);c.sort((d,p)=>function Ure(n,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new on(t.childName,t.snapshotNode),r=new on(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function Bre(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,o);r.forEach(y=>{y.respondsTo(d.type)&&t.push(y.createEvent(p,n.query_))})})}function jx(n,t){return{eventCache:n,serverCache:t}}function pD(n,t,e,i){return jx(new sp(t,e,i),n.serverCache)}function Bq(n,t,e,i){return jx(n.eventCache,new sp(t,e,i))}function zx(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function jg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let bF;class ri{constructor(t,e=(()=>(bF||(bF=new Ko(Sie)),bF))()){this.value=t,this.children=e}static fromObject(t){let e=new ri(null);return Xr(t,(i,r)=>{e=e.set(new Mn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Sn(),value:this.value};if(nn(t))return null;{const i=tn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Zn(t),e);return null!=o?{path:Ci(new Mn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(nn(t))return this;{const e=tn(t),i=this.children.get(e);return null!==i?i.subtree(Zn(t)):new ri(null)}}set(t,e){if(nn(t))return new ri(e,this.children);{const i=tn(t),o=(this.children.get(i)||new ri(null)).set(Zn(t),e),c=this.children.insert(i,o);return new ri(this.value,c)}}remove(t){if(nn(t))return this.children.isEmpty()?new ri(null):new ri(null,this.children);{const e=tn(t),i=this.children.get(e);if(i){const r=i.remove(Zn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new ri(null):new ri(this.value,o)}return this}}get(t){if(nn(t))return this.value;{const e=tn(t),i=this.children.get(e);return i?i.get(Zn(t)):null}}setTree(t,e){if(nn(t))return e;{const i=tn(t),o=(this.children.get(i)||new ri(null)).setTree(Zn(t),e);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new ri(this.value,c)}}fold(t){return this.fold_(Sn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ci(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Sn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(nn(t))return null;{const o=tn(t),c=this.children.get(o);return c?c.findOnPath_(Zn(t),Ci(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Sn(),e)}foreachOnPath_(t,e,i){if(nn(t))return this;{this.value&&i(e,this.value);const r=tn(t),o=this.children.get(r);return o?o.foreachOnPath_(Zn(t),Ci(e,r),i):new ri(null)}}foreach(t){this.foreach_(Sn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ci(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Fc{constructor(t){this.writeTree_=t}static empty(){return new Fc(new ri(null))}}function mD(n,t,e){if(nn(t))return new Fc(new ri(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const c=uo(r,t);return o=o.updateChild(c,e),new Fc(n.writeTree_.set(r,o))}{const r=new ri(e),o=n.writeTree_.setTree(t,r);return new Fc(o)}}}function wF(n,t,e){let i=n;return Xr(e,(r,o)=>{i=mD(i,Ci(t,r),o)}),i}function Uq(n,t){if(nn(t))return Fc.empty();{const e=n.writeTree_.setTree(t,new ri(null));return new Fc(e)}}function CF(n,t){return null!=zg(n,t)}function zg(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(uo(e.path,t)):null}function Hq(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ii,(i,r)=>{t.push(new on(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new on(i,r.value))}),t}function op(n,t){if(nn(t))return n;{const e=zg(n,t);return new Fc(null!=e?new ri(e):n.writeTree_.subtree(t))}}function DF(n){return n.writeTree_.isEmpty()}function Yv(n,t){return jq(Sn(),n.writeTree_,t)}function jq(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,N.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=jq(Ci(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ci(n,".priority"),i)),e}}function qx(n,t){return Zq(t,n)}function $re(n,t){if(n.snap)return Ll(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ll(Ci(n.path,e),t))return!0;return!1}function Yre(n){return n.visible}function zq(n,t,e){let i=Fc.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let d;if(o.snap)Ll(e,c)?(d=uo(e,c),i=mD(i,d,o.snap)):Ll(c,e)&&(d=uo(c,e),i=mD(i,Sn(),o.snap.getChild(d)));else{if(!o.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(Ll(e,c))d=uo(e,c),i=wF(i,d,o.children);else if(Ll(c,e))if(d=uo(c,e),nn(d))i=wF(i,Sn(),o.children);else{const p=(0,N.DV)(o.children,tn(d));if(p){const y=p.getChild(Zn(d));i=mD(i,Sn(),y)}}}}}return i}function qq(n,t,e,i,r){if(i||r){const o=op(n.visibleWrites,t);return!r&&DF(o)?e:r||null!=e||CF(o,Sn())?Yv(zq(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(Ll(y.path,t)||Ll(t,y.path))},t),e||Yt.EMPTY_NODE):null}{const o=zg(n.visibleWrites,t);if(null!=o)return o;{const c=op(n.visibleWrites,t);return DF(c)?e:null!=e||CF(c,Sn())?Yv(c,e||Yt.EMPTY_NODE):null}}}function Gx(n,t,e,i){return qq(n.writeTree,n.treePath,t,e,i)}function EF(n,t){return function Wre(n,t,e){let i=Yt.EMPTY_NODE;const r=zg(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ii,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=op(n.visibleWrites,t);return e.forEachChild(ii,(c,d)=>{const p=Yv(op(o,new Mn(c)),d);i=i.updateImmediateChild(c,p)}),Hq(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return Hq(op(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function Gq(n,t,e,i){return function Kre(n,t,e,i,r){(0,N.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ci(t,e);if(CF(n.visibleWrites,o))return null;{const c=op(n.visibleWrites,o);return DF(c)?r.getChild(e):Yv(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function $x(n,t){return function Jre(n,t){return zg(n.visibleWrites,t)}(n.writeTree,Ci(n.treePath,t))}function SF(n,t,e){return function Qre(n,t,e,i){const r=Ci(t,e),o=zg(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Yv(op(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function $q(n,t){return Zq(Ci(n.treePath,t),n.writeTree)}function Zq(n,t){return{treePath:n,writeTree:t}}class nse{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,uD(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,cD(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Gv(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,uD(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Yq=new class ise{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class TF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new sp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return SF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:jg(this.viewCache_),o=function tse(n,t,e,i,r,o){return function Xre(n,t,e,i,r,o,c){let d;const p=op(n.visibleWrites,t),y=zg(p,Sn());if(null!=y)d=y;else{if(null==e)return[];d=Yv(p,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const C=[],E=c.getCompare(),M=o?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let P=M.getNext();for(;P&&C.length<r;)0!==E(P,i)&&C.push(P),P=M.getNext();return C}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function Wq(n,t,e,i,r,o){const c=t.eventCache;if(null!=$x(i,e))return t;{let d,p;if(nn(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const y=jg(t),E=EF(i,y instanceof Yt?y:Yt.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),E,o)}else{const y=Gx(i,jg(t));d=n.filter.updateFullNode(t.eventCache.getNode(),y,o)}else{const y=tn(e);if(".priority"===y){(0,N.hu)(1===rp(e),"Can't have a priority with additional path components");const C=c.getNode();p=t.serverCache.getNode();const E=Gq(i,e,C,p);d=null!=E?n.filter.updatePriority(C,E):c.getNode()}else{const C=Zn(e);let E;if(c.isCompleteForChild(y)){p=t.serverCache.getNode();const M=Gq(i,e,c.getNode(),p);E=null!=M?c.getNode().getImmediateChild(y).updateChild(C,M):c.getNode().getImmediateChild(y)}else E=SF(i,y,t.serverCache);d=null!=E?n.filter.updateChild(c.getNode(),y,E,C,r,o):c.getNode()}}return pD(t,d,c.isFullyInitialized()||nn(e),n.filter.filtersNodes())}}function Zx(n,t,e,i,r,o,c,d){const p=t.serverCache;let y;const C=c?n.filter:n.filter.getIndexedFilter();if(nn(e))y=C.updateFullNode(p.getNode(),i,null);else if(C.filtersNodes()&&!p.isFiltered()){const P=p.getNode().updateChild(e,i);y=C.updateFullNode(p.getNode(),P,null)}else{const P=tn(e);if(!p.isCompleteForPath(e)&&rp(e)>1)return t;const F=Zn(e),te=p.getNode().getImmediateChild(P).updateChild(F,i);y=".priority"===P?C.updatePriority(p.getNode(),te):C.updateChild(p.getNode(),P,te,F,Yq,null)}const E=Bq(t,y,p.isFullyInitialized()||nn(e),C.filtersNodes());return Wq(n,E,e,r,new TF(r,E,o),d)}function IF(n,t,e,i,r,o,c){const d=t.eventCache;let p,y;const C=new TF(r,t,o);if(nn(e))y=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=pD(t,y,!0,n.filter.filtersNodes());else{const E=tn(e);if(".priority"===E)y=n.filter.updatePriority(t.eventCache.getNode(),i),p=pD(t,y,d.isFullyInitialized(),d.isFiltered());else{const M=Zn(e),P=d.getNode().getImmediateChild(E);let F;if(nn(M))F=i;else{const j=C.getCompleteChild(E);F=null!=j?".priority"===iF(M)&&j.getChild(wq(M)).isEmpty()?j:j.updateChild(M,i):Yt.EMPTY_NODE}p=P.equals(F)?t:pD(t,n.filter.updateChild(d.getNode(),E,F,M,C,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function Kq(n,t){return n.eventCache.isCompleteForChild(t)}function Qq(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function xF(n,t,e,i,r,o,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y,p=t;y=nn(e)?i:new ri(null).setTree(e,i);const C=t.serverCache.getNode();return y.children.inorderTraversal((E,M)=>{if(C.hasChild(E)){const F=Qq(0,t.serverCache.getNode().getImmediateChild(E),M);p=Zx(n,p,new Mn(E),F,r,o,c,d)}}),y.children.inorderTraversal((E,M)=>{const P=!t.serverCache.isCompleteForChild(E)&&null===M.value;if(!C.hasChild(E)&&!P){const j=Qq(0,t.serverCache.getNode().getImmediateChild(E),M);p=Zx(n,p,new Mn(E),j,r,o,c,d)}}),p}class hse{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new hF(i.getIndex()),o=function Tre(n){return n.loadsAllData()?new hF(n.getIndex()):n.hasLimit()?new Sre(n):new dD(n)}(i);this.processor_=function rse(n){return{filter:n}}(o);const c=e.serverCache,d=e.eventCache,p=r.updateFullNode(Yt.EMPTY_NODE,c.getNode(),null),y=o.updateFullNode(Yt.EMPTY_NODE,d.getNode(),null),C=new sp(p,c.isFullyInitialized(),r.filtersNodes()),E=new sp(y,d.isFullyInitialized(),o.filtersNodes());this.viewCache_=jx(E,C),this.eventGenerator_=new Lre(this.query_)}get query(){return this.query_}}function mse(n,t){const e=jg(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!nn(t)&&!e.getImmediateChild(tn(t)).isEmpty())?e.getChild(t):null}function Jq(n){return 0===n.eventRegistrations_.length}function Xq(n,t,e){const i=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function e4(n,t,e,i){t.type===Vl.MERGE&&null!==t.source.queryId&&((0,N.hu)(jg(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(zx(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function ose(n,t,e,i,r){const o=new nse;let c,d;if(e.type===Vl.OVERWRITE){const y=e;y.source.fromUser?c=IF(n,t,y.path,y.snap,i,r,o):((0,N.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered()&&!nn(y.path),c=Zx(n,t,y.path,y.snap,i,r,d,o))}else if(e.type===Vl.MERGE){const y=e;y.source.fromUser?c=function lse(n,t,e,i,r,o,c){let d=t;return i.foreach((p,y)=>{const C=Ci(e,p);Kq(t,tn(C))&&(d=IF(n,d,C,y,r,o,c))}),i.foreach((p,y)=>{const C=Ci(e,p);Kq(t,tn(C))||(d=IF(n,d,C,y,r,o,c))}),d}(n,t,y.path,y.children,i,r,o):((0,N.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered(),c=xF(n,t,y.path,y.children,i,r,d,o))}else if(e.type===Vl.ACK_USER_WRITE){const y=e;c=y.revert?function dse(n,t,e,i,r,o){let c;if(null!=$x(i,e))return t;{const d=new TF(i,t,r),p=t.eventCache.getNode();let y;if(nn(e)||".priority"===tn(e)){let C;if(t.serverCache.isFullyInitialized())C=Gx(i,jg(t));else{const E=t.serverCache.getNode();(0,N.hu)(E instanceof Yt,"serverChildren would be complete if leaf node"),C=EF(i,E)}y=n.filter.updateFullNode(p,C,o)}else{const C=tn(e);let E=SF(i,C,t.serverCache);null==E&&t.serverCache.isCompleteForChild(C)&&(E=p.getImmediateChild(C)),y=null!=E?n.filter.updateChild(p,C,E,Zn(e),d,o):t.eventCache.getNode().hasChild(C)?n.filter.updateChild(p,C,Yt.EMPTY_NODE,Zn(e),d,o):p,y.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=Gx(i,jg(t)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=$x(i,Sn()),pD(t,y,c,n.filter.filtersNodes())}}(n,t,y.path,i,r,o):function cse(n,t,e,i,r,o,c){if(null!=$x(r,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(nn(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return Zx(n,t,e,p.getNode().getChild(e),r,o,d,c);if(nn(e)){let y=new ri(null);return p.getNode().forEachChild(ju,(C,E)=>{y=y.set(new Mn(C),E)}),xF(n,t,e,y,r,o,d,c)}return t}{let y=new ri(null);return i.foreach((C,E)=>{const M=Ci(e,C);p.isCompleteForPath(M)&&(y=y.set(C,p.getNode().getChild(M)))}),xF(n,t,e,y,r,o,d,c)}}(n,t,y.path,y.affectedTree,i,r,o)}else{if(e.type!==Vl.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);c=function use(n,t,e,i,r){const o=t.serverCache;return Wq(n,Bq(t,o.getNode(),o.isFullyInitialized()||nn(e),o.isFiltered()),e,i,Yq,r)}(n,t,e.path,i,o)}const p=o.getChanges();return function ase(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=zx(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(Nq(zx(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function sse(n,t){(0,N.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,N.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,t4(n,o.changes,o.viewCache.eventCache.getNode(),null)}function t4(n,t,e,i){return function Vre(n,t,e,i){const r=[],o=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function Ere(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),fD(n,r,"child_removed",t,i,e),fD(n,r,"child_added",t,i,e),fD(n,r,"child_moved",o,i,e),fD(n,r,"child_changed",t,i,e),fD(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Yx,Kx;class n4{constructor(){this.views=new Map}}function AF(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,N.hu)(null!=o,"SyncTree gave us an op for an invalid query."),e4(o,t,e,i)}{let o=[];for(const c of n.views.values())o=o.concat(e4(c,t,e,i));return o}}function r4(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=Gx(e,r?i:null),p=!1;d?p=!0:i instanceof Yt?(d=EF(e,i),p=!1):(d=Yt.EMPTY_NODE,p=!1);const y=jx(new sp(d,p,!1),new sp(i,r,!1));return new hse(t,y)}return c}function s4(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ap(n,t){let e=null;for(const i of n.views.values())e=e||mse(i,t);return e}function o4(n,t){return t._queryParams.loadsAllData()?Wx(n):n.views.get(t._queryIdentifier)}function a4(n,t){return null!=o4(n,t)}function lp(n){return null!=Wx(n)}function Wx(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Sse=1;class l4{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ri(null),this.pendingWriteTree_=function ese(){return{visibleWrites:Fc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function MF(n,t,e,i,r){return function jre(n,t,e,i,r){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=mD(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Wv(n,new Hg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function cp(n,t,e=!1){const i=function qre(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Gre(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&$re(d,i.path)?r=!1:Ll(i.path,d.path)&&(o=!0)),c--}return!!r&&(o?(function Zre(n){n.visibleWrites=zq(n.allWrites,Yre,Sn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Uq(n.visibleWrites,i.path):Xr(i.children,p=>{n.visibleWrites=Uq(n.visibleWrites,Ci(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let o=new ri(null);return null!=i.snap?o=o.set(Sn(),!0):Xr(i.children,c=>{o=o.set(new Mn(c),!0)}),Wv(n,new Hx(i.path,o,e))}return[]}function gD(n,t,e){return Wv(n,new Hg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Qx(n,t,e,i,r=!1){const o=t._path,c=n.syncPointTree_.get(o);let d=[];if(c&&("default"===t._queryIdentifier||a4(c,t))){const p=function Cse(n,t,e,i){const r=t._queryIdentifier,o=[];let c=[];const d=lp(n);if("default"===r)for(const[p,y]of n.views.entries())c=c.concat(Xq(y,e,i)),Jq(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||o.push(y.query));else{const p=n.views.get(r);p&&(c=c.concat(Xq(p,e,i)),Jq(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||o.push(p.query)))}return d&&!lp(n)&&o.push(new(function vse(){return(0,N.hu)(Yx,"Reference.ts has not been loaded"),Yx}())(t._repo,t._path)),{removed:o,events:c}}(c,t,e,i);(function bse(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const y=p.removed;if(d=p.events,!r){const C=-1!==y.findIndex(M=>M._queryParams.loadsAllData()),E=n.syncPointTree_.findOnPath(o,(M,P)=>lp(P));if(C&&!E){const M=n.syncPointTree_.subtree(o);if(!M.isEmpty()){const P=function Rse(n){return n.fold((t,e,i)=>{if(e&&lp(e))return[Wx(e)];{let r=[];return e&&(r=s4(e)),Xr(i,(o,c)=>{r=r.concat(c)}),r}})}(M);for(let F=0;F<P.length;++F){const j=P[F],te=j.query,Re=h4(n,j);n.listenProvider_.startListening(yD(te),_D(n,te),Re.hashFn,Re.onComplete)}}}!E&&y.length>0&&!i&&(C?n.listenProvider_.stopListening(yD(t),null):y.forEach(M=>{const P=n.queryToTagMap.get(Xx(M));n.listenProvider_.stopListening(yD(M),P)}))}!function Ose(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=Xx(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,y)}return d}function c4(n,t,e,i){const r=RF(n,i);if(null!=r){const o=OF(r),c=o.path,d=o.queryId,p=uo(c,t);return PF(n,c,new Hg(vF(d),p,e))}return[]}function kF(n,t,e,i=!1){const r=t._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(r,(M,P)=>{const F=uo(M,r);o=o||ap(P,F),c=c||lp(P)});let p,d=n.syncPointTree_.get(r);d?(c=c||lp(d),o=o||ap(d,Sn())):(d=new n4,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=o?p=!0:(p=!1,o=Yt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((P,F)=>{const j=ap(F,Sn());j&&(o=o.updateImmediateChild(P,j))}));const y=a4(d,t);if(!y&&!t._queryParams.loadsAllData()){const M=Xx(t);(0,N.hu)(!n.queryToTagMap.has(M),"View does not exist, but we have a tag");const P=function Pse(){return Sse++}();n.queryToTagMap.set(M,P),n.tagToQueryMap.set(P,M)}let E=function wse(n,t,e,i,r,o){const c=r4(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function gse(n,t){n.eventRegistrations_.push(t)}(c,e),function _se(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ii,(o,c)=>{i.push(Gv(o,c))}),e.isFullyInitialized()&&i.push(Nq(e.getNode())),t4(n,i,e.getNode(),t)}(c,e)}(d,t,e,qx(n.pendingWriteTree_,r),o,p);if(!y&&!c&&!i){const M=o4(d,t);E=E.concat(function Nse(n,t,e){const i=t._path,r=_D(n,t),o=h4(n,e),c=n.listenProvider_.startListening(yD(t),r,o.hashFn,o.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,N.hu)(!lp(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((y,C,E)=>{if(!nn(y)&&C&&lp(C))return[Wx(C).query];{let M=[];return C&&(M=M.concat(s4(C).map(P=>P.query))),Xr(E,(P,F)=>{M=M.concat(F)}),M}});for(let y=0;y<p.length;++y){const C=p[y];n.listenProvider_.stopListening(yD(C),_D(n,C))}}return c}(n,t,M))}return E}function Jx(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,d)=>{const y=ap(d,uo(c,t));if(y)return y});return qq(r,t,o,e,!0)}function Wv(n,t){return u4(t,n.syncPointTree_,null,qx(n.pendingWriteTree_,Sn()))}function u4(n,t,e,i){if(nn(n.path))return d4(n,t,e,i);{const r=t.get(Sn());null==e&&null!=r&&(e=ap(r,Sn()));let o=[];const c=tn(n.path),d=n.operationForChild(c),p=t.children.get(c);if(p&&d){const y=e?e.getImmediateChild(c):null,C=$q(i,c);o=o.concat(u4(d,p,y,C))}return r&&(o=o.concat(AF(r,n,i,e))),o}}function d4(n,t,e,i){const r=t.get(Sn());null==e&&null!=r&&(e=ap(r,Sn()));let o=[];return t.children.inorderTraversal((c,d)=>{const p=e?e.getImmediateChild(c):null,y=$q(i,c),C=n.operationForChild(c);C&&(o=o.concat(d4(C,d,p,y)))}),r&&(o=o.concat(AF(r,n,i,e))),o}function h4(n,t){const e=t.query,i=_D(n,e);return{hashFn:()=>(function fse(n){return n.viewCache_.serverCache.getNode()}(t)||Yt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Ase(n,t,e){const i=RF(n,e);if(i){const r=OF(i),o=r.path,c=r.queryId,d=uo(o,t);return PF(n,o,new hD(vF(c),d))}return[]}(n,e._path,i):function xse(n,t){return Wv(n,new hD({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function xie(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return Qx(n,e,null,o)}}}}function _D(n,t){const e=Xx(t);return n.queryToTagMap.get(e)}function Xx(n){return n._path.toString()+"$"+n._queryIdentifier}function RF(n,t){return n.tagToQueryMap.get(t)}function OF(n){const t=n.indexOf("$");return(0,N.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Mn(n.substr(0,t))}}function PF(n,t,e){const i=n.syncPointTree_.get(t);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),AF(i,e,qx(n.pendingWriteTree_,t),null)}function yD(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Ese(){return(0,N.hu)(Kx,"Reference.ts has not been loaded"),Kx}())(n._repo,n._path):n}class NF{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new NF(e)}node(){return this.node_}}class FF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ci(this.path_,t);return new FF(this.syncTree_,e)}node(){return Jx(this.syncTree_,this.path_)}}const f4=function(n,t,e){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Lse(n[".sv"],t,e):"object"==typeof n[".sv"]?Vse(n[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Lse=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},Vse=function(n,t,e){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,N.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},p4=function(n,t,e,i){return VF(t,new FF(e,n),i)},LF=function(n,t,e){return VF(n,new NF(t),e)};function VF(n,t,e){const i=n.getPriority().val(),r=f4(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,d=f4(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new jv(d,Ni(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new jv(r))),c.forEachChild(ii,(d,p)=>{const y=VF(p,t.getImmediateChild(d),e);y!==p&&(o=o.updateImmediateChild(d,y))}),o}}class BF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function eA(n,t){let e=t instanceof Mn?t:new Mn(t),i=n,r=tn(e);for(;null!==r;){const o=(0,N.DV)(i.node.children,r)||{children:{},childCount:0};i=new BF(r,i,o),e=Zn(e),r=tn(e)}return i}function qg(n){return n.node.value}function UF(n,t){n.node.value=t,HF(n)}function m4(n){return n.node.childCount>0}function tA(n,t){Xr(n.node.children,(e,i)=>{t(new BF(e,n,i))})}function g4(n,t,e,i){e&&!i&&t(n),tA(n,r=>{g4(r,t,!0,i)}),e&&i&&t(n)}function vD(n){return new Mn(null===n.parent?n.name:vD(n.parent)+"/"+n.name)}function HF(n){null!==n.parent&&function Hse(n,t,e){const i=function Bse(n){return void 0===qg(n)&&!m4(n)}(e),r=(0,N.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,HF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,HF(n))}(n.parent,n.name,n)}const jse=/[\[\].#$\/\u0000-\u001F\u007F]/,zse=/[\[\].#$\u0000-\u001F\u007F]/,jF=10485760,nA=function(n){return"string"==typeof n&&0!==n.length&&!jse.test(n)},_4=function(n){return"string"==typeof n&&0!==n.length&&!zse.test(n)},bD=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!xx(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},zu=function(n,t,e,i){i&&void 0===t||wD((0,N.gK)(n,"value"),t,e)},wD=function(n,t,e){const i=e instanceof Mn?new sre(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Bg(i));if("function"==typeof t)throw new Error(n+"contains a function "+Bg(i)+" with contents = "+t.toString());if(xx(t))throw new Error(n+"contains "+t.toString()+" "+Bg(i));if("string"==typeof t&&t.length>jF/3&&(0,N.ug)(t)>jF)throw new Error(n+"contains a string greater than "+jF+" utf8 bytes "+Bg(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Xr(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!nA(c)))throw new Error(n+" contains an invalid key ("+c+") "+Bg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ore(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,N.ug)(t),Cq(n)})(i,c),wD(n,d,i),function are(n){const t=n.parts_.pop();n.byteLength_-=(0,N.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Bg(i)+" in addition to actual children.")}},y4=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,N.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Xr(t,(c,d)=>{const p=new Mn(c);if(wD(r,d,Ci(e,p)),".priority"===iF(p)&&!bD(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=sD(i);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!nA(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(rre);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Ll(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},zF=function(n,t,e){if(!e||void 0!==t){if(xx(t))throw new Error((0,N.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!bD(t))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},CD=function(n,t,e,i){if(!(i&&void 0===e||nA(e)))throw new Error((0,N.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},DD=function(n,t,e,i){if(!(i&&void 0===e||_4(e)))throw new Error((0,N.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Bl=function(n,t){if(".info"===tn(t))throw new Error(n+" failed = Can't modify data under /.info/")},v4=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!nA(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_4(n)}(e))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Zse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function iA(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!rF(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function b4(n,t,e){iA(n,e),w4(n,i=>rF(i,t))}function Na(n,t,e){iA(n,e),w4(n,i=>Ll(i,t)||Ll(t,i))}function w4(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Yse(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Yse(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Lg&&Jr("event: "+e.toString()),Uv(i)}}}const C4="repo_interrupt";class Kse{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ux(),this.transactionQueueTree_=new BF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function D4(n){const e=n.infoData_.getNode(new Mn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ED(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:D4(n)})}function E4(n,t,e,i,r){n.dataUpdateCount++;const o=new Mn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,N.UI)(e,y=>Ni(y));c=function Mse(n,t,e,i){const r=RF(n,i);if(r){const o=OF(r),c=o.path,d=o.queryId,p=uo(c,t),y=ri.fromObject(e);return PF(n,c,new Zv(vF(d),p,y))}return[]}(n.serverSyncTree_,o,p,r)}else{const p=Ni(e);c=c4(n.serverSyncTree_,o,p,r)}else if(i){const p=(0,N.UI)(e,y=>Ni(y));c=function Ise(n,t,e){const i=ri.fromObject(e);return Wv(n,new Zv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,p)}else{const p=Ni(e);c=gD(n.serverSyncTree_,o,p)}let d=o;c.length>0&&(d=Qv(n,o)),Na(n.eventQueue_,d,c)}function S4(n,t){qF(n,"connected",t),!1===t&&function toe(n){Kv(n,"onDisconnectEvents");const t=ED(n),e=Ux();gF(n.onDisconnect_,Sn(),(r,o)=>{const c=p4(r,o,n.serverSyncTree_,t);$v(e,r,c)});let i=[];gF(e,Sn(),(r,o)=>{i=i.concat(gD(n.serverSyncTree_,r,o));const c=YF(n,r);Qv(n,c)}),n.onDisconnect_=Ux(),Na(n.eventQueue_,Sn(),i)}(n)}function qF(n,t,e){const i=new Mn("/.info/"+t),r=Ni(e);n.infoData_.updateSnapshot(i,r);const o=gD(n.infoSyncTree_,i,r);Na(n.eventQueue_,i,o)}function rA(n){return n.nextWriteId_++}function GF(n,t,e,i,r){Kv(n,"set",{path:t.toString(),value:e,priority:i});const o=ED(n),c=Ni(e,i),d=Jx(n.serverSyncTree_,t),p=LF(c,d,o),y=rA(n),C=MF(n.serverSyncTree_,t,p,y,!0);iA(n.eventQueue_,C),n.server_.put(t.toString(),c.val(!0),(M,P)=>{const F="ok"===M;F||Ps("set at "+t+" failed: "+M);const j=cp(n.serverSyncTree_,y,!F);Na(n.eventQueue_,t,j),up(0,r,M,P)});const E=YF(n,t);Qv(n,E),Na(n.eventQueue_,E,[])}function noe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&mF(n.onDisconnect_,t),up(0,e,i,r)})}function T4(n,t,e,i){const r=Ni(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,c)=>{"ok"===o&&$v(n.onDisconnect_,t,r),up(0,i,o,c)})}function $F(n,t,e){let i;i=".info"===tn(t._path)?Qx(n.infoSyncTree_,t,e):Qx(n.serverSyncTree_,t,e),b4(n.eventQueue_,t._path,i)}function I4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(C4)}function Kv(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Jr(e,...t)}function up(n,t,e,i){t&&Uv(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,t(c)}})}function ZF(n,t,e){return Jx(n.serverSyncTree_,t,e)||Yt.EMPTY_NODE}function sA(n,t=n.transactionQueueTree_){if(t||oA(n,t),qg(t)){const e=A4(n,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function loe(n,t,e){const i=e.map(y=>y.currentWriteId),r=ZF(n,t,i);let o=r;const c=r.hash();for(let y=0;y<e.length;y++){const C=e[y];(0,N.hu)(0===C.status,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const E=uo(t,C.path);o=o.updateChild(E,C.currentOutputSnapshotRaw)}const d=o.val(!0),p=t;n.server_.put(p.toString(),d,y=>{Kv(n,"transaction put response",{path:p.toString(),status:y});let C=[];if("ok"===y){const E=[];for(let M=0;M<e.length;M++)e[M].status=2,C=C.concat(cp(n.serverSyncTree_,e[M].currentWriteId)),e[M].onComplete&&E.push(()=>e[M].onComplete(null,!0,e[M].currentOutputSnapshotResolved)),e[M].unwatcher();oA(n,eA(n.transactionQueueTree_,t)),sA(n,n.transactionQueueTree_),Na(n.eventQueue_,t,C);for(let M=0;M<E.length;M++)Uv(E[M])}else{if("datastale"===y)for(let E=0;E<e.length;E++)e[E].status=3===e[E].status?4:0;else{Ps("transaction at "+p.toString()+" failed: "+y);for(let E=0;E<e.length;E++)e[E].status=4,e[E].abortReason=y}Qv(n,t)}},c)}(n,vD(t),e)}else m4(t)&&tA(t,e=>{sA(n,e)})}function Qv(n,t){const e=x4(n,t),i=vD(e);return function coe(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],y=uo(e,p.path);let E,C=!1;if((0,N.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)C=!0,E=p.abortReason,r=r.concat(cp(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)C=!0,E="maxretry",r=r.concat(cp(n.serverSyncTree_,p.currentWriteId,!0));else{const M=ZF(n,p.path,c);p.currentInputSnapshot=M;const P=t[d].update(M.val());if(void 0!==P){wD("transaction failed: Data returned ",P,p.path);let F=Ni(P);"object"==typeof P&&null!=P&&(0,N.r3)(P,".priority")||(F=F.updatePriority(M.getPriority()));const te=p.currentWriteId,Re=ED(n),Ge=LF(F,M,Re);p.currentOutputSnapshotRaw=F,p.currentOutputSnapshotResolved=Ge,p.currentWriteId=rA(n),c.splice(c.indexOf(te),1),r=r.concat(MF(n.serverSyncTree_,p.path,Ge,p.currentWriteId,p.applyLocally)),r=r.concat(cp(n.serverSyncTree_,te,!0))}else C=!0,E="nodata",r=r.concat(cp(n.serverSyncTree_,p.currentWriteId,!0))}Na(n.eventQueue_,e,r),r=[],C&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===E?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(E),!1,null)))}oA(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Uv(i[d]);sA(n,n.transactionQueueTree_)}(n,A4(n,e),i),i}function x4(n,t){let e,i=n.transactionQueueTree_;for(e=tn(t);null!==e&&void 0===qg(i);)i=eA(i,e),e=tn(t=Zn(t));return i}function A4(n,t){const e=[];return M4(n,t,e),e.sort((i,r)=>i.order-r.order),e}function M4(n,t,e){const i=qg(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);tA(t,r=>{M4(n,r,e)})}function oA(n,t){const e=qg(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,UF(t,e.length>0?e:void 0)}tA(t,i=>{oA(n,i)})}function YF(n,t){const e=vD(x4(n,t)),i=eA(n.transactionQueueTree_,t);return function Use(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{WF(n,r)}),WF(n,i),g4(i,r=>{WF(n,r)}),e}function WF(n,t){const e=qg(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,N.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):((0,N.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(cp(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?UF(t,void 0):e.length=o+1,Na(n.eventQueue_,vD(t),r);for(let c=0;c<i.length;c++)Uv(i[c])}}const KF=function(n,t){const e=hoe(n),i=e.namespace;return"firebase.com"===e.domain&&Uu(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Uu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ps("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new QN(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Mn(e.pathString)}},hoe=function(n){let t="",e="",i="",r="",o="",c=!0,d="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(d=n.substring(0,y-1),n=n.substring(y+2));let C=n.indexOf("/");-1===C&&(C=n.length);let E=n.indexOf("?");-1===E&&(E=n.length),t=n.substring(0,Math.min(C,E)),C<E&&(r=function uoe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(C,E)));const M=function doe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ps(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,E)));y=t.indexOf(":"),y>=0?(c="https"===d||"wss"===d,p=parseInt(t.substring(y+1),10)):y=t.length;const P=t.slice(0,y);if("localhost"===P.toLowerCase())e="localhost";else if(P.split(".").length<=2)e=P;else{const F=t.indexOf(".");i=t.substring(0,F).toLowerCase(),e=t.substring(F+1),o=i}"ns"in M&&(o=M.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:o}};class k4{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Pz)(this.snapshot.exportVal())}}class R4{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class QF{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class O4{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return noe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Bl("OnDisconnect.remove",this._path);const t=new N.BH;return T4(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Bl("OnDisconnect.set",this._path),zu("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return T4(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Bl("OnDisconnect.setWithPriority",this._path),zu("OnDisconnect.setWithPriority",t,this._path,!1),zF("OnDisconnect.setWithPriority",e,!1);const i=new N.BH;return function ioe(n,t,e,i,r){const o=Ni(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,d)=>{"ok"===c&&$v(n.onDisconnect_,t,o),up(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Bl("OnDisconnect.update",this._path),y4("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function roe(n,t,e,i){if((0,N.xb)(e))return Jr("onDisconnect().update() called with empty data.  Don't do anything."),void up(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Xr(e,(c,d)=>{const p=Ni(d);$v(n.onDisconnect_,Ci(t,c),p)}),up(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Qo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return nn(this._path)?null:iF(this._path)}get ref(){return new Ul(this._repo,this._path)}get _queryIdentifier(){const t=Lq(this._queryParams),e=YN(t);return"{}"===e?"default":e}get _queryObject(){return Lq(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof Qo))return!1;const e=this._repo===t._repo,i=rF(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ire(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function aA(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function dp(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===ju){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ph)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Hu)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===ii){if(null!=t&&!bD(t)||null!=e&&!bD(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof cF||n.getIndex()===uF,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function lA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ul extends Qo{constructor(t,e){super(t,e,new Lx,!1)}get parent(){const t=wq(this._path);return null===t?null:new Ul(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Gg{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Mn(t),i=$g(this.ref,t);return new Gg(this._node.getChild(e),i,ii)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Gg(r,$g(this.ref,i),ii)))}hasChild(t){const e=new Mn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function P4(n,t){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==t?$g(n._root,t):n._root}function N4(n,t){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const e=KF(t,n._repo.repoInfo_.nodeAdmin);v4("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Uu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),P4(n,e.path.toString())}function $g(n,t){return null===tn((n=(0,N.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),DD("child","path",e,!1)):DD("child","path",t,!1),new Ul(n._repo,Ci(n._path,t));var e}function JF(n,t){n=(0,N.m9)(n),Bl("set",n._path),zu("set",t,n._path,!1);const e=new N.BH;return GF(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function _oe(n,t){y4("update",t,n._path,!1);const e=new N.BH;return function eoe(n,t,e,i){Kv(n,"update",{path:t.toString(),value:e});let r=!0;const o=ED(n),c={};if(Xr(e,(d,p)=>{r=!1,c[d]=p4(Ci(t,d),Ni(p),n.serverSyncTree_,o)}),r)Jr("update() called with empty data.  Don't do anything."),up(0,i,"ok",void 0);else{const d=rA(n),p=function Tse(n,t,e,i){!function zre(n,t,e,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=wF(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=ri.fromObject(e);return Wv(n,new Zv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);iA(n.eventQueue_,p),n.server_.merge(t.toString(),e,(y,C)=>{const E="ok"===y;E||Ps("update at "+t+" failed: "+y);const M=cp(n.serverSyncTree_,d,!E),P=M.length>0?Qv(n,t):t;Na(n.eventQueue_,P,M),up(0,i,y,C)}),Xr(e,y=>{const C=YF(n,Ci(t,y));Qv(n,C)}),Na(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function yoe(n){n=(0,N.m9)(n);const t=new QF(()=>{}),e=new SD(t);return function Xse(n,t,e){const i=function kse(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(y,C)=>{const E=uo(y,e);i=i||ap(C,E)});let r=n.syncPointTree_.get(e);r?i=i||ap(r,Sn()):(r=new n4,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,c=o?new sp(i,!0,!1):null;return function pse(n){return zx(n.viewCache_)}(r4(r,t,qx(n.pendingWriteTree_,t._path),o?c.getNode():Yt.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=Ni(r).withIndex(t._queryParams.getIndex());let c;if(kF(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=gD(n.serverSyncTree_,t._path,o);else{const d=_D(n.serverSyncTree_,t);c=c4(n.serverSyncTree_,t._path,o,d)}return Na(n.eventQueue_,t._path,c),Qx(n.serverSyncTree_,t,e,null,!0),o},r=>(Kv(n,"get for query "+(0,N.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Gg(i,new Ul(n._repo,n._path),n._queryParams.getIndex()))}class SD{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new k4("value",this,new Gg(t.snapshotNode,new Ul(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new R4(this,t,e):null}matches(t){return t instanceof SD&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cA{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new R4(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const i=$g(new Ul(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new k4(t.type,this,new Gg(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof cA&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function TD(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const p=e,y=(C,E)=>{$F(n._repo,n,d),p(C,E)};y.userCallback=e.userCallback,y.context=e.context,e=y}const c=new QF(e,o||void 0),d="value"===t?new SD(c):new cA(t,c);return function soe(n,t,e){let i;i=".info"===tn(t._path)?kF(n.infoSyncTree_,t,e):kF(n.serverSyncTree_,t,e),b4(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>$F(n._repo,n,d)}function XF(n,t,e,i){return TD(n,"value",t,e,i)}function F4(n,t,e,i){return TD(n,"child_added",t,e,i)}function L4(n,t,e,i){return TD(n,"child_changed",t,e,i)}function V4(n,t,e,i){return TD(n,"child_moved",t,e,i)}function B4(n,t,e,i){return TD(n,"child_removed",t,e,i)}function U4(n,t,e){let i=null;const r=e?new QF(e):null;"value"===t?i=new SD(r):t&&(i=new cA(t,r)),$F(n._repo,n,i)}class Lc{}class H4 extends Lc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){zu("endAt",this._value,t._path,!0);const e=pF(t._queryParams,this._value,this._key);if(lA(e),dp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qo(t._repo,t._path,e,t._orderByCalled)}}class boe extends Lc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){zu("endBefore",this._value,t._path,!1);const e=function Mre(n,t,e){let i,r;return n.index_===ju?("string"==typeof t&&(t=Pq(t)),r=pF(n,t,e)):(i=null==e?ph:Pq(e),r=pF(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(lA(e),dp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qo(t._repo,t._path,e,t._orderByCalled)}}class j4 extends Lc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){zu("startAt",this._value,t._path,!0);const e=fF(t._queryParams,this._value,this._key);if(lA(e),dp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qo(t._repo,t._path,e,t._orderByCalled)}}class Doe extends Lc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){zu("startAfter",this._value,t._path,!1);const e=function Are(n,t,e){let i;if(n.index_===ju)"string"==typeof t&&(t=Oq(t)),i=fF(n,t,e);else{let r;r=null==e?Hu:Oq(e),i=fF(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(lA(e),dp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qo(t._repo,t._path,e,t._orderByCalled)}}class Soe extends Lc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qo(t._repo,t._path,function Ire(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Ioe extends Lc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qo(t._repo,t._path,function xre(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Aoe extends Lc{constructor(t){super(),this._path=t}_apply(t){aA(t,"orderByChild");const e=new Mn(this._path);if(nn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new cF(e),r=Vx(t._queryParams,i);return dp(r),new Qo(t._repo,t._path,r,!0)}}class koe extends Lc{_apply(t){aA(t,"orderByKey");const e=Vx(t._queryParams,ju);return dp(e),new Qo(t._repo,t._path,e,!0)}}class Ooe extends Lc{_apply(t){aA(t,"orderByPriority");const e=Vx(t._queryParams,ii);return dp(e),new Qo(t._repo,t._path,e,!0)}}class Noe extends Lc{_apply(t){aA(t,"orderByValue");const e=Vx(t._queryParams,uF);return dp(e),new Qo(t._repo,t._path,e,!0)}}class Loe extends Lc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(zu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new H4(this._value,this._key)._apply(new j4(this._value,this._key)._apply(t))}}function Vc(n,...t){let e=(0,N.m9)(n);for(const i of t)e=i._apply(e);return e}(function yse(n){(0,N.hu)(!Yx,"__referenceConstructor has already been defined"),Yx=n})(Ul),function Dse(n){(0,N.hu)(!Kx,"__referenceConstructor has already been defined"),Kx=n}(Ul);const eL={};function q4(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Uu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,c=KF(o,r),d=c.repoInfo;typeof process<"u"&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(p=!0,o=`http://${y}?ns=${d.namespace}`,c=KF(o,r),d=c.repoInfo):p=!c.repoInfo.secure;const C=r&&p?new rD(rD.OWNER):new Rie(n.name,n.options,t);v4("Invalid Firebase Database URL",c),nn(c.path)||Uu("Database URL must point to the root of a Firebase Database (not including a child path).");const E=function joe(n,t,e,i){let r=eL[t.name];r||(r={},eL[t.name]=r);let o=r[n.toURLString()];return o&&Uu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Kse(n,false,e,i),r[n.toURLString()]=o,o}(d,n,C,new kie(n.name,e));return new qoe(E,n)}class qoe{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Qse(n,t,e){if(n.stats_=eF(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Bx(n.repoInfo_,(i,r,o,c)=>{E4(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>S4(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ug(n.repoInfo_,t,(i,r,o,c)=>{E4(n,i,r,o,c)},i=>{S4(n,i)},i=>{!function Jse(n,t){Xr(t,(e,i)=>{qF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Nie(n,t){const e=n.toString();return XN[e]||(XN[e]=t()),XN[e]}(n.repoInfo_,()=>new Fre(n.stats_,n.server_)),n.infoData_=new kre,n.infoSyncTree_=new l4({startListening:(i,r,o,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=gD(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),qF(n,"connected",!1),n.serverSyncTree_=new l4({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(d,p)=>{const y=c(d,p);Na(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ul(this._repo,Sn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Hoe(n,t){const e=eL[t];(!e||e[n.key]!==n)&&Uu(`Database ${t}(${n.repoInfo_}) has already been deleted.`),I4(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Uu("Cannot call "+t+" on a deleted database.")}}function G4(){cq.IS_TRANSPORT_INITIALIZED&&Ps("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Goe(){G4(),ip.forceDisallow()}function $oe(){G4(),Hv.forceDisallow(),ip.forceAllow()}function Koe(n,t){zz(n,t)}const Joe={".sv":"timestamp"};class tae{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ug.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Ug.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Qoe(n){Vz(As.SDK_VERSION),(0,As._registerComponent)(new Rl.wA("database",(t,{instanceIdentifier:e})=>q4(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,As.registerVersion)(Fz,"0.13.5",n),(0,As.registerVersion)(Fz,"0.13.5","esm2017")}();const sae=new Ol.Yd("@firebase/database-compat"),$4=function(n){sae.warn("FIREBASE WARNING: "+n)};class lae{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,$4("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class cae{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class hp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),DD("DataSnapshot.child","path",t,!1),new hp(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),DD("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new hp(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new Fa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ms{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const c=ms.getCancelAndContextArgs_("Query.on",i,r),d=(y,C)=>{e.call(c.context,new hp(this.database,y),C)};d.userCallback=e,d.context=c.context;const p=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(t){case"value":return XF(this._delegate,d,p),e;case"child_added":return F4(this._delegate,d,p),e;case"child_removed":return B4(this._delegate,d,p),e;case"child_changed":return L4(this._delegate,d,p),e;case"child_moved":return V4(this._delegate,d,p),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,U4(this._delegate,t,r)}else U4(this._delegate,t)}get(){return yoe(this._delegate).then(t=>new hp(this.database,t))}once(t,e,i,r){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const o=ms.getCancelAndContextArgs_("Query.once",i,r),c=new N.BH,d=(y,C)=>{const E=new hp(this.database,y);e&&e.call(o.context,E,C),c.resolve(E)};d.userCallback=e,d.context=o.context;const p=y=>{o.cancel&&o.cancel.call(o.context,y),c.reject(y)};switch(t){case"value":XF(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":F4(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":B4(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":L4(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":V4(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new ms(this.database,Vc(this._delegate,function Toe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Soe(n)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new ms(this.database,Vc(this._delegate,function xoe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ioe(n)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new ms(this.database,Vc(this._delegate,function Moe(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return DD("orderByChild","path",n,!1),new Aoe(n)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new ms(this.database,Vc(this._delegate,function Roe(){return new koe}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new ms(this.database,Vc(this._delegate,function Poe(){return new Ooe}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new ms(this.database,Vc(this._delegate,function Foe(){return new Noe}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new ms(this.database,Vc(this._delegate,function Coe(n=null,t){return CD("startAt","key",t,!0),new j4(n,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new ms(this.database,Vc(this._delegate,function Eoe(n,t){return CD("startAfter","key",t,!0),new Doe(n,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new ms(this.database,Vc(this._delegate,function voe(n,t){return CD("endAt","key",t,!0),new H4(n,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new ms(this.database,Vc(this._delegate,function woe(n,t){return CD("endBefore","key",t,!0),new boe(n,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new ms(this.database,Vc(this._delegate,function Voe(n,t){return CD("equalTo","key",t,!0),new Loe(n,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ms))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,N.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,N.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Fa(this.database,new Ul(this._delegate._repo,this._delegate._path))}}class Fa extends ms{constructor(t,e){super(t,new Qo(e._repo,e._path,new Lx,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Fa(this.database,$g(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Fa(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new Fa(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const i=JF(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,$4("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Bl("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const i=_oe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function goe(n,t,e){if(Bl("setWithPriority",n._path),zu("setWithPriority",t,n._path,!1),zF("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return GF(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function poe(n){return Bl("remove",n._path),JF(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function nae(n,t,e){var i;if(n=(0,N.m9)(n),Bl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new N.BH,d=XF(n,()=>{});return function aoe(n,t,e,i,r,o){Kv(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:Uz(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=ZF(n,t,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{wD("transaction failed: Data returned ",p,c.path),c.status=0;const y=eA(n.transactionQueueTree_,t),C=qg(y)||[];let E;C.push(c),UF(y,C),"object"==typeof p&&null!==p&&(0,N.r3)(p,".priority")?(E=(0,N.DV)(p,".priority"),(0,N.hu)(bD(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):E=(Jx(n.serverSyncTree_,t)||Yt.EMPTY_NODE).getPriority().val();const M=ED(n),P=Ni(p,E),F=LF(P,d,M);c.currentOutputSnapshotRaw=P,c.currentOutputSnapshotResolved=F,c.currentWriteId=rA(n);const j=MF(n.serverSyncTree_,t,F,c.currentWriteId,c.applyLocally);Na(n.eventQueue_,t,j),sA(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,y,C)=>{let E=null;p?o.reject(p):(E=new Gg(C,new Ul(n._repo,n._path),ii),o.resolve(new tae(y,E)))},d,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new cae(o.committed,new hp(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const i=function moe(n,t){n=(0,N.m9)(n),Bl("setPriority",n._path),zF("setPriority",t,!1);const e=new N.BH;return GF(n._repo,Ci(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const i=function foe(n,t){n=(0,N.m9)(n),Bl("push",n._path),zu("push",t,n._path,!0);const e=D4(n._repo),i=Dre(e),r=$g(n,i),o=$g(n,i);let c;return c=null!=t?JF(o,t).then(()=>o):Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new Fa(this.database,c));e&&r.then(()=>e(null),c=>e(c));const o=new Fa(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Bl("Reference.onDisconnect",this._delegate._path),new lae(new O4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ID{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Goe,forceLongPolling:$oe}}useEmulator(t,e,i={}){!function Zoe(n,t,e,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Uu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Uu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new rD(rD.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);o=new rD(c)}!function Uoe(n,t,e,i){n.repoInfo_=new QN(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof Fa){const e=N4(this._delegate,t.toString());return new Fa(this,e)}{const e=P4(this._delegate,t);return new Fa(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=N4(this._delegate,t);return new Fa(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function Yoe(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),I4(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function Woe(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function ooe(n){n.persistentConnection_&&n.persistentConnection_.resume(C4)}(n._repo)}(this._delegate)}}ID.ServerValue={TIMESTAMP:function Xoe(){return Joe}(),increment:n=>function eae(n){return{".sv":{increment:n}}}(n)};var dae=Object.freeze({__proto__:null,initStandalone:function uae({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){Vz(e);const c=new Rl.zt("auth-internal",new Rl.H0("database-standalone"));return c.setComponent(new Rl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new ID(q4(n,c,void 0,t,o),n),namespace:r}}});const hae=ID.ServerValue;function Z4(n){return null==n}function Y4(n){return"function"==typeof n.set}function W4(n,t){return Y4(t)?t:n.ref(t)}function K4(n,t){if(function pae(n){return"string"==typeof n}(n))return t.stringCase();if(Y4(n))return t.firebaseCase();if(function mae(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function xD(n,t,e="on",i=Dc.z){return new Fn.y(r=>{let o=null;return o=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,Ue.U)(r=>{const{snapshot:o,prevKey:c}=r;let d=null;return o.exists()&&(d=o.key),{type:t,payload:o,prevKey:c,key:d}}),(0,hP.B)())}function Q4(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function yae(n,t){const{payload:e,prevKey:i,key:r}=t,o=Q4(n,r),c=function _ae(n,t){if(Z4(t))return 0;{const e=Q4(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,y],!1})}return n;case"child_added":if(o>-1){const d=n[o-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(o>-1){const d=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function J4(n){return(Z4(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function X4(n,t,e){return function gae(n,t,e){return xD(n,"value","once",e).pipe(g(i=>{const r=[Fe(i)];return t.forEach(o=>r.push(xD(n,o,"on",e))),(0,ti.T)(...r).pipe(ba(yae,[]))}),xm())}(n,t=J4(t),e)}function eG(n,t,e){const i=(t=J4(t)).map(r=>xD(n,r,"on",e));return(0,ti.T)(...i)}function tG(n,t){return function(i,r){return K4(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Cae(n){return function(e){return e?K4(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function nG(n,t){return function(){return xD(n,"value","on",t)}}!function fae(n){n.INTERNAL.registerComponent(new Rl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new ID(r,i)},"PUBLIC").setServiceProps({Reference:Fa,Query:ms,Database:ID,DataSnapshot:hp,enableLogging:Koe,INTERNAL:dae,ServerValue:hae}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.5")}(pT.Z);const Sae=new s.OlP("angularfire2.realtimeDatabaseURL"),Tae=new s.OlP("angularfire2.database.use-emulator");let Iae=(()=>{class n{constructor(e,i,r,o,c,d,p,y,C,E,M,P,F,j,te){this.schedulers=d;const Re=p,Ge=(0,nr.on)(e,c,i);y&&LP(Ge,c,C,M,P,F,E,j),this.database=(0,nr.cc)(`${Ge.name}.database.${r}`,"AngularFireDatabase",Ge.name,()=>{const We=c.runOutsideAngular(()=>Ge.database(r||void 0));return Re&&We.useEmulator(...Re),We},[Re])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>W4(this.database,e));let o=r;return i&&(o=i(r)),function Dae(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:tG(i,"update"),set:tG(i,"set"),push:r=>i.push(r),remove:Cae(i),snapshotChanges:r=>X4(n,r,e).pipe(mn.iC),stateChanges:r=>eG(n,r,e).pipe(mn.iC),auditTrail:r=>function vae(n,t,e){return function wae(n,t,e){return function bae(n,t){return xD(n,"value","on",t).pipe((0,Ue.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function vie(...n){const t=(0,ua.jO)(n);return(0,ei.e)((e,i)=>{const r=n.length,o=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,Er.Xf)(n[p]).subscribe((0,hn.x)(i,y=>{o[p]=y,!d&&!c[p]&&(c[p]=!0,(d=c.every(Vo.y))&&(c=null))},wu.Z));e.subscribe((0,hn.x)(i,p=>{if(d){const y=[p,...o];i.next(t?t(...y):y)}}))})}(t),(0,Ue.U)(([r,o])=>{const c=r.lastKeyToLoad,d=o.map(p=>p.key);return{actions:o,lastKeyToLoad:c,loadedKeys:d}}),function bie(n){return(0,ei.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,hn.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Ue.U)(r=>r.actions))}(n,eG(n,t).pipe(ba((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(mn.iC),valueChanges:(r,o)=>X4(n,r,e).pipe((0,Ue.U)(d=>d.map(p=>o&&o.idField?Object.assign(Object.assign({},p.payload.val()),{[o.idField]:p.key}):p.payload.val())),mn.iC)}}(o,this)}object(e){return function Eae(n,t){return{query:n,snapshotChanges:()=>nG(n,t.schedulers.outsideAngular)().pipe(mn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>nG(n,t.schedulers.outsideAngular)().pipe(mn.iC,(0,Ue.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>W4(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nr.Dh),s.LFG(nr.xv,8),s.LFG(Sae,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(mn.HU),s.LFG(Tae,8),s.LFG(HC,8),s.LFG(kP,8),s.LFG(RP,8),s.LFG(OP,8),s.LFG(PP,8),s.LFG(NP,8),s.LFG(FP,8),s.LFG(UC,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),xae=(()=>{class n{constructor(){jI.Z.registerVersion("angularfire",mn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Iae]}),n})(),Aae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[om]}),n})(),tL=(()=>{class n{constructor(){this.changes=new et.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uae={provide:tL,deps:[[new s.FiY,new s.tp0,tL]],useFactory:function Bae(n){return n||new tL}};let Hae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Uae,qo],imports:[pn,cr,Jd,UP,Aae,v6,nw,pn]}),n})(),jae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[vte]}),n.\u0275inj=s.cJS({providers:[Lj],imports:[Nn,yte,yie,nx,qQ,JX,v6,UP,Db,MJ,Jee,WJ,Ir,aw,sV,dQ,nr.hO.initializeApp(Nz_firebase),vW,ij,IW,xae,VW,Il,Hae,nQ.forRoot(),ij,pte,Gj]}),n})();(0,s.G48)(),yp().bootstrapModule(jae).catch(n=>console.error(n))},5867:(pt,Te,V)=>{V.d(Te,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=V(9681);(0,s.registerVersion)("firebase","9.9.3","app")},127:(pt,Te,V)=>{V.d(Te,{Z:()=>s.Z});var s=V(3942);s.Z.registerVersion("firebase","9.9.3","app-compat")},1451:(pt,Te,V)=>{V.r(Te);var s=V(5861),ne=V(3942),L=V(2090),ue=V(9681),ae=V(655),fe=V(1877),ie=V(4859);const Ce=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},st=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ve=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new fe.Yd("@firebase/auth");function ht(v,...m){nt.logLevel<=fe.in.ERROR&&nt.error(`Auth (${ue.SDK_VERSION}): ${v}`,...m)}function Ae(v,...m){throw $e(v,...m)}function we(v,...m){return $e(v,...m)}function Ee(v,m,g){const w=Object.assign(Object.assign({},st()),{[m]:g});return new L.LL("auth","Firebase",w).create(m,{appName:v.name})}function ze(v,m,g){if(!(m instanceof g))throw g.name!==m.constructor.name&&Ae(v,"argument-error"),Ee(v,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(v,...m){if("string"!=typeof v){const g=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(g,...w)}return ve.create(v,...m)}function z(v,m,...g){if(!v)throw $e(m,...g)}function ye(v){const m="INTERNAL ASSERTION FAILED: "+v;throw ht(m),new Error(m)}function J(v,m){v||ye(m)}const re=new Map;function ce(v){J(v instanceof Function,"Expected a class definition");let m=re.get(v);return m?(J(m instanceof v,"Instance stored in cache mismatched with class"),m):(m=new v,re.set(v,m),m)}function Ne(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function yt(){return"http:"===en()||"https:"===en()}function en(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class bn{constructor(m,g){this.shortDelay=m,this.longDelay=g,J(g>m,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yt()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yn(v,m){J(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return m?`${g}${m.startsWith("/")?m.slice(1):m}`:g}class an{static initialize(m,g,w){this.fetchImpl=m,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ln={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},or=new bn(3e4,6e4);function Vt(v,m){return v.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:v.tenantId}):m}function wn(v,m,g,w){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,s.Z)(function*(v,m,g,w,A={}){return Ar(v,A,(0,s.Z)(function*(){let R={},q={};w&&("GET"===m?q=w:R={body:JSON.stringify(w)});const de=(0,L.xO)(Object.assign({key:v.config.apiKey},q)).slice(1),Be=yield v._getAdditionalHeaders();return Be["Content-Type"]="application/json",v.languageCode&&(Be["X-Firebase-Locale"]=v.languageCode),an.fetch()(Fs(v,v.config.apiHost,g,de),Object.assign({method:m,headers:Be,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Ar(v,m,g){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,s.Z)(function*(v,m,g){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},ln),m);try{const A=new Mr(v),R=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw ts(v,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const de=R.ok?q.errorMessage:q.error.message,[Be,it]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw ts(v,"credential-already-in-use",q);if("EMAIL_EXISTS"===Be)throw ts(v,"email-already-in-use",q);if("USER_DISABLED"===Be)throw ts(v,"user-disabled",q);const mt=w[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(it)throw Ee(v,mt,it);Ae(v,mt)}}catch(A){if(A instanceof L.ZR)throw A;Ae(v,"network-request-failed")}})).apply(this,arguments)}function ar(v,m,g,w){return gs.apply(this,arguments)}function gs(){return(gs=(0,s.Z)(function*(v,m,g,w,A={}){const R=yield wn(v,m,g,w,A);return"mfaPendingCredential"in R&&Ae(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Fs(v,m,g,w){const A=`${m}${g}?${w}`;return v.config.emulator?Yn(v.config,A):`${v.config.apiScheme}://${A}`}class Mr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(we(this.auth,"network-request-failed")),or.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ts(v,m,g){const w={appName:v.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const A=we(v,m,w);return A.customData._tokenResponse=g,A}function Tn(){return(Tn=(0,s.Z)(function*(v,m){return wn(v,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function ns(v,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(v,m){return wn(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function _s(v,m){return ys.apply(this,arguments)}function ys(){return(ys=(0,s.Z)(function*(v,m){return wn(v,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function zn(v){if(v)try{const m=new Date(Number(v));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function In(){return(In=(0,s.Z)(function*(v,m=!1){const g=(0,L.m9)(v),w=yield g.getIdToken(m),A=Xe(w);z(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,q=R?.sign_in_provider;return{claims:A,token:w,authTime:zn(ot(A.auth_time)),issuedAtTime:zn(ot(A.iat)),expirationTime:zn(ot(A.exp)),signInProvider:q||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function ot(v){return 1e3*Number(v)}function Xe(v){var m;const[g,w,A]=v.split(".");if(void 0===g||void 0===w||void 0===A)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,L.tV)(w);return R?JSON.parse(R):(ht("Failed to decode base64 JWT payload"),null)}catch(R){return ht("Caught error parsing JWT payload as JSON",null===(m=R)||void 0===m?void 0:m.toString()),null}}function Di(v,m){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,s.Z)(function*(v,m,g=!1){if(g)return m;try{return yield m}catch(w){throw w instanceof L.ZR&&Ut(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Ut({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class si{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var g;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(m=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,s.Z)(function*(){yield g.iteration()}),w)}iteration(){var m=this;return(0,s.Z)(function*(){var g;try{yield m.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(g=w)||void 0===g?void 0:g.code)&&m.schedule(!0))}m.schedule()})()}}class fo{constructor(m,g){this.createdAt=m,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=zn(this.lastLoginAt),this.creationTime=zn(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cn(v){return vs.apply(this,arguments)}function vs(){return(vs=(0,s.Z)(function*(v){var m;const g=v.auth,w=yield v.getIdToken(),A=yield Di(v,_s(g,{idToken:w}));z(A?.users.length,g,"internal-error");const R=A.users[0];v._notifyReloadListener(R);const q=null!==(m=R.providerUserInfo)&&void 0!==m&&m.length?H(R.providerUserInfo):[],de=Z(v.providerData,q),mt=!!v.isAnonymous&&!(v.email&&R.passwordHash||de?.length),ct={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:de,metadata:new fo(R.createdAt,R.lastLoginAt),isAnonymous:mt};Object.assign(v,ct)})).apply(this,arguments)}function Q(){return(Q=(0,s.Z)(function*(v){const m=(0,L.m9)(v);yield cn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Z(v,m){return[...v.filter(w=>!m.some(A=>A.providerId===w.providerId)),...m]}function H(v){return v.map(m=>{var{providerId:g}=m,w=(0,ae._T)(m,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function K(){return(K=(0,s.Z)(function*(v,m){const g=yield Ar(v,{},(0,s.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:A,apiKey:R}=v.config,q=Fs(v,A,"/v1/token",`key=${R}`),de=yield v._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",an.fetch()(q,{method:"POST",headers:de,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){z(m.idToken,"internal-error"),z(typeof m.idToken<"u","internal-error"),z(typeof m.refreshToken<"u","internal-error");const g="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Ba(v){const m=Xe(v);return z(m,"internal-error"),z(typeof m.exp<"u","internal-error"),z(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,g)}getToken(m,g=!1){var w=this;return(0,s.Z)(function*(){return z(!w.accessToken||w.refreshToken,m,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,g){var w=this;return(0,s.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:q}=yield function Y(v,m){return K.apply(this,arguments)}(m,g);w.updateTokensAndExpiration(A,R,Number(q))})()}updateTokensAndExpiration(m,g,w){this.refreshToken=g||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,g){const{refreshToken:w,accessToken:A,expirationTime:R}=g,q=new xe;return w&&(z("string"==typeof w,"internal-error",{appName:m}),q.refreshToken=w),A&&(z("string"==typeof A,"internal-error",{appName:m}),q.accessToken=A),R&&(z("number"==typeof R,"internal-error",{appName:m}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new xe,this.toJSON())}_performRefresh(){return ye("not implemented")}}function je(v,m){z("string"==typeof v||typeof v>"u","internal-error",{appName:m})}class gt{constructor(m){var{uid:g,auth:w,stsTokenManager:A}=m,R=(0,ae._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new si(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new fo(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(m){var g=this;return(0,s.Z)(function*(){const w=yield Di(g,g.stsTokenManager.getToken(g.auth,m));return z(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(m){return function ho(v){return In.apply(this,arguments)}(this,m)}reload(){return function qt(v){return Q.apply(this,arguments)}(this)}_assign(m){this!==m&&(z(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(g=>Object.assign({},g)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new gt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,g=!1){var w=this;return(0,s.Z)(function*(){let A=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),A=!0),g&&(yield cn(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,s.Z)(function*(){const g=yield m.getIdToken();return yield Di(m,function wt(v,m){return Tn.apply(this,arguments)}(m.auth,{idToken:g})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,g){var w,A,R,q,de,Be,it,mt;const ct=null!==(w=g.displayName)&&void 0!==w?w:void 0,Gt=null!==(A=g.email)&&void 0!==A?A:void 0,Ri=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,bd=null!==(q=g.photoURL)&&void 0!==q?q:void 0,ba=null!==(de=g.tenantId)&&void 0!==de?de:void 0,_c=null!==(Be=g._redirectEventId)&&void 0!==Be?Be:void 0,qp=null!==(it=g.createdAt)&&void 0!==it?it:void 0,Gp=null!==(mt=g.lastLoginAt)&&void 0!==mt?mt:void 0,{uid:yl,emailVerified:uu,isAnonymous:$t,providerData:wd,stsTokenManager:du}=g;z(yl&&du,m,"internal-error");const OD=xe.fromJSON(this.name,du);z("string"==typeof yl,m,"internal-error"),je(ct,m.name),je(Gt,m.name),z("boolean"==typeof uu,m,"internal-error"),z("boolean"==typeof $t,m,"internal-error"),je(Ri,m.name),je(bd,m.name),je(ba,m.name),je(_c,m.name),je(qp,m.name),je(Gp,m.name);const S_=new gt({uid:yl,auth:m,email:Gt,emailVerified:uu,displayName:ct,isAnonymous:$t,photoURL:bd,phoneNumber:Ri,tenantId:ba,stsTokenManager:OD,createdAt:qp,lastLoginAt:Gp});return wd&&Array.isArray(wd)&&(S_.providerData=wd.map(wa=>Object.assign({},wa))),_c&&(S_._redirectEventId=_c),S_}static _fromIdTokenResponse(m,g,w=!1){return(0,s.Z)(function*(){const A=new xe;A.updateFromServerResponse(g);const R=new gt({uid:g.localId,auth:m,stsTokenManager:A,isAnonymous:w});return yield cn(R),R})()}}const un=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(g,w){var A=this;return(0,s.Z)(function*(){A.storage[g]=w})()}_get(g){var w=this;return(0,s.Z)(function*(){const A=w.storage[g];return void 0===A?null:A})()}_remove(g){var w=this;return(0,s.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return v.type="NONE",v})();function ui(v,m,g){return`firebase:${v}:${m}:${g}`}class at{constructor(m,g,w){this.persistence=m,this.auth=g,this.userKey=w;const{config:A,name:R}=this.auth;this.fullUserKey=ui(this.userKey,A.apiKey,R),this.fullPersistenceKey=ui("persistence",A.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,s.Z)(function*(){const g=yield m.persistence._get(m.fullUserKey);return g?gt._fromJSON(m.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var g=this;return(0,s.Z)(function*(){if(g.persistence===m)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=m,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,g,w="authUser"){return(0,s.Z)(function*(){if(!g.length)return new at(ce(un),m,w);const A=(yield Promise.all(g.map(function(){var it=(0,s.Z)(function*(mt){if(yield mt._isAvailable())return mt});return function(mt){return it.apply(this,arguments)}}()))).filter(it=>it);let R=A[0]||ce(un);const q=ui(w,m.config.apiKey,m.name);let de=null;for(const it of g)try{const mt=yield it._get(q);if(mt){const ct=gt._fromJSON(m,mt);it!==R&&(de=ct),R=it;break}}catch{}const Be=A.filter(it=>it._shouldAllowMigration);return R._shouldAllowMigration&&Be.length?(R=Be[0],de&&(yield R._set(q,de.toJSON())),yield Promise.all(g.map(function(){var it=(0,s.Z)(function*(mt){if(mt!==R)try{yield mt._remove(q)}catch{}});return function(mt){return it.apply(this,arguments)}}())),new at(R,m,w)):new at(R,m,w)})()}}function En(v){const m=v.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Qe(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(On(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(_n(m))return"Blackberry";if(Kn(m))return"Webos";if(Ei(m))return"Safari";if((m.includes("chrome/")||Li(m))&&!m.includes("edge/"))return"Chrome";if(Tt(m))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function On(v=(0,L.z$)()){return/firefox\//i.test(v)}function Ei(v=(0,L.z$)()){const m=v.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Li(v=(0,L.z$)()){return/crios\//i.test(v)}function Qe(v=(0,L.z$)()){return/iemobile/i.test(v)}function Tt(v=(0,L.z$)()){return/android/i.test(v)}function _n(v=(0,L.z$)()){return/blackberry/i.test(v)}function Kn(v=(0,L.z$)()){return/webos/i.test(v)}function kr(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function jl(v=(0,L.z$)()){return kr(v)||Tt(v)||Kn(v)||_n(v)||/windows phone/i.test(v)||Qe(v)}function Pt(v,m=[]){let g;switch(v){case"Browser":g=En((0,L.z$)());break;case"Worker":g=`${En((0,L.z$)())}-${v}`;break;default:g=v}const w=m.length?m.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${w}`}class zl{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,g){const w=R=>new Promise((q,de)=>{try{q(m(R))}catch(Be){de(Be)}});w.onAbort=g,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(m){var g=this;return(0,s.Z)(function*(){var w;if(g.auth.currentUser===m)return;const A=[];try{for(const R of g.queue)yield R(m),R.onAbort&&A.push(R.onAbort)}catch(R){A.reverse();for(const q of A)try{q()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=R)||void 0===w?void 0:w.message})}})()}}class Ua{constructor(m,g,w){this.app=m,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mo(this),this.idTokenSubscription=new mo(this),this.beforeStateQueue=new zl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ve,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(m,g){var w=this;return g&&(this._popupRedirectResolver=ce(g)),this._initializationPromise=this.queue((0,s.Z)(function*(){var A,R;if(!w._deleted&&(w.persistenceManager=yield at.create(w,m),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,s.Z)(function*(){if(m._deleted)return;const g=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||g){if(m.currentUser&&g&&m.currentUser.uid===g.uid)return m._currentUser._assign(g),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(g,!0)}})()}initializeCurrentUser(m){var g=this;return(0,s.Z)(function*(){var w;const A=yield g.assertedPersistence.getCurrentUser();let R=A,q=!1;if(m&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const de=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Be=R?._redirectEventId,it=yield g.tryRedirectSignIn(m);(!de||de===Be)&&it?.user&&(R=it.user,q=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(q)try{yield g.beforeStateQueue.runMiddleware(R)}catch(de){R=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(de))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return z(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(m){var g=this;return(0,s.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,m,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var g=this;return(0,s.Z)(function*(){var w;try{yield cn(m)}catch(A){if("auth/network-request-failed"!==(null===(w=A)||void 0===w?void 0:w.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Ke(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var m=this;return(0,s.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var g=this;return(0,s.Z)(function*(){const w=m?(0,L.m9)(m):null;return w&&z(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(m,g=!1){var w=this;return(0,s.Z)(function*(){if(!w._deleted)return m&&z(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,s.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,s.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var g=this;return this.queue((0,s.Z)(function*(){yield g.assertedPersistence.setPersistence(ce(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new L.LL("auth","Firebase",m())}onAuthStateChanged(m,g,w){return this.registerStateListener(this.authStateSubscription,m,g,w)}beforeAuthStateChanged(m,g){return this.beforeStateQueue.pushCallback(m,g)}onIdTokenChanged(m,g,w){return this.registerStateListener(this.idTokenSubscription,m,g,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,g){var w=this;return(0,s.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(g);return null===m?A.removeCurrentUser():A.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var g=this;return(0,s.Z)(function*(){if(!g.redirectPersistenceManager){const w=m&&ce(m)||g._popupRedirectResolver;z(w,g,"argument-error"),g.redirectPersistenceManager=yield at.create(g,[ce(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(m){var g=this;return(0,s.Z)(function*(){var w,A;return g._isInitialized&&(yield g.queue((0,s.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===m?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===m?g.redirectUser:null})()}_persistUserIfCurrent(m){var g=this;return(0,s.Z)(function*(){if(m===g.currentUser)return g.queue((0,s.Z)(function*(){return g.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,g,w,A){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return z(q,this,"internal-error"),q.then(()=>R(this.currentUser)),"function"==typeof g?m.addObserver(g,w,A):m.addObserver(g)}directlySetCurrentUser(m){var g=this;return(0,s.Z)(function*(){g.currentUser&&g.currentUser!==m&&(g._currentUser._stopProactiveRefresh(),m&&g.isProactiveRefreshEnabled&&m._startProactiveRefresh()),g.currentUser=m,m?yield g.assertedPersistence.setCurrentUser(m):yield g.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Pt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,s.Z)(function*(){var g;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const A=yield null===(g=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function Vn(v){return(0,L.m9)(v)}class mo{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function go(v){const m=v.indexOf(":");return m<0?"":v.substr(0,m+1)}function lr(v){if(!v)return null;const m=Number(v);return isNaN(m)?null:m}class Xo{constructor(m,g){this.providerId=m,this.signInMethod=g}toJSON(){return ye("not implemented")}_getIdTokenResponse(m){return ye("not implemented")}_linkToIdToken(m,g){return ye("not implemented")}_getReauthenticationResolver(m){return ye("not implemented")}}function Ht(v,m){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,s.Z)(function*(v,m){return wn(v,"POST","/v1/accounts:resetPassword",Vt(v,m))})).apply(this,arguments)}function ea(v,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,s.Z)(function*(v,m){return wn(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ql(v,m){return yo.apply(this,arguments)}function yo(){return(yo=(0,s.Z)(function*(v,m){return wn(v,"POST","/v1/accounts:update",Vt(v,m))})).apply(this,arguments)}function di(){return(di=(0,s.Z)(function*(v,m){return ar(v,"POST","/v1/accounts:signInWithPassword",Vt(v,m))})).apply(this,arguments)}function Qn(v,m){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,s.Z)(function*(v,m){return wn(v,"POST","/v1/accounts:sendOobCode",Vt(v,m))})).apply(this,arguments)}function dn(v,m){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,s.Z)(function*(v,m){return Qn(v,m)})).apply(this,arguments)}function za(v,m){return ta.apply(this,arguments)}function ta(){return(ta=(0,s.Z)(function*(v,m){return Qn(v,m)})).apply(this,arguments)}function Vs(v,m){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,s.Z)(function*(v,m){return Qn(v,m)})).apply(this,arguments)}function pp(v,m){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,s.Z)(function*(v,m){return Qn(v,m)})).apply(this,arguments)}function $u(){return($u=(0,s.Z)(function*(v,m){return ar(v,"POST","/v1/accounts:signInWithEmailLink",Vt(v,m))})).apply(this,arguments)}function yh(){return(yh=(0,s.Z)(function*(v,m){return ar(v,"POST","/v1/accounts:signInWithEmailLink",Vt(v,m))})).apply(this,arguments)}class Zu extends Xo{constructor(m,g,w,A=null){super("password",w),this._email=m,this._password=g,this._tenantId=A}static _fromEmailAndPassword(m,g){return new Zu(m,g,"password")}static _fromEmailAndCode(m,g,w=null){return new Zu(m,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(m){var g=this;return(0,s.Z)(function*(){switch(g.signInMethod){case"password":return function ja(v,m){return di.apply(this,arguments)}(m,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function mp(v,m){return $u.apply(this,arguments)}(m,{email:g._email,oobCode:g._password});default:Ae(m,"internal-error")}})()}_linkToIdToken(m,g){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return ea(m,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function _h(v,m){return yh.apply(this,arguments)}(m,{idToken:g,email:w._email,oobCode:w._password});default:Ae(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function hi(v,m){return vh.apply(this,arguments)}function vh(){return(vh=(0,s.Z)(function*(v,m){return ar(v,"POST","/v1/accounts:signInWithIdp",Vt(v,m))})).apply(this,arguments)}class Bs extends Xo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const g=new Bs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(g.idToken=m.idToken),m.accessToken&&(g.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(g.nonce=m.nonce),m.pendingToken&&(g.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(g.accessToken=m.oauthToken,g.secret=m.oauthTokenSecret):Ae("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:A}=g,R=(0,ae._T)(g,["providerId","signInMethod"]);if(!w||!A)return null;const q=new Bs(w,A);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(m){return hi(m,this.buildRequest())}_linkToIdToken(m,g){const w=this.buildRequest();return w.idToken=g,hi(m,w)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,hi(m,g)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),m.postBody=(0,L.xO)(g)}return m}}function Kg(v,m){return qa.apply(this,arguments)}function qa(){return(qa=(0,s.Z)(function*(v,m){return wn(v,"POST","/v1/accounts:sendVerificationCode",Vt(v,m))})).apply(this,arguments)}function vo(){return(vo=(0,s.Z)(function*(v,m){return ar(v,"POST","/v1/accounts:signInWithPhoneNumber",Vt(v,m))})).apply(this,arguments)}function bh(){return(bh=(0,s.Z)(function*(v,m){const g=yield ar(v,"POST","/v1/accounts:signInWithPhoneNumber",Vt(v,m));if(g.temporaryProof)throw ts(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Jg={USER_NOT_FOUND:"user-not-found"};function $l(){return($l=(0,s.Z)(function*(v,m){return ar(v,"POST","/v1/accounts:signInWithPhoneNumber",Vt(v,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Jg)})).apply(this,arguments)}class Ga extends Xo{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,g){return new Ga({verificationId:m,verificationCode:g})}static _fromTokenResponse(m,g){return new Ga({phoneNumber:m,temporaryProof:g})}_getIdTokenResponse(m){return function Yu(v,m){return vo.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,g){return function Qg(v,m){return bh.apply(this,arguments)}(m,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function na(v,m){return $l.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:g,verificationId:w,verificationCode:A}=this.params;return m&&g?{temporaryProof:m,phoneNumber:g}:{sessionInfo:w,code:A}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:R}=m;return w||g||A||R?new Ga({verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:R}):null}}class rs{constructor(m){var g,w,A,R,q,de;const Be=(0,L.zd)((0,L.pd)(m)),it=null!==(g=Be.apiKey)&&void 0!==g?g:null,mt=null!==(w=Be.oobCode)&&void 0!==w?w:null,ct=function Jv(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Be.mode)&&void 0!==A?A:null);z(it&&mt&&ct,"argument-error"),this.apiKey=it,this.operation=ct,this.code=mt,this.continueUrl=null!==(R=Be.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=Be.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(de=Be.tenantId)&&void 0!==de?de:null}static parseLink(m){const g=function wh(v){const m=(0,L.zd)((0,L.pd)(v)).link,g=m?(0,L.zd)((0,L.pd)(m)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||g||m||v}(m);try{return new rs(g)}catch{return null}}}let $a=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,w){return Zu._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const A=rs.parseLink(w);return z(A,"argument-error"),Zu._fromEmailAndCode(g,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class bs{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ia extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Za extends ia{static credentialFromJSON(m){const g="string"==typeof m?JSON.parse(m):m;return z("providerId"in g&&"signInMethod"in g,"argument-error"),Bs._fromParams(g)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return z(m.idToken||m.accessToken,"argument-error"),Bs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Za.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Za.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:R,nonce:q,providerId:de}=m;if(!w&&!A&&!g&&!R||!de)return null;try{return new Za(de)._credential({idToken:g,accessToken:w,nonce:q,pendingToken:R})}catch{return null}}}let Ya=(()=>{class v extends ia{constructor(){super("facebook.com")}static credential(g){return Bs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Zl=(()=>{class v extends ia{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Bs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:A}=g;if(!w&&!A)return null;try{return v.credential(w,A)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Dh=(()=>{class v extends ia{constructor(){super("github.com")}static credential(g){return Bs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class cr extends Xo{constructor(m,g){super(m,m),this.pendingToken=g}_getIdTokenResponse(m){return hi(m,this.buildRequest())}_linkToIdToken(m,g){const w=this.buildRequest();return w.idToken=g,hi(m,w)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,hi(m,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:A,pendingToken:R}=g;return w&&A&&R&&w===A?new cr(w,R):null}static _create(m,g){return new cr(m,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ur extends bs{constructor(m){z(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return ur.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return ur.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const g=cr.fromJSON(m);return z(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:g,providerId:w}=m;if(!g||!w)return null;try{return cr._create(w,g)}catch{return null}}}let Sh=(()=>{class v extends ia{constructor(){super("twitter.com")}static credential(g,w){return Bs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=g;if(!w||!A)return null;try{return v.credential(w,A)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Wa(v,m){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,s.Z)(function*(v,m){return ar(v,"POST","/v1/accounts:signUp",Vt(v,m))})).apply(this,arguments)}class dr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,g,w,A=!1){return(0,s.Z)(function*(){const R=yield gt._fromIdTokenResponse(m,w,A),q=Jn(w);return new dr({user:R,providerId:q,_tokenResponse:w,operationType:g})})()}static _forOperation(m,g,w){return(0,s.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const A=Jn(w);return new dr({user:m,providerId:A,_tokenResponse:w,operationType:g})})()}}function Jn(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function gp(){return(gp=(0,s.Z)(function*(v){var m;const g=Vn(v);if(yield g._initializationPromise,null!==(m=g.currentUser)&&void 0!==m&&m.isAnonymous)return new dr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Wa(g,{returnSecureToken:!0}),A=yield dr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class ra extends L.ZR{constructor(m,g,w,A){var R;super(g.code,g.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,ra.prototype),this.customData={appName:m.name,tenantId:null!==(R=m.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,g,w,A){return new ra(m,g,w,A)}}function Dr(v,m,g,w){return("reauthenticate"===m?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?ra._fromErrorAndOperation(v,R,m,w):R})}function Us(v){return new Set(v.map(({providerId:m})=>m).filter(m=>!!m))}function Hs(){return(Hs=(0,s.Z)(function*(v,m){const g=(0,L.m9)(v);yield ss(!0,g,m);const{providerUserInfo:w}=yield ns(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[m]}),A=Us(w||[]);return g.providerData=g.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ui(v,m){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,s.Z)(function*(v,m,g=!1){const w=yield Di(v,m._linkToIdToken(v.auth,yield v.getIdToken()),g);return dr._forOperation(v,"link",w)})).apply(this,arguments)}function ss(v,m,g){return js.apply(this,arguments)}function js(){return(js=(0,s.Z)(function*(v,m,g){yield cn(m);const A=!1===v?"provider-already-linked":"no-such-provider";z(Us(m.providerData).has(g)===v,m.auth,A)})).apply(this,arguments)}function zs(v,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,s.Z)(function*(v,m,g=!1){var w;const{auth:A}=v,R="reauthenticate";try{const q=yield Di(v,Dr(A,R,m,v),g);z(q.idToken,A,"internal-error");const de=Xe(q.idToken);z(de,A,"internal-error");const{sub:Be}=de;return z(v.uid===Be,A,"user-mismatch"),dr._forOperation(v,R,q)}catch(q){throw"auth/user-not-found"===(null===(w=q)||void 0===w?void 0:w.code)&&Ae(A,"user-mismatch"),q}})).apply(this,arguments)}function Qa(v,m){return It.apply(this,arguments)}function It(){return(It=(0,s.Z)(function*(v,m,g=!1){const w="signIn",A=yield Dr(v,w,m),R=yield dr._fromIdTokenResponse(v,w,A);return g||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function qn(v,m){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,s.Z)(function*(v,m){return Qa(Vn(v),m)})).apply(this,arguments)}function Uc(v,m){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,s.Z)(function*(v,m){const g=(0,L.m9)(v);return yield ss(!1,g,m.providerId),Ui(g,m)})).apply(this,arguments)}function sa(v,m){return bo.apply(this,arguments)}function bo(){return(bo=(0,s.Z)(function*(v,m){return zs((0,L.m9)(v),m)})).apply(this,arguments)}function Hc(v,m){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,s.Z)(function*(v,m){return ar(v,"POST","/v1/accounts:signInWithCustomToken",Vt(v,m))})).apply(this,arguments)}function jt(){return(jt=(0,s.Z)(function*(v,m){const g=Vn(v),w=yield Hc(g,{token:m,returnSecureToken:!0}),A=yield dr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class wo{constructor(m,g){this.factorId=m,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(m,g){return"phoneInfo"in g?Xa._fromServerResponse(m,g):Ae(m,"internal-error")}}class Xa extends wo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,g){return new Xa(g)}}function Pn(v,m,g){var w;z((null===(w=g.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),z(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),m.continueUrl=g.url,m.dynamicLinkDomain=g.dynamicLinkDomain,m.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(z(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),m.iOSBundleId=g.iOS.bundleId),g.android&&(z(g.android.packageName.length>0,v,"missing-android-pkg-name"),m.androidInstallApp=g.android.installApp,m.androidMinimumVersionCode=g.android.minimumVersion,m.androidPackageName=g.android.packageName)}function Co(){return(Co=(0,s.Z)(function*(v,m,g){const w=(0,L.m9)(v),A={requestType:"PASSWORD_RESET",email:m};g&&Pn(w,A,g),yield za(w,A)})).apply(this,arguments)}function Kl(){return(Kl=(0,s.Z)(function*(v,m,g){yield Ht((0,L.m9)(v),{oobCode:m,newPassword:g})})).apply(this,arguments)}function el(){return(el=(0,s.Z)(function*(v,m){yield ql((0,L.m9)(v),{oobCode:m})})).apply(this,arguments)}function Jl(v,m){return _p.apply(this,arguments)}function _p(){return(_p=(0,s.Z)(function*(v,m){const g=(0,L.m9)(v),w=yield Ht(g,{oobCode:m}),A=w.requestType;switch(z(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(w.mfaInfo,g,"internal-error");default:z(w.email,g,"internal-error")}let R=null;return w.mfaInfo&&(R=wo._fromServerResponse(Vn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function oi(){return(oi=(0,s.Z)(function*(v,m){const{data:g}=yield Jl((0,L.m9)(v),m);return g.email})).apply(this,arguments)}function Xl(){return(Xl=(0,s.Z)(function*(v,m,g){const w=Vn(v),A=yield Wa(w,{returnSecureToken:!0,email:m,password:g}),R=yield dr._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Qu(){return(Qu=(0,s.Z)(function*(v,m,g){const w=(0,L.m9)(v),A={requestType:"EMAIL_SIGNIN",email:m};z(g.handleCodeInApp,w,"argument-error"),g&&Pn(w,A,g),yield Vs(w,A)})).apply(this,arguments)}function ec(){return(ec=(0,s.Z)(function*(v,m,g){const w=(0,L.m9)(v),A=$a.credentialWithLink(m,g||Ne());return z(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),qn(w,A)})).apply(this,arguments)}function Xu(v,m){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(v,m){return wn(v,"POST","/v1/accounts:createAuthUri",Vt(v,m))})).apply(this,arguments)}function tc(){return(tc=(0,s.Z)(function*(v,m){const w={identifier:m,continueUri:yt()?Ne():"http://localhost"},{signinMethods:A}=yield Xu((0,L.m9)(v),w);return A||[]})).apply(this,arguments)}function tl(){return(tl=(0,s.Z)(function*(v,m){const g=(0,L.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};m&&Pn(g.auth,A,m);const{email:R}=yield dn(g.auth,A);R!==v.email&&(yield v.reload())})).apply(this,arguments)}function qc(){return(qc=(0,s.Z)(function*(v,m,g){const w=(0,L.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:m};g&&Pn(w.auth,R,g);const{email:q}=yield pp(w.auth,R);q!==v.email&&(yield v.reload())})).apply(this,arguments)}function Gc(v,m){return $c.apply(this,arguments)}function $c(){return($c=(0,s.Z)(function*(v,m){return wn(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function nl(){return(nl=(0,s.Z)(function*(v,{displayName:m,photoURL:g}){if(void 0===m&&void 0===g)return;const w=(0,L.m9)(v),R={idToken:yield w.getIdToken(),displayName:m,photoUrl:g,returnSecureToken:!0},q=yield Di(w,Gc(w.auth,R));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const de=w.providerData.find(({providerId:Be})=>"password"===Be);de&&(de.displayName=w.displayName,de.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)})).apply(this,arguments)}function pi(v,m,g){return Or.apply(this,arguments)}function Or(){return(Or=(0,s.Z)(function*(v,m,g){const{auth:w}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};m&&(R.email=m),g&&(R.password=g);const q=yield Di(v,ea(w,R));yield v._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class il{constructor(m,g,w={}){this.isNewUser=m,this.providerId=g,this.profile=w}}class Ah extends il{constructor(m,g,w,A){super(m,g,w),this.username=A}}class Mh extends il{constructor(m,g){super(m,"facebook.com",g)}}class td extends Ah{constructor(m,g){super(m,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class kh extends il{constructor(m,g){super(m,"google.com",g)}}class nd extends Ah{constructor(m,g,w){super(m,"twitter.com",g,w)}}function Wc(v){const{user:m,_tokenResponse:g}=v;return m.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Nn(v){var m,g;if(!v)return null;const{providerId:w}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const q=null===(g=null===(m=Xe(v.idToken))||void 0===m?void 0:m.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new il(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new Mh(R,A);case"github.com":return new td(R,A);case"google.com":return new kh(R,A);case"twitter.com":return new nd(R,A,v.screenName||null);case"custom":case"anonymous":return new il(R,null);default:return new il(R,w,A)}}(g)}class Ds{constructor(m,g){this.type=m,this.credential=g}static _fromIdtoken(m){return new Ds("enroll",m)}static _fromMfaPendingCredential(m){return new Ds("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var g,w;if(m?.multiFactorSession){if(null!==(g=m.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ds._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.idToken)return Ds._fromIdtoken(m.multiFactorSession.idToken)}return null}}class ic{constructor(m,g,w){this.session=m,this.hints=g,this.signInResolver=w}static _fromError(m,g){const w=Vn(m),A=g.customData._serverResponse,R=(A.mfaInfo||[]).map(de=>wo._fromServerResponse(w,de));z(A.mfaPendingCredential,w,"internal-error");const q=Ds._fromMfaPendingCredential(A.mfaPendingCredential);return new ic(q,R,function(){var de=(0,s.Z)(function*(Be){const it=yield Be._process(w,q);delete A.mfaInfo,delete A.mfaPendingCredential;const mt=Object.assign(Object.assign({},A),{idToken:it.idToken,refreshToken:it.refreshToken});switch(g.operationType){case"signIn":const ct=yield dr._fromIdTokenResponse(w,g.operationType,mt);return yield w._updateCurrentUser(ct.user),ct;case"reauthenticate":return z(g.user,w,"internal-error"),dr._forOperation(g.user,g.operationType,mt);default:Ae(w,"internal-error")}});return function(Be){return de.apply(this,arguments)}}())}resolveSignIn(m){var g=this;return(0,s.Z)(function*(){return g.signInResolver(m)})()}}function Cp(v,m){return wn(v,"POST","/v2/accounts/mfaEnrollment:start",Vt(v,m))}class rc{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>wo._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new rc(m)}getSession(){var m=this;return(0,s.Z)(function*(){return Ds._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,g){var w=this;return(0,s.Z)(function*(){const A=m,R=yield w.getSession(),q=yield Di(w.user,A._process(w.user.auth,R,g));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(m){var g=this;return(0,s.Z)(function*(){var w;const A="string"==typeof m?m:m.uid,R=yield g.user.getIdToken(),q=yield Di(g.user,function tb(v,m){return wn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(v,m))}(g.user.auth,{idToken:R,mfaEnrollmentId:A}));g.enrolledFactors=g.enrolledFactors.filter(({uid:de})=>de!==A),yield g.user._updateTokensIfNecessary(q);try{yield g.user.reload()}catch(de){if("auth/user-token-expired"!==(null===(w=de)||void 0===w?void 0:w.code))throw de}})()}}const sc=new WeakMap,Do="__sak";class Ph{constructor(m,g){this.storageRetriever=m,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Do,"1"),this.storage.removeItem(Do),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,g){return this.storage.setItem(m,JSON.stringify(g)),Promise.resolve()}_get(m){const g=this.storage.getItem(m);return Promise.resolve(g?JSON.parse(g):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Eo=(()=>{class v extends Ph{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dp(){const v=(0,L.z$)();return Ei(v)||kr(v)}()&&function po(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jl(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),R=this.localCache[w];A!==R&&g(w,R,A)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((de,Be,it)=>{this.notifyListeners(de,it)});const A=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(A);if(g.newValue!==de)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!w)return}const R=()=>{const de=this.storage.getItem(A);!w&&this.localCache[A]===de||this.notifyListeners(A,de)},q=this.storage.getItem(A);!function Ln(){return(0,L.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var A=()=>super._set,R=this;return(0,s.Z)(function*(){yield A().call(R,g,w),R.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,A=this;return(0,s.Z)(function*(){const R=yield w().call(A,g);return A.localCache[g]=JSON.stringify(R),R})()}_remove(g){var w=()=>super._remove,A=this;return(0,s.Z)(function*(){yield w().call(A,g),delete A.localCache[g]})()}}return v.type="LOCAL",v})(),So=(()=>{class v extends Ph{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return v.type="SESSION",v})();let dt=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(R=>R.isListeningto(g));if(w)return w;const A=new v(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,s.Z)(function*(){const A=g,{eventId:R,eventType:q,data:de}=A.data,Be=w.handlersMap[q];if(!Be?.size)return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const it=Array.from(Be).map(function(){var ct=(0,s.Z)(function*(Gt){return Gt(A.origin,de)});return function(Gt){return ct.apply(this,arguments)}}()),mt=yield function Nh(v){return Promise.all(v.map(function(){var m=(0,s.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return m.apply(this,arguments)}}()))}(it);A.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:mt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Fn(v="",m=10){let g="";for(let w=0;w<m;w++)g+=Math.floor(10*Math.random());return v+g}class Pr{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,g,w=50){var A=this;return(0,s.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,de;return new Promise((Be,it)=>{const mt=Fn("",20);R.port1.start();const ct=setTimeout(()=>{it(new Error("unsupported_event"))},w);de={messageChannel:R,onMessage(Gt){const Ri=Gt;if(Ri.data.eventId===mt)switch(Ri.data.status){case"ack":clearTimeout(ct),q=setTimeout(()=>{it(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Be(Ri.data.response);break;default:clearTimeout(ct),clearTimeout(q),it(new Error("invalid_response"))}}},A.handlers.add(de),R.port1.addEventListener("message",de.onMessage),A.target.postMessage({eventType:m,eventId:mt,data:g},[R.port2])}).finally(()=>{de&&A.removeMessageHandler(de)})})()}}function ai(){return window}function sl(){return typeof ai().WorkerGlobalScope<"u"&&"function"==typeof ai().importScripts}function al(){return(al=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const hn="firebaseLocalStorageDb",da="firebaseLocalStorage",rd="fbase_key";class Zs{constructor(m){this.request=m}toPromise(){return new Promise((m,g)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function To(v,m){return v.transaction([da],m?"readwrite":"readonly").objectStore(da)}function Kc(){const v=indexedDB.open(hn,1);return new Promise((m,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(da,{keyPath:rd})}catch(A){g(A)}}),v.addEventListener("success",(0,s.Z)(function*(){const w=v.result;w.objectStoreNames.contains(da)?m(w):(w.close(),yield function Io(){const v=indexedDB.deleteDatabase(hn);return new Zs(v).toPromise()}(),m(yield Kc()))}))})}function os(v,m,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,s.Z)(function*(v,m,g){const w=To(v,!0).put({[rd]:m,value:g});return new Zs(w).toPromise()})).apply(this,arguments)}function ll(){return(ll=(0,s.Z)(function*(v,m){const g=To(v,!1).get(m),w=yield new Zs(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Qc(v,m){const g=To(v,!0).delete(m);return new Zs(g).toPromise()}const Ao=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,s.Z)(function*(){return g.db||(g.db=yield Kc()),g.db})()}_withRetries(g){var w=this;return(0,s.Z)(function*(){let A=0;for(;;)try{const R=yield w._openDb();return yield g(R)}catch(R){if(A++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,s.Z)(function*(){return sl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,s.Z)(function*(){g.receiver=dt._getInstance(function ua(){return sl()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(A,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(A,R){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,s.Z)(function*(){var w,A;if(g.activeServiceWorker=yield function ol(){return al.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Pr(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=R[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Er(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Kc();return yield os(g,Do,"1"),yield Qc(g,Do),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var A=this;return(0,s.Z)(function*(){return A._withPendingWrite((0,s.Z)(function*(){return yield A._withRetries(R=>os(R,g,w)),A.localCache[g]=w,A.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,s.Z)(function*(){const A=yield w._withRetries(R=>function xo(v,m){return ll.apply(this,arguments)}(R,g));return w.localCache[g]=A,A})()}_remove(g){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(A=>Qc(A,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,s.Z)(function*(){const w=yield g._withRetries(q=>{const de=To(q,!1).getAll();return new Zs(de).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:q,value:de}of w)R.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(de)&&(g.notifyListeners(q,de),A.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!R.has(q)&&(g.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Qi(v,m){return wn(v,"POST","/v2/accounts/mfaSignIn:start",Vt(v,m))}function Nr(){return(Nr=(0,s.Z)(function*(v){return(yield wn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function lt(v){return new Promise((m,g)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=m,w.onerror=A=>{const R=we("internal-error");R.customData=A,g(R)},w.type="text/javascript",w.charset="UTF-8",function Xc(){var v,m;return null!==(m=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==m?m:document}().appendChild(w)})}function sd(v){return`__${v}${Math.floor(1e6*Math.random())}`}const cl=1e12;class e_{constructor(m){this.auth=m,this.counter=cl,this._widgets=new Map}render(m,g){const w=this.counter;return this._widgets.set(w,new Sp(m,this.auth.name,g||{})),this.counter++,w}reset(m){var g;const w=m||cl;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(m){var g;return(null===(g=this._widgets.get(m||cl))||void 0===g?void 0:g.getResponse())||""}execute(m){var g=this;return(0,s.Z)(function*(){var w;return null===(w=g._widgets.get(m||cl))||void 0===w||w.execute(),""})()}}class Sp{constructor(m,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof m?document.getElementById(m):m;z(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Tp(v){const m=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)m.push(g.charAt(Math.floor(Math.random()*g.length)));return m.join("")}(50);const{callback:m,"expired-callback":g}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fh=sd("rcb"),ad=new bn(3e4,6e4);class Mo{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=ai().grecaptcha)||void 0===m||!m.render)}load(m,g=""){return z(function t_(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),m,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(ai().grecaptcha):new Promise((w,A)=>{const R=ai().setTimeout(()=>{A(we(m,"network-request-failed"))},ad.get());ai()[Fh]=()=>{ai().clearTimeout(R),delete ai()[Fh];const de=ai().grecaptcha;if(!de)return void A(we(m,"internal-error"));const Be=de.render;de.render=(it,mt)=>{const ct=Be(it,mt);return this.counter++,ct},this.hostLanguage=g,w(de)},lt(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Fh,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),A(we(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var g;return!(null===(g=ai().grecaptcha)||void 0===g||!g.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class n_{load(m){return(0,s.Z)(function*(){return new e_(m)})()}clearedOneInstance(){}}const li="recaptcha",ld={theme:"light",type:"image"};class ac{constructor(m,g=Object.assign({},ld),w){this.parameters=g,this.type=li,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vn(w),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof m?document.getElementById(m):m;z(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new n_:new Mo,this.validateStartingState()}verify(){var m=this;return(0,s.Z)(function*(){m.assertNotDestroyed();const g=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(g)||new Promise(R=>{const q=de=>{!de||(m.tokenChangeListeners.delete(q),R(de))};m.tokenChangeListeners.add(q),m.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof m)m(g);else if("string"==typeof m){const w=ai()[m];"function"==typeof w&&w(g)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,s.Z)(function*(){if(yield m.init(),!m.widgetId){let g=m.container;if(!m.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}m.widgetId=m.getAssertedRecaptcha().render(g,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,s.Z)(function*(){z(yt()&&!sl(),m.auth,"internal-error"),yield function Lh(){let v=null;return new Promise(m=>{"complete"!==document.readyState?(v=()=>m(),window.addEventListener("load",v)):m()}).catch(m=>{throw v&&window.removeEventListener("load",v),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const g=yield function sn(v){return Nr.apply(this,arguments)}(m.auth);z(g,m.auth,"internal-error"),m.parameters.sitekey=g})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cd{constructor(m,g){this.verificationId=m,this.onConfirmation=g}confirm(m){const g=Ga._fromVerification(this.verificationId,m);return this.onConfirmation(g)}}function Sr(){return(Sr=(0,s.Z)(function*(v,m,g){const w=Vn(v),A=yield lc(w,m,(0,L.m9)(g));return new cd(A,R=>qn(w,R))})).apply(this,arguments)}function fa(){return(fa=(0,s.Z)(function*(v,m,g){const w=(0,L.m9)(v);yield ss(!1,w,"phone");const A=yield lc(w.auth,m,(0,L.m9)(g));return new cd(A,R=>Uc(w,R))})).apply(this,arguments)}function ma(){return(ma=(0,s.Z)(function*(v,m,g){const w=(0,L.m9)(v),A=yield lc(w.auth,m,(0,L.m9)(g));return new cd(A,R=>sa(w,R))})).apply(this,arguments)}function lc(v,m,g){return eu.apply(this,arguments)}function eu(){return(eu=(0,s.Z)(function*(v,m,g){var w;const A=yield g.verify();try{let R;if(z("string"==typeof A,v,"argument-error"),z(g.type===li,v,"argument-error"),R="string"==typeof m?{phoneNumber:m}:m,"session"in R){const q=R.session;if("phoneNumber"in R)return z("enroll"===q.type,v,"internal-error"),(yield Cp(v,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{z("signin"===q.type,v,"internal-error");const de=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return z(de,v,"missing-multi-factor-info"),(yield Qi(v,{mfaPendingCredential:q.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Kg(v,{phoneNumber:R.phoneNumber,recaptchaToken:A});return q}}finally{g._reset()}})).apply(this,arguments)}function xi(){return(xi=(0,s.Z)(function*(v,m){yield Ui((0,L.m9)(v),m)})).apply(this,arguments)}let Ai=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Vn(g)}verifyPhoneNumber(g,w){return lc(this.auth,g,(0,L.m9)(w))}static credential(g,w){return Ga._fromVerification(g,w)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:A}=g;return w&&A?Ga._fromTokenResponse(w,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Gn(v,m){return m?ce(m):(z(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class tu extends Xo{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return hi(m,this._buildIdpRequest())}_linkToIdToken(m,g){return hi(m,this._buildIdpRequest(g))}_getReauthenticationResolver(m){return hi(m,this._buildIdpRequest())}_buildIdpRequest(m){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(g.idToken=m),g}}function cc(v){return Qa(v.auth,new tu(v),v.bypassAuthState)}function hr(v){const{auth:m,user:g}=v;return z(g,m,"internal-error"),zs(g,new tu(v),v.bypassAuthState)}function Ji(v){return ga.apply(this,arguments)}function ga(){return(ga=(0,s.Z)(function*(v){const{auth:m,user:g}=v;return z(g,m,"internal-error"),Ui(g,new tu(v),v.bypassAuthState)})).apply(this,arguments)}class _a{constructor(m,g,w,A,R=!1){this.auth=m,this.resolver=w,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var m=this;return new Promise(function(){var g=(0,s.Z)(function*(w,A){m.pendingPromise={resolve:w,reject:A};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(R){m.reject(R)}});return function(w,A){return g.apply(this,arguments)}}())}onAuthEvent(m){var g=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:R,tenantId:q,error:de,type:Be}=m;if(de)return void g.reject(de);const it={auth:g.auth,requestUri:w,sessionId:A,tenantId:q||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Be)(it))}catch(mt){g.reject(mt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return cc;case"linkViaPopup":case"linkViaRedirect":return Ji;case"reauthViaPopup":case"reauthViaRedirect":return hr;default:Ae(this.auth,"internal-error")}}resolve(m){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dd=new bn(2e3,1e4);function dc(){return(dc=(0,s.Z)(function*(v,m,g){const w=Vn(v);ze(v,m,bs);const A=Gn(w,g);return new ul(w,"signInViaPopup",m,A).executeNotNull()})).apply(this,arguments)}function hd(){return(hd=(0,s.Z)(function*(v,m,g){const w=(0,L.m9)(v);ze(w.auth,m,bs);const A=Gn(w.auth,g);return new ul(w.auth,"reauthViaPopup",m,A,w).executeNotNull()})).apply(this,arguments)}function xp(){return(xp=(0,s.Z)(function*(v,m,g){const w=(0,L.m9)(v);ze(w.auth,m,bs);const A=Gn(w.auth,g);return new ul(w.auth,"linkViaPopup",m,A,w).executeNotNull()})).apply(this,arguments)}let ul=(()=>{class v extends _a{constructor(g,w,A,R,q){super(g,w,R,q),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,s.Z)(function*(){const w=yield g.execute();return z(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,s.Z)(function*(){J(1===g.filter.length,"Popup operations only handle one event");const w=Fn();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(we(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,dd.get())};g()}}return v.currentPopupAction=null,v})();const ko=new Map;class Ap extends _a{constructor(m,g,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,g=this;return(0,s.Z)(function*(){let w=ko.get(g.auth._key());if(!w){try{const R=(yield function Bh(v,m){return Ys.apply(this,arguments)}(g.resolver,g.auth))?yield m().call(g):null;w=()=>Promise.resolve(R)}catch(A){w=()=>Promise.reject(A)}ko.set(g.auth._key(),w)}return g.bypassAuthState||ko.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var g=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===m.type)return g().call(w,m);if("unknown"!==m.type){if(m.eventId){const A=yield w.auth._redirectUserForId(m.eventId);if(A)return w.user=A,g().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Ys(){return(Ys=(0,s.Z)(function*(v,m){const g=Oo(m),w=xn(v);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(g));return yield w._remove(g),A})).apply(this,arguments)}function nu(v,m){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,s.Z)(function*(v,m){return xn(v)._set(Oo(m),"true")})).apply(this,arguments)}function dl(v,m){ko.set(v._key(),m)}function xn(v){return ce(v._redirectPersistence)}function Oo(v){return ui("pendingRedirect",v.config.apiKey,v.name)}function T(){return(T=(0,s.Z)(function*(v,m,g){const w=Vn(v);ze(v,m,bs);const A=Gn(w,g);return yield nu(A,w),A._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function U(){return(U=(0,s.Z)(function*(v,m,g){const w=(0,L.m9)(v);ze(w.auth,m,bs);const A=Gn(w.auth,g);yield nu(A,w.auth);const R=yield vt(w);return A._openRedirect(w.auth,m,"reauthViaRedirect",R)})).apply(this,arguments)}function Ie(){return(Ie=(0,s.Z)(function*(v,m,g){const w=(0,L.m9)(v);ze(w.auth,m,bs);const A=Gn(w.auth,g);yield ss(!1,w,m.providerId),yield nu(A,w.auth);const R=yield vt(w);return A._openRedirect(w.auth,m,"linkViaRedirect",R)})).apply(this,arguments)}function Ct(){return(Ct=(0,s.Z)(function*(v,m){return yield Vn(v)._initializationPromise,Rt(v,m,!1)})).apply(this,arguments)}function Rt(v,m){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,s.Z)(function*(v,m,g=!1){const w=Vn(v),A=Gn(w,m),q=yield new Ap(w,A,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,m)),q})).apply(this,arguments)}function vt(v){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,s.Z)(function*(v){const m=Fn(`${v.uid}:::`);return v._redirectEventId=m,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),m})).apply(this,arguments)}class Po{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(g=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function fd(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return as(v);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=m,g=!0)),g}sendToConsumer(m,g){var w;if(m.error&&!as(m)){const A=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(we(this.auth,A))}else g.onAuthEvent(m)}isEventForConsumer(m,g){const w=null===g.eventId||!!m.eventId&&m.eventId===g.eventId;return g.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fr(m))}saveEventToCache(m){this.cachedEventUids.add(fr(m)),this.lastProcessedEventTime=Date.now()}}function fr(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(m=>m).join("-")}function as({type:v,error:m}){return"unknown"===v&&"auth/no-auth-event"===m?.code}function fl(v){return No.apply(this,arguments)}function No(){return(No=(0,s.Z)(function*(v,m={}){return wn(v,"GET","/v1/projects",m)})).apply(this,arguments)}const va=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pl=/^https?/;function Hh(){return(Hh=(0,s.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:m}=yield fl(v);for(const g of m)try{if(ib(g))return}catch{}Ae(v,"unauthorized-domain")})).apply(this,arguments)}function ib(v){const m=Ne(),{protocol:g,hostname:w}=new URL(m);if(v.startsWith("chrome-extension://")){const q=new URL(v);return""===q.hostname&&""===w?"chrome-extension:"===g&&v.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===w}if(!pl.test(g))return!1;if(va.test(v))return w===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const Mp=new bn(3e4,6e4);function kp(){const v=ai().___jsl;if(v?.H)for(const m of Object.keys(v.H))if(v.H[m].r=v.H[m].r||[],v.H[m].L=v.H[m].L||[],v.H[m].r=[...v.H[m].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let jh=null;function s_(v){return jh=jh||function r_(v){return new Promise((m,g)=>{var w,A,R;function q(){kp(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{kp(),g(we(v,"network-request-failed"))},timeout:Mp.get()})}if(null!==(A=null===(w=ai().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)m(gapi.iframes.getContext());else{if(null===(R=ai().gapi)||void 0===R||!R.load){const de=sd("iframefcb");return ai()[de]=()=>{gapi.load?q():g(we(v,"network-request-failed"))},lt(`https://apis.google.com/js/api.js?onload=${de}`).catch(Be=>g(Be))}q()}}).catch(m=>{throw jh=null,m})}(v),jh}const o_=new bn(5e3,15e3),sb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ob=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zh(v){const m=v.config;z(m.authDomain,v,"auth-domain-config-required");const g=m.emulator?Yn(m,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:m.apiKey,appName:v.name,v:ue.SDK_VERSION},A=ob.get(v.config.apiHost);A&&(w.eid=A);const R=v._getFrameworks();return R.length&&(w.fw=R.join(",")),`${g}?${(0,L.xO)(w).slice(1)}`}function zi(){return zi=(0,s.Z)(function*(v){const m=yield s_(v),g=ai().gapi;return z(g,v,"internal-error"),m.open({where:document.body,url:zh(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sb,dontclear:!0},w=>new Promise(function(){var A=(0,s.Z)(function*(R,q){yield w.restyle({setHideOnLeave:!1});const de=we(v,"network-request-failed"),Be=ai().setTimeout(()=>{q(de)},o_.get());function it(){ai().clearTimeout(Be),R(w)}w.ping(it).then(it,()=>{q(de)})});return function(R,q){return A.apply(this,arguments)}}()))}),zi.apply(this,arguments)}const a_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qh{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pp(v,m,g,w,A,R){z(v.config.authDomain,v,"auth-domain-config-required"),z(v.config.apiKey,v,"invalid-api-key");const q={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:w,v:ue.SDK_VERSION,eventId:A};if(m instanceof bs){m.setDefaultLanguage(v.languageCode),q.providerId=m.providerId||"",(0,L.xb)(m.getCustomParameters())||(q.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Be,it]of Object.entries(R||{}))q[Be]=it}if(m instanceof ia){const Be=m.getScopes().filter(it=>""!==it);Be.length>0&&(q.scopes=Be.join(","))}v.tenantId&&(q.tid=v.tenantId);const de=q;for(const Be of Object.keys(de))void 0===de[Be]&&delete de[Be];return`${function c_({config:v}){return v.emulator?Yn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(de).slice(1)}`}const Np="webStorageSupport";class Fp extends class Xi{constructor(m){this.factorId=m}_process(m,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(m,g.credential,w);case"signin":return this._finalizeSignIn(m,g.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Fp(m)}_finalizeEnroll(m,g,w){return function eb(v,m){return wn(v,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(v,m))}(m,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,g){return function ha(v,m){return wn(v,"POST","/v2/accounts/mfaSignIn:finalize",Vt(v,m))}(m,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Lp=(()=>{class v{constructor(){}static assertion(g){return Fp._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var d_="@firebase/auth";class h_{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var g=this;return(0,s.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const g=this.auth.onIdTokenChanged(w=>{var A;m((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,g),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const g=this.internalListeners.get(m);!g||(this.internalListeners.delete(m),g(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ml(){return window}function Gh(){return(Gh=(0,s.Z)(function*(v,m,g){var w;const{BuildInfo:A}=ml();J(m.sessionId,"AuthEvent did not contain a session ID");const R=yield Up(m.sessionId),q={};return kr()?q.ibi=A.packageName:Tt()?q.apn=A.packageName:Ae(v,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=R,Pp(v,g,m.type,void 0,null!==(w=m.eventId)&&void 0!==w?w:void 0,q)})).apply(this,arguments)}function Un(){return(Un=(0,s.Z)(function*(v){const{BuildInfo:m}=ml(),g={};kr()?g.iosBundleId=m.packageName:Tt()?g.androidPackageName=m.packageName:Ae(v,"operation-not-supported-in-this-environment"),yield fl(v,g)})).apply(this,arguments)}function fc(){return(fc=(0,s.Z)(function*(v,m,g){const{cordova:w}=ml();let A=()=>{};try{yield new Promise((R,q)=>{let de=null;function Be(){var ct;R();const Gt=null===(ct=w.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof Gt&&Gt(),"function"==typeof g?.close&&g.close()}function it(){de||(de=window.setTimeout(()=>{q(we(v,"redirect-cancelled-by-user"))},2e3))}function mt(){"visible"===document?.visibilityState&&it()}m.addPassiveListener(Be),document.addEventListener("resume",it,!1),Tt()&&document.addEventListener("visibilitychange",mt,!1),A=()=>{m.removePassiveListener(Be),document.removeEventListener("resume",it,!1),document.removeEventListener("visibilitychange",mt,!1),de&&window.clearTimeout(de)}})}finally{A()}})).apply(this,arguments)}function Up(v){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,s.Z)(function*(v){const m=Fo(v),g=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fo(v){if(J(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const m=new ArrayBuffer(v.length),g=new Uint8Array(m);for(let w=0;w<v.length;w++)g[w]=v.charCodeAt(w);return g}!function Vp(v){(0,ue._registerComponent)(new ie.wA("auth",(m,{options:g})=>{const w=m.getProvider("app").getImmediate(),A=m.getProvider("heartbeat"),{apiKey:R,authDomain:q}=w.options;return((de,Be)=>{z(R&&!R.includes(":"),"invalid-api-key",{appName:de.name}),z(!q?.includes(":"),"argument-error",{appName:de.name});const it={apiKey:R,authDomain:q,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pt(v)},mt=new Ua(de,Be,it);return function Le(v,m){const g=m?.persistence||[],w=(Array.isArray(g)?g:[g]).map(ce);m?.errorMap&&v._updateErrorMap(m.errorMap),v._initializeWithPersistence(w,m?.popupRedirectResolver)}(mt,g),mt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,g,w)=>{m.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new ie.wA("auth-internal",m=>{const g=Vn(m.getProvider("auth").getImmediate());return new h_(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(d_,"0.20.5",function ub(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,ue.registerVersion)(d_,"0.20.5","esm2017")}("Browser");class fb extends Po{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(m)),super.onEvent(m)}initialized(){var m=this;return(0,s.Z)(function*(){yield m.initPromise})()}}function Yh(v){return p_.apply(this,arguments)}function p_(){return(p_=(0,s.Z)(function*(v){const m=yield g_()._get(_d(v));return m&&(yield g_()._remove(_d(v))),m})).apply(this,arguments)}function m_(){const v=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*m.length);v.push(m.charAt(w))}return v.join("")}function g_(){return ce(Eo)}function _d(v){return ui("authEvent",v.config.apiKey,v.name)}function su(v){if(!v?.includes("?"))return{};const[m,...g]=v.split("?");return(0,L.zd)(g.join("?"))}function v_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function mc(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function jp(v=(0,L.z$)()){return!("file:"!==mc()&&"ionic:"!==mc()&&"capacitor:"!==mc()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function wb(){try{const v=self.localStorage,m=Fn();if(v)return v.setItem(m,"1"),v.removeItem(m),!function bb(v=(0,L.z$)()){return function w_(){return(0,L.w1)()&&11===document?.documentMode}()||function vb(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch{return gl()&&(0,L.hl)()}return!1}function gl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kh(){return(function _b(){return"http:"===mc()||"https:"===mc()}()||(0,L.ru)()||jp())&&!function yb(){return(0,L.b$)()||(0,L.UG)()}()&&wb()&&!gl()}function C_(){return jp()&&typeof document<"u"}function yd(){return(yd=(0,s.Z)(function*(){return!!C_()&&new Promise(v=>{const m=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),v(!0)})})})).apply(this,arguments)}const Ir={LOCAL:"local",NONE:"none",SESSION:"session"},gc=z,zp="persistence";function Qh(v){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,s.Z)(function*(v){yield v._initializationPromise;const m=D_(),g=ui(zp,v.config.apiKey,v.name);m&&m.setItem(g,v._getPersistence())})).apply(this,arguments)}function D_(){var v;try{return(null===(v=function Db(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const ou=z;class Fe{constructor(){this.browserResolver=ce(class u_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=So,this._completeRedirectFn=Rt,this._overrideRedirectResult=dl}_openPopup(m,g,w,A){var R=this;return(0,s.Z)(function*(){var q;J(null===(q=R.eventManagers[m._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const de=Pp(m,g,w,Ne(),A);return function ab(v,m,g,w=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let de="";const Be=Object.assign(Object.assign({},a_),{width:w.toString(),height:A.toString(),top:R,left:q}),it=(0,L.z$)().toLowerCase();g&&(de=Li(it)?"_blank":g),On(it)&&(m=m||"http://localhost",Be.scrollbars="yes");const mt=Object.entries(Be).reduce((Gt,[Ri,bd])=>`${Gt}${Ri}=${bd},`,"");if(function is(v=(0,L.z$)()){var m;return kr(v)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(it)&&"_self"!==de)return function lb(v,m){const g=document.createElement("a");g.href=v,g.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(m||"",de),new qh(null);const ct=window.open(m||"",de,mt);z(ct,v,"popup-blocked");try{ct.focus()}catch{}return new qh(ct)}(m,de,Fn())})()}_openRedirect(m,g,w,A){var R=this;return(0,s.Z)(function*(){return yield R._originValidation(m),function ca(v){ai().location.href=v}(Pp(m,g,w,Ne(),A)),new Promise(()=>{})})()}_initialize(m){const g=m._key();if(this.eventManagers[g]){const{manager:A,promise:R}=this.eventManagers[g];return A?Promise.resolve(A):(J(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(m);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(m){var g=this;return(0,s.Z)(function*(){const w=yield function hc(v){return zi.apply(this,arguments)}(m),A=new Po(m);return w.register("authEvent",R=>(z(R?.authEvent,m,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[m._key()]={manager:A},g.iframes[m._key()]=w,A})()}_isIframeWebStorageSupported(m,g){this.iframes[m._key()].send(Np,{type:Np},A=>{var R;const q=null===(R=A?.[0])||void 0===R?void 0:R[Np];void 0!==q&&g(!!q),Ae(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Uh(v){return Hh.apply(this,arguments)}(m)),this.originValidationPromises[g]}get _shouldInitProactively(){return jl()||Ei()||kr()}}),this.cordovaResolver=ce(class y_{constructor(){this._redirectPersistence=So,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Rt,this._overrideRedirectResult=dl}_initialize(m){var g=this;return(0,s.Z)(function*(){const w=m._key();let A=g.eventManagers.get(w);return A||(A=new fb(m),g.eventManagers.set(w,A),g.attachCallbackListeners(m,A)),A})()}_openPopup(m){Ae(m,"operation-not-supported-in-this-environment")}_openRedirect(m,g,w,A){var R=this;return(0,s.Z)(function*(){!function $h(v){var m,g,w,A,R,q,de,Be,it,mt;const ct=ml();z("function"==typeof(null===(m=ct?.universalLinks)||void 0===m?void 0:m.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(typeof(null===(g=ct?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z("function"==typeof(null===(R=null===(A=null===(w=ct?.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===R?void 0:R.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(Be=null===(de=null===(q=ct?.cordova)||void 0===q?void 0:q.plugins)||void 0===de?void 0:de.browsertab)||void 0===Be?void 0:Be.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(mt=null===(it=ct?.cordova)||void 0===it?void 0:it.InAppBrowser)||void 0===mt?void 0:mt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const q=yield R._initialize(m);yield q.initialized(),q.resetRedirect(),function Ro(){ko.clear()}(),yield R._originValidation(m);const de=function Hp(v,m,g=null){return{type:m,eventId:g,urlResponse:null,sessionId:m_(),postBody:null,tenantId:v.tenantId,error:we(v,"no-auth-event")}}(m,w,A);yield function gd(v,m){return g_()._set(_d(v),m)}(m,de);const Be=yield function db(v,m,g){return Gh.apply(this,arguments)}(m,de,g),it=yield function f_(v){const{cordova:m}=ml();return new Promise(g=>{m.plugins.browsertab.isAvailable(w=>{let A=null;w?m.plugins.browsertab.openUrl(v):A=m.InAppBrowser.open(v,function Si(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(A)})})}(Be);return function Es(v,m,g){return fc.apply(this,arguments)}(m,q,it)})()}_isIframeWebStorageSupported(m,g){throw new Error("Method not implemented.")}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function hb(v){return Un.apply(this,arguments)}(m)),this.originValidationPromises[g]}attachCallbackListeners(m,g){const{universalLinks:w,handleOpenURL:A,BuildInfo:R}=ml(),q=setTimeout((0,s.Z)(function*(){yield Yh(m),g.onEvent(v_())}),500),de=function(){var mt=(0,s.Z)(function*(ct){clearTimeout(q);const Gt=yield Yh(m);let Ri=null;Gt&&ct?.url&&(Ri=function pb(v,m){var g,w;const A=function __(v){const m=su(v),g=m.link?decodeURIComponent(m.link):void 0,w=su(g).link,A=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return su(A).link||A||w||g||v}(m);if(A.includes("/__/auth/callback")){const R=su(A),q=R.firebaseError?function mb(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,de=null===(w=null===(g=q?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Be=de?we(de):null;return Be?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:A,postBody:null}}return null}(Gt,ct.url)),g.onEvent(Ri||v_())});return function(Gt){return mt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,de);const Be=A,it=`${R.packageName.toLowerCase()}://`;ml().handleOpenURL=function(){var mt=(0,s.Z)(function*(ct){if(ct.toLowerCase().startsWith(it)&&de({url:ct}),"function"==typeof Be)try{Be(ct)}catch(Gt){console.error(Gt)}});return function(ct){return mt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=So,this._completeRedirectFn=Rt,this._overrideRedirectResult=dl}_initialize(m){var g=this;return(0,s.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,g,w,A){var R=this;return(0,s.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(m,g,w,A)})()}_openRedirect(m,g,w,A){var R=this;return(0,s.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(m,g,w,A)})()}_isIframeWebStorageSupported(m,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,g)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return C_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ou(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,s.Z)(function*(){if(m.underlyingResolver)return;const g=yield function Cb(){return yd.apply(this,arguments)}();m.underlyingResolver=g?m.cordovaResolver:m.browserResolver})()}}function et(v){return v.unwrap()}function Sb(v){return Vo(v)}function Vo(v){const{_tokenResponse:m}=v instanceof L.ZR?v.customData:v;if(!m)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return Ai.credentialFromResult(v);const g=m.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=Zl;break;case"facebook.com":w=Ya;break;case"github.com":w=Dh;break;case"twitter.com":w=Sh;break;default:const{oauthIdToken:A,oauthAccessToken:R,oauthTokenSecret:q,pendingToken:de,nonce:Be}=m;return R||q||A||de?de?g.startsWith("saml.")?cr._create(g,de):Bs._fromParams({providerId:g,signInMethod:g,pendingToken:de,idToken:A,accessToken:R}):new Za(g).credential({idToken:A,accessToken:R,rawNonce:Be}):null}return v instanceof L.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function gi(v,m){return m.catch(g=>{throw g instanceof L.ZR&&function au(v,m){var g,w;const A=null===(g=m.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=m)||void 0===w?void 0:w.code))m.resolver=new E_(v,function Ti(v,m){var g;const w=(0,L.m9)(v),A=m;return z(m.customData.operationType,w,"argument-error"),z(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),ic._fromError(w,A)}(v,m));else if(A){const R=Vo(m),q=m;R&&(q.credential=R,q.tenantId=A.tenantId||void 0,q.email=A.email||void 0,q.phoneNumber=A.phoneNumber||void 0)}}(v,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:Sb(g),additionalUserInfo:Wc(g),user:cs.getOrCreate(A)}})}function Bo(v,m){return vd.apply(this,arguments)}function vd(){return(vd=(0,s.Z)(function*(v,m){const g=yield m;return{verificationId:g.verificationId,confirm:w=>gi(v,g.confirm(w))}})).apply(this,arguments)}class E_{constructor(m,g){this.resolver=g,this.auth=function ki(v){return v.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return gi(et(this.auth),this.resolver.resolveSignIn(m))}}class cs{constructor(m){this._delegate=m,this.multiFactor=function Oh(v){const m=(0,L.m9)(v);return sc.has(m)||sc.set(m,rc._fromUser(m)),sc.get(m)}(m)}static getOrCreate(m){return cs.USER_MAP.has(m)||cs.USER_MAP.set(m,new cs(m)),cs.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var g=this;return(0,s.Z)(function*(){return gi(g.auth,Uc(g._delegate,m))})()}linkWithPhoneNumber(m,g){var w=this;return(0,s.Z)(function*(){return Bo(w.auth,function ud(v,m,g){return fa.apply(this,arguments)}(w._delegate,m,g))})()}linkWithPopup(m){var g=this;return(0,s.Z)(function*(){return gi(g.auth,function Vh(v,m,g){return xp.apply(this,arguments)}(g._delegate,m,Fe))})()}linkWithRedirect(m){var g=this;return(0,s.Z)(function*(){return yield Qh(Vn(g.auth)),function ee(v,m,g){return function le(v,m,g){return Ie.apply(this,arguments)}(v,m,g)}(g._delegate,m,Fe)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var g=this;return(0,s.Z)(function*(){return gi(g.auth,sa(g._delegate,m))})()}reauthenticateWithPhoneNumber(m,g){return Bo(this.auth,function pa(v,m,g){return ma.apply(this,arguments)}(this._delegate,m,g))}reauthenticateWithPopup(m){return gi(this.auth,function nb(v,m,g){return hd.apply(this,arguments)}(this._delegate,m,Fe))}reauthenticateWithRedirect(m){var g=this;return(0,s.Z)(function*(){return yield Qh(Vn(g.auth)),function I(v,m,g){return function k(v,m,g){return U.apply(this,arguments)}(v,m,g)}(g._delegate,m,Fe)})()}sendEmailVerification(m){return function ed(v,m){return tl.apply(this,arguments)}(this._delegate,m)}unlink(m){var g=this;return(0,s.Z)(function*(){return yield function Yl(v,m){return Hs.apply(this,arguments)}(g._delegate,m),g})()}updateEmail(m){return function yp(v,m){return pi((0,L.m9)(v),m,null)}(this._delegate,m)}updatePassword(m){return function Yc(v,m){return pi((0,L.m9)(v),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function i_(v,m){return xi.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function Zc(v,m){return nl.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,g){return function zc(v,m,g){return qc.apply(this,arguments)}(this._delegate,m,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}cs.USER_MAP=new WeakMap;const lu=z;let Ws=(()=>{class v{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;lu(A,"invalid-api-key",{appName:g.name}),lu(A,"invalid-api-key",{appName:g.name});const R=typeof window<"u"?Fe:void 0;this._delegate=w.initialize({options:{persistence:Tb(A,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?cs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Vi(v,m,g){const w=Vn(v);z(w._canInitEmulator,w,"emulator-config-failed"),z(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const A=!!g?.disableWarnings,R=go(m),{host:q,port:de}=function Ls(v){const m=go(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(m.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const R=A[1];return{host:R,port:lr(w.substr(R.length+1))}}{const[R,q]=w.split(":");return{host:R,port:lr(q)}}}(m);w.config.emulator={url:`${R}//${q}${null===de?"":`:${de}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:de,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function _o(){function v(){const m=document.createElement("p"),g=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,w)}applyActionCode(g){return function Ql(v,m){return el.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Jl(this._delegate,g)}confirmPasswordReset(g,w){return function Rr(v,m,g){return Kl.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var A=this;return(0,s.Z)(function*(){return gi(A._delegate,function ws(v,m,g){return Xl.apply(this,arguments)}(A._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function jc(v,m){return tc.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Ju(v,m){return"EMAIL_SIGNIN"===rs.parseLink(m)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,s.Z)(function*(){lu(Kh(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function qe(v,m){return Ct.apply(this,arguments)}(g._delegate,Fe);return w?gi(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Xn(v,m){Vn(v)._logFramework(m)}(this._delegate,g)}onAuthStateChanged(g,w,A){const{next:R,error:q,complete:de}=_l(g,w,A);return this._delegate.onAuthStateChanged(R,q,de)}onIdTokenChanged(g,w,A){const{next:R,error:q,complete:de}=_l(g,w,A);return this._delegate.onIdTokenChanged(R,q,de)}sendSignInLinkToEmail(g,w){return function $s(v,m,g){return Qu.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function Wl(v,m,g){return Co.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,s.Z)(function*(){let A;switch(function dA(v,m){gc(Object.values(Ir).includes(m),v,"invalid-persistence-type"),(0,L.b$)()?gc(m!==Ir.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?gc(m===Ir.NONE,v,"unsupported-persistence-type"):gl()?gc(m===Ir.NONE||m===Ir.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):gc(m===Ir.NONE||wb(),v,"unsupported-persistence-type")}(w._delegate,g),g){case Ir.SESSION:A=So;break;case Ir.LOCAL:A=(yield ce(Ao)._isAvailable())?Ao:Eo;break;case Ir.NONE:A=un;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return gi(this._delegate,function Th(v){return gp.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return gi(this._delegate,qn(this._delegate,g))}signInWithCustomToken(g){return gi(this._delegate,function Se(v,m){return jt.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return gi(this._delegate,function oa(v,m,g){return qn((0,L.m9)(v),$a.credential(m,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return gi(this._delegate,function xh(v,m,g){return ec.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Bo(this._delegate,function ji(v,m,g){return Sr.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,s.Z)(function*(){return lu(Kh(),w._delegate,"operation-not-supported-in-this-environment"),gi(w._delegate,function uc(v,m,g){return dc.apply(this,arguments)}(w._delegate,g,Fe))})()}signInWithRedirect(g){var w=this;return(0,s.Z)(function*(){return lu(Kh(),w._delegate,"operation-not-supported-in-this-environment"),yield Qh(w._delegate),function hl(v,m,g){return function iu(v,m,g){return T.apply(this,arguments)}(v,m,g)}(w._delegate,g,Fe)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Gs(v,m){return oi.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Ir,v})();function _l(v,m,g){let w=v;"function"!=typeof v&&({next:w,error:m,complete:g}=v);const A=w;return{next:q=>A(q&&cs.getOrCreate(q)),error:m,complete:g}}function Tb(v,m){const g=function Eb(v,m){const g=D_();if(!g)return[];const w=ui(zp,v,m);switch(g.getItem(w)){case Ir.NONE:return[un];case Ir.LOCAL:return[Ao,So];case Ir.SESSION:return[So];default:return[]}}(v,m);if(typeof self<"u"&&!g.includes(Ao)&&g.push(Ao),typeof window<"u")for(const w of[Eo,So])g.includes(w)||g.push(w);return g.includes(un)||g.push(un),g}class Lr{constructor(){this.providerId="phone",this._delegate=new Ai(et(ne.Z.auth()))}static credential(m,g){return Ai.credential(m,g)}verifyPhoneNumber(m,g){return this._delegate.verifyPhoneNumber(m,g)}unwrap(){return this._delegate}}Lr.PHONE_SIGN_IN_METHOD=Ai.PHONE_SIGN_IN_METHOD,Lr.PROVIDER_ID=Ai.PROVIDER_ID;const cu=z;class Uo{constructor(m,g,w=ne.Z.app()){var A;cu(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new ac(m,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ei(v){v.INTERNAL.registerComponent(new ie.wA("auth-compat",m=>{const g=m.getProvider("app-compat").getImmediate(),w=m.getProvider("auth");return new Ws(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:$a,FacebookAuthProvider:Ya,GithubAuthProvider:Dh,GoogleAuthProvider:Zl,OAuthProvider:Za,SAMLAuthProvider:ur,PhoneAuthProvider:Lr,PhoneMultiFactorGenerator:Lp,RecaptchaVerifier:Uo,TwitterAuthProvider:Sh,Auth:Ws,AuthCredential:Xo,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.18")}(ne.Z)},9751:(pt,Te,V)=>{V.d(Te,{y:()=>pe});var s=V(930),ne=V(727),L=V(8822),ue=V(9635),ae=V(2416),fe=V(576),ie=V(2806);let pe=(()=>{class X{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Ce=new X;return Ce.source=this,Ce.operator=Me,Ce}subscribe(Me,Ce,st){const ve=function $(X){return X&&X instanceof s.Lv||function G(X){return X&&(0,fe.m)(X.next)&&(0,fe.m)(X.error)&&(0,fe.m)(X.complete)}(X)&&(0,ne.Nn)(X)}(Me)?Me:new s.Hp(Me,Ce,st);return(0,ie.x)(()=>{const{operator:ge,source:nt}=this;ve.add(ge?ge.call(ve,nt):nt?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Ce){Me.error(Ce)}}forEach(Me,Ce){return new(Ce=_e(Ce))((st,ve)=>{const ge=new s.Hp({next:nt=>{try{Me(nt)}catch(ht){ve(ht),ge.unsubscribe()}},error:ve,complete:st});this.subscribe(ge)})}_subscribe(Me){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Me)}[L.L](){return this}pipe(...Me){return(0,ue.U)(Me)(this)}toPromise(Me){return new(Me=_e(Me))((Ce,st)=>{let ve;this.subscribe(ge=>ve=ge,ge=>st(ge),()=>Ce(ve))})}}return X.create=He=>new X(He),X})();function _e(X){var He;return null!==(He=X??ae.v.Promise)&&void 0!==He?He:Promise}},7579:(pt,Te,V)=>{V.d(Te,{x:()=>ie});var s=V(9751),ne=V(727);const ue=(0,V(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=V(8737),fe=V(2806);let ie=(()=>{class _e extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const X=new pe(this,this);return X.operator=$,X}_throwIfClosed(){if(this.closed)throw new ue}next($){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next($)}})}error($){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:X}=this;for(;X.length;)X.shift().error($)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:X,isStopped:He,observers:Me}=this;return X||He?ne.Lc:(this.currentObservers=null,Me.push($),new ne.w0(()=>{this.currentObservers=null,(0,ae.P)(Me,$)}))}_checkFinalizedStatuses($){const{hasError:X,thrownError:He,isStopped:Me}=this;X?$.error(He):Me&&$.complete()}asObservable(){const $=new s.y;return $.source=this,$}}return _e.create=(G,$)=>new pe(G,$),_e})();class pe extends ie{constructor(G,$){super(),this.destination=G,this.source=$}next(G){var $,X;null===(X=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===X||X.call($,G)}error(G){var $,X;null===(X=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===X||X.call($,G)}complete(){var G,$;null===($=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===$||$.call(G)}_subscribe(G){var $,X;return null!==(X=null===($=this.source)||void 0===$?void 0:$.subscribe(G))&&void 0!==X?X:ne.Lc}}},930:(pt,Te,V)=>{V.d(Te,{Hp:()=>st,Lv:()=>X});var s=V(576),ne=V(727),L=V(2416),ue=V(7849),ae=V(5032);const fe=_e("C",void 0,void 0);function _e(Ae,we,Ee){return{kind:Ae,value:we,error:Ee}}var G=V(3410),$=V(2806);class X extends ne.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,ne.Nn)(we)&&we.add(this)):this.destination=ht}static create(we,Ee,ze){return new st(we,Ee,ze)}next(we){this.isStopped?nt(function pe(Ae){return _e("N",Ae,void 0)}(we),this):this._next(we)}error(we){this.isStopped?nt(function ie(Ae){return _e("E",void 0,Ae)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?nt(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Me(Ae,we){return He.call(Ae,we)}class Ce{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(we)}catch(ze){ve(ze)}}error(we){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(we)}catch(ze){ve(ze)}else ve(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Ee){ve(Ee)}}}class st extends X{constructor(we,Ee,ze){let $e;if(super(),(0,s.m)(we)||!we)$e={next:we??void 0,error:Ee??void 0,complete:ze??void 0};else{let z;this&&L.v.useDeprecatedNextContext?(z=Object.create(we),z.unsubscribe=()=>this.unsubscribe(),$e={next:we.next&&Me(we.next,z),error:we.error&&Me(we.error,z),complete:we.complete&&Me(we.complete,z)}):$e=we}this.destination=new Ce($e)}}function ve(Ae){L.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ae):(0,ue.h)(Ae)}function nt(Ae,we){const{onStoppedNotification:Ee}=L.v;Ee&&G.z.setTimeout(()=>Ee(Ae,we))}const ht={closed:!0,next:ae.Z,error:function ge(Ae){throw Ae},complete:ae.Z}},727:(pt,Te,V)=>{V.d(Te,{Lc:()=>fe,w0:()=>ae,Nn:()=>ie});var s=V(576);const L=(0,V(3888).d)(_e=>function($){_e(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((X,He)=>`${He+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ue=V(8737);class ae{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Me of $)Me.remove(this);else $.remove(this);const{initialTeardown:X}=this;if((0,s.m)(X))try{X()}catch(Me){G=Me instanceof L?Me.errors:[Me]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Me of He)try{pe(Me)}catch(Ce){G=G??[],Ce instanceof L?G=[...G,...Ce.errors]:G.push(Ce)}}if(G)throw new L(G)}}add(G){var $;if(G&&G!==this)if(this.closed)pe(G);else{if(G instanceof ae){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(G)}}_hasParent(G){const{_parentage:$}=this;return $===G||Array.isArray($)&&$.includes(G)}_addParent(G){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(G),$):$?[$,G]:G}_removeParent(G){const{_parentage:$}=this;$===G?this._parentage=null:Array.isArray($)&&(0,ue.P)($,G)}remove(G){const{_finalizers:$}=this;$&&(0,ue.P)($,G),G instanceof ae&&G._removeParent(this)}}ae.EMPTY=(()=>{const _e=new ae;return _e.closed=!0,_e})();const fe=ae.EMPTY;function ie(_e){return _e instanceof ae||_e&&"closed"in _e&&(0,s.m)(_e.remove)&&(0,s.m)(_e.add)&&(0,s.m)(_e.unsubscribe)}function pe(_e){(0,s.m)(_e)?_e():_e.unsubscribe()}},2416:(pt,Te,V)=>{V.d(Te,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,Te,V)=>{V.d(Te,{E:()=>ne});const ne=new(V(9751).y)(ae=>ae.complete())},8996:(pt,Te,V)=>{V.d(Te,{D:()=>we});var s=V(8421),ne=V(5363),L=V(9468),fe=V(9751),pe=V(2202),_e=V(576),G=V(9672);function X(Ee,ze){if(!Ee)throw new Error("Iterable cannot be null");return new fe.y($e=>{(0,G.f)($e,ze,()=>{const z=Ee[Symbol.asyncIterator]();(0,G.f)($e,ze,()=>{z.next().then(ye=>{ye.done?$e.complete():$e.next(ye.value)})},0,!0)})})}var He=V(3670),Me=V(8239),Ce=V(1144),st=V(6495),ve=V(2206),ge=V(4532),nt=V(3260);function we(Ee,ze){return ze?function Ae(Ee,ze){if(null!=Ee){if((0,He.c)(Ee))return function ue(Ee,ze){return(0,s.Xf)(Ee).pipe((0,L.R)(ze),(0,ne.Q)(ze))}(Ee,ze);if((0,Ce.z)(Ee))return function ie(Ee,ze){return new fe.y($e=>{let z=0;return ze.schedule(function(){z===Ee.length?$e.complete():($e.next(Ee[z++]),$e.closed||this.schedule())})})}(Ee,ze);if((0,Me.t)(Ee))return function ae(Ee,ze){return(0,s.Xf)(Ee).pipe((0,L.R)(ze),(0,ne.Q)(ze))}(Ee,ze);if((0,ve.D)(Ee))return X(Ee,ze);if((0,st.T)(Ee))return function $(Ee,ze){return new fe.y($e=>{let z;return(0,G.f)($e,ze,()=>{z=Ee[pe.h](),(0,G.f)($e,ze,()=>{let ye,J;try{({value:ye,done:J}=z.next())}catch(re){return void $e.error(re)}J?$e.complete():$e.next(ye)},0,!0)}),()=>(0,_e.m)(z?.return)&&z.return()})}(Ee,ze);if((0,nt.L)(Ee))return function ht(Ee,ze){return X((0,nt.Q)(Ee),ze)}(Ee,ze)}throw(0,ge.z)(Ee)}(Ee,ze):(0,s.Xf)(Ee)}},8421:(pt,Te,V)=>{V.d(Te,{Xf:()=>He});var s=V(655),ne=V(1144),L=V(8239),ue=V(9751),ae=V(3670),fe=V(2206),ie=V(4532),pe=V(6495),_e=V(3260),G=V(576),$=V(7849),X=V(8822);function He(Ae){if(Ae instanceof ue.y)return Ae;if(null!=Ae){if((0,ae.c)(Ae))return function Me(Ae){return new ue.y(we=>{const Ee=Ae[X.L]();if((0,G.m)(Ee.subscribe))return Ee.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ne.z)(Ae))return function Ce(Ae){return new ue.y(we=>{for(let Ee=0;Ee<Ae.length&&!we.closed;Ee++)we.next(Ae[Ee]);we.complete()})}(Ae);if((0,L.t)(Ae))return function st(Ae){return new ue.y(we=>{Ae.then(Ee=>{we.closed||(we.next(Ee),we.complete())},Ee=>we.error(Ee)).then(null,$.h)})}(Ae);if((0,fe.D)(Ae))return ge(Ae);if((0,pe.T)(Ae))return function ve(Ae){return new ue.y(we=>{for(const Ee of Ae)if(we.next(Ee),we.closed)return;we.complete()})}(Ae);if((0,_e.L)(Ae))return function nt(Ae){return ge((0,_e.Q)(Ae))}(Ae)}throw(0,ie.z)(Ae)}function ge(Ae){return new ue.y(we=>{(function ht(Ae,we){var Ee,ze,$e,z;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,s.KL)(Ae);!(ze=yield Ee.next()).done;)if(we.next(ze.value),we.closed)return}catch(ye){$e={error:ye}}finally{try{ze&&!ze.done&&(z=Ee.return)&&(yield z.call(Ee))}finally{if($e)throw $e.error}}we.complete()})})(Ae,we).catch(Ee=>we.error(Ee))})}},6451:(pt,Te,V)=>{V.d(Te,{T:()=>fe});var s=V(8189),ne=V(8421),L=V(515),ue=V(3269),ae=V(8996);function fe(...ie){const pe=(0,ue.yG)(ie),_e=(0,ue._6)(ie,1/0),G=ie;return G.length?1===G.length?(0,ne.Xf)(G[0]):(0,s.J)(_e)((0,ae.D)(G,pe)):L.E}},5403:(pt,Te,V)=>{V.d(Te,{x:()=>ne});var s=V(930);function ne(ue,ae,fe,ie,pe){return new L(ue,ae,fe,ie,pe)}class L extends s.Lv{constructor(ae,fe,ie,pe,_e,G){super(ae),this.onFinalize=_e,this.shouldUnsubscribe=G,this._next=fe?function($){try{fe($)}catch(X){ae.error(X)}}:super._next,this._error=pe?function($){try{pe($)}catch(X){ae.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch($){ae.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(pt,Te,V)=>{V.d(Te,{U:()=>L});var s=V(4482),ne=V(5403);function L(ue,ae){return(0,s.e)((fe,ie)=>{let pe=0;fe.subscribe((0,ne.x)(ie,_e=>{ie.next(ue.call(ae,_e,pe++))}))})}},8189:(pt,Te,V)=>{V.d(Te,{J:()=>L});var s=V(5577),ne=V(4671);function L(ue=1/0){return(0,s.z)(ne.y,ue)}},5577:(pt,Te,V)=>{V.d(Te,{z:()=>pe});var s=V(4004),ne=V(8421),L=V(4482),ue=V(9672),ae=V(5403),ie=V(576);function pe(_e,G,$=1/0){return(0,ie.m)(G)?pe((X,He)=>(0,s.U)((Me,Ce)=>G(X,Me,He,Ce))((0,ne.Xf)(_e(X,He))),$):("number"==typeof G&&($=G),(0,L.e)((X,He)=>function fe(_e,G,$,X,He,Me,Ce,st){const ve=[];let ge=0,nt=0,ht=!1;const Ae=()=>{ht&&!ve.length&&!ge&&G.complete()},we=ze=>ge<X?Ee(ze):ve.push(ze),Ee=ze=>{Me&&G.next(ze),ge++;let $e=!1;(0,ne.Xf)($(ze,nt++)).subscribe((0,ae.x)(G,z=>{He?.(z),Me?we(z):G.next(z)},()=>{$e=!0},void 0,()=>{if($e)try{for(ge--;ve.length&&ge<X;){const z=ve.shift();Ce?(0,ue.f)(G,Ce,()=>Ee(z)):Ee(z)}Ae()}catch(z){G.error(z)}}))};return _e.subscribe((0,ae.x)(G,we,()=>{ht=!0,Ae()})),()=>{st?.()}}(X,He,_e,$)))}},5363:(pt,Te,V)=>{V.d(Te,{Q:()=>ue});var s=V(9672),ne=V(4482),L=V(5403);function ue(ae,fe=0){return(0,ne.e)((ie,pe)=>{ie.subscribe((0,L.x)(pe,_e=>(0,s.f)(pe,ae,()=>pe.next(_e),fe),()=>(0,s.f)(pe,ae,()=>pe.complete(),fe),_e=>(0,s.f)(pe,ae,()=>pe.error(_e),fe)))})}},3099:(pt,Te,V)=>{V.d(Te,{B:()=>ae});var s=V(8421),ne=V(7579),L=V(930),ue=V(4482);function ae(ie={}){const{connector:pe=(()=>new ne.x),resetOnError:_e=!0,resetOnComplete:G=!0,resetOnRefCountZero:$=!0}=ie;return X=>{let He,Me,Ce,st=0,ve=!1,ge=!1;const nt=()=>{Me?.unsubscribe(),Me=void 0},ht=()=>{nt(),He=Ce=void 0,ve=ge=!1},Ae=()=>{const we=He;ht(),we?.unsubscribe()};return(0,ue.e)((we,Ee)=>{st++,!ge&&!ve&&nt();const ze=Ce=Ce??pe();Ee.add(()=>{st--,0===st&&!ge&&!ve&&(Me=fe(Ae,$))}),ze.subscribe(Ee),!He&&st>0&&(He=new L.Hp({next:$e=>ze.next($e),error:$e=>{ge=!0,nt(),Me=fe(ht,_e,$e),ze.error($e)},complete:()=>{ve=!0,nt(),Me=fe(ht,G),ze.complete()}}),(0,s.Xf)(we).subscribe(He))})(X)}}function fe(ie,pe,..._e){if(!0===pe)return void ie();if(!1===pe)return;const G=new L.Hp({next:()=>{G.unsubscribe(),ie()}});return pe(..._e).subscribe(G)}},9468:(pt,Te,V)=>{V.d(Te,{R:()=>ne});var s=V(4482);function ne(L,ue=0){return(0,s.e)((ae,fe)=>{fe.add(L.schedule(()=>ae.subscribe(fe),ue))})}},8505:(pt,Te,V)=>{V.d(Te,{b:()=>ae});var s=V(576),ne=V(4482),L=V(5403),ue=V(4671);function ae(fe,ie,pe){const _e=(0,s.m)(fe)||ie||pe?{next:fe,error:ie,complete:pe}:fe;return _e?(0,ne.e)((G,$)=>{var X;null===(X=_e.subscribe)||void 0===X||X.call(_e);let He=!0;G.subscribe((0,L.x)($,Me=>{var Ce;null===(Ce=_e.next)||void 0===Ce||Ce.call(_e,Me),$.next(Me)},()=>{var Me;He=!1,null===(Me=_e.complete)||void 0===Me||Me.call(_e),$.complete()},Me=>{var Ce;He=!1,null===(Ce=_e.error)||void 0===Ce||Ce.call(_e,Me),$.error(Me)},()=>{var Me,Ce;He&&(null===(Me=_e.unsubscribe)||void 0===Me||Me.call(_e)),null===(Ce=_e.finalize)||void 0===Ce||Ce.call(_e)}))}):ue.y}},4408:(pt,Te,V)=>{V.d(Te,{o:()=>ae});var s=V(727);class ne extends s.w0{constructor(ie,pe){super()}schedule(ie,pe=0){return this}}const L={setInterval(fe,ie,...pe){const{delegate:_e}=L;return _e?.setInterval?_e.setInterval(fe,ie,...pe):setInterval(fe,ie,...pe)},clearInterval(fe){const{delegate:ie}=L;return(ie?.clearInterval||clearInterval)(fe)},delegate:void 0};var ue=V(8737);class ae extends ne{constructor(ie,pe){super(ie,pe),this.scheduler=ie,this.work=pe,this.pending=!1}schedule(ie,pe=0){if(this.closed)return this;this.state=ie;const _e=this.id,G=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(G,_e,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(G,this.id,pe),this}requestAsyncId(ie,pe,_e=0){return L.setInterval(ie.flush.bind(ie,this),_e)}recycleAsyncId(ie,pe,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return pe;L.clearInterval(pe)}execute(ie,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(ie,pe);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,pe){let G,_e=!1;try{this.work(ie)}catch($){_e=!0,G=$||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ie,scheduler:pe}=this,{actions:_e}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(_e,this),null!=ie&&(this.id=this.recycleAsyncId(pe,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,Te,V)=>{V.d(Te,{v:()=>L});var s=V(6063);class ne{constructor(ae,fe=ne.now){this.schedulerActionCtor=ae,this.now=fe}schedule(ae,fe=0,ie){return new this.schedulerActionCtor(this,ae).schedule(ie,fe)}}ne.now=s.l.now;class L extends ne{constructor(ae,fe=ne.now){super(ae,fe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:fe}=this;if(this._active)return void fe.push(ae);let ie;this._active=!0;do{if(ie=ae.execute(ae.state,ae.delay))break}while(ae=fe.shift());if(this._active=!1,ie){for(;ae=fe.shift();)ae.unsubscribe();throw ie}}}},4986:(pt,Te,V)=>{V.d(Te,{P:()=>ue,z:()=>L});var s=V(4408);const L=new(V(7565).v)(s.o),ue=L},6063:(pt,Te,V)=>{V.d(Te,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(pt,Te,V)=>{V.d(Te,{z:()=>s});const s={setTimeout(ne,L,...ue){const{delegate:ae}=s;return ae?.setTimeout?ae.setTimeout(ne,L,...ue):setTimeout(ne,L,...ue)},clearTimeout(ne){const{delegate:L}=s;return(L?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},2202:(pt,Te,V)=>{V.d(Te,{h:()=>ne});const ne=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,Te,V)=>{V.d(Te,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(pt,Te,V)=>{V.d(Te,{_6:()=>fe,jO:()=>ue,yG:()=>ae});var s=V(576),ne=V(3532);function L(ie){return ie[ie.length-1]}function ue(ie){return(0,s.m)(L(ie))?ie.pop():void 0}function ae(ie){return(0,ne.K)(L(ie))?ie.pop():void 0}function fe(ie,pe){return"number"==typeof L(ie)?ie.pop():pe}},8737:(pt,Te,V)=>{function s(ne,L){if(ne){const ue=ne.indexOf(L);0<=ue&&ne.splice(ue,1)}}V.d(Te,{P:()=>s})},3888:(pt,Te,V)=>{function s(ne){const ue=ne(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}V.d(Te,{d:()=>s})},2806:(pt,Te,V)=>{V.d(Te,{O:()=>ue,x:()=>L});var s=V(2416);let ne=null;function L(ae){if(s.v.useDeprecatedSynchronousErrorHandling){const fe=!ne;if(fe&&(ne={errorThrown:!1,error:null}),ae(),fe){const{errorThrown:ie,error:pe}=ne;if(ne=null,ie)throw pe}}else ae()}function ue(ae){s.v.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=ae)}},9672:(pt,Te,V)=>{function s(ne,L,ue,ae=0,fe=!1){const ie=L.schedule(function(){ue(),fe?ne.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(ne.add(ie),!fe)return ie}V.d(Te,{f:()=>s})},4671:(pt,Te,V)=>{function s(ne){return ne}V.d(Te,{y:()=>s})},1144:(pt,Te,V)=>{V.d(Te,{z:()=>s});const s=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},2206:(pt,Te,V)=>{V.d(Te,{D:()=>ne});var s=V(576);function ne(L){return Symbol.asyncIterator&&(0,s.m)(L?.[Symbol.asyncIterator])}},576:(pt,Te,V)=>{function s(ne){return"function"==typeof ne}V.d(Te,{m:()=>s})},3670:(pt,Te,V)=>{V.d(Te,{c:()=>L});var s=V(8822),ne=V(576);function L(ue){return(0,ne.m)(ue[s.L])}},6495:(pt,Te,V)=>{V.d(Te,{T:()=>L});var s=V(2202),ne=V(576);function L(ue){return(0,ne.m)(ue?.[s.h])}},8239:(pt,Te,V)=>{V.d(Te,{t:()=>ne});var s=V(576);function ne(L){return(0,s.m)(L?.then)}},3260:(pt,Te,V)=>{V.d(Te,{L:()=>ue,Q:()=>L});var s=V(655),ne=V(576);function L(ae){return(0,s.FC)(this,arguments,function*(){const ie=ae.getReader();try{for(;;){const{value:pe,done:_e}=yield(0,s.qq)(ie.read());if(_e)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(pe)}}finally{ie.releaseLock()}})}function ue(ae){return(0,ne.m)(ae?.getReader)}},3532:(pt,Te,V)=>{V.d(Te,{K:()=>ne});var s=V(576);function ne(L){return L&&(0,s.m)(L.schedule)}},4482:(pt,Te,V)=>{V.d(Te,{A:()=>ne,e:()=>L});var s=V(576);function ne(ue){return(0,s.m)(ue?.lift)}function L(ue){return ae=>{if(ne(ae))return ae.lift(function(fe){try{return ue(fe,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(pt,Te,V)=>{function s(){}V.d(Te,{Z:()=>s})},9635:(pt,Te,V)=>{V.d(Te,{U:()=>L,z:()=>ne});var s=V(4671);function ne(...ue){return L(ue)}function L(ue){return 0===ue.length?s.y:1===ue.length?ue[0]:function(fe){return ue.reduce((ie,pe)=>pe(ie),fe)}}},7849:(pt,Te,V)=>{V.d(Te,{h:()=>L});var s=V(2416),ne=V(3410);function L(ue){ne.z.setTimeout(()=>{const{onUnhandledError:ae}=s.v;if(!ae)throw ue;ae(ue)})}},4532:(pt,Te,V)=>{function s(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Te,{z:()=>s})},655:(pt,Te,V)=>{function ue(J,re){var ce={};for(var oe in J)Object.prototype.hasOwnProperty.call(J,oe)&&re.indexOf(oe)<0&&(ce[oe]=J[oe]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(oe=Object.getOwnPropertySymbols(J);Le<oe.length;Le++)re.indexOf(oe[Le])<0&&Object.prototype.propertyIsEnumerable.call(J,oe[Le])&&(ce[oe[Le]]=J[oe[Le]])}return ce}function pe(J,re,ce,oe){return new(ce||(ce=Promise))(function(Ne,yt){function en(bn){try{Ke(oe.next(bn))}catch(Yn){yt(Yn)}}function Wt(bn){try{Ke(oe.throw(bn))}catch(Yn){yt(Yn)}}function Ke(bn){bn.done?Ne(bn.value):function Le(Ne){return Ne instanceof ce?Ne:new ce(function(yt){yt(Ne)})}(bn.value).then(en,Wt)}Ke((oe=oe.apply(J,re||[])).next())})}function ve(J){return this instanceof ve?(this.v=J,this):new ve(J)}function ge(J,re,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,oe=ce.apply(J,re||[]),Ne=[];return Le={},yt("next"),yt("throw"),yt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function yt(an){oe[an]&&(Le[an]=function(ln){return new Promise(function(or,Vt){Ne.push([an,ln,or,Vt])>1||en(an,ln)})})}function en(an,ln){try{!function Wt(an){an.value instanceof ve?Promise.resolve(an.value.v).then(Ke,bn):Yn(Ne[0][2],an)}(oe[an](ln))}catch(or){Yn(Ne[0][3],or)}}function Ke(an){en("next",an)}function bn(an){en("throw",an)}function Yn(an,ln){an(ln),Ne.shift(),Ne.length&&en(Ne[0][0],Ne[0][1])}}function ht(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,re=J[Symbol.asyncIterator];return re?re.call(J):(J=function X(J){var re="function"==typeof Symbol&&Symbol.iterator,ce=re&&J[re],oe=0;if(ce)return ce.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&oe>=J.length&&(J=void 0),{value:J&&J[oe++],done:!J}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ce={},oe("next"),oe("throw"),oe("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function oe(Ne){ce[Ne]=J[Ne]&&function(yt){return new Promise(function(en,Wt){!function Le(Ne,yt,en,Wt){Promise.resolve(Wt).then(function(Ke){Ne({value:Ke,done:en})},yt)}(en,Wt,(yt=J[Ne](yt)).done,yt.value)})}}}V.d(Te,{FC:()=>ge,KL:()=>ht,_T:()=>ue,mG:()=>pe,qq:()=>ve})},4650:(pt,Te,V)=>{V.d(Te,{$8M:()=>Ao,$Z:()=>_E,AFp:()=>pw,ALo:()=>Mm,AaK:()=>pe,BQk:()=>pf,CHM:()=>wo,CRH:()=>Nm,CZH:()=>Al,CqO:()=>mm,D6c:()=>V1,EJc:()=>tT,EiD:()=>y_,EpF:()=>WE,F$t:()=>fy,F4k:()=>$d,FYo:()=>mt,FiY:()=>le,G48:()=>M1,Gf:()=>Oy,GfV:()=>bd,GkF:()=>Cu,Gpc:()=>$,Gre:()=>WM,Hsn:()=>A0,Ikx:()=>lS,JOm:()=>Ss,JVY:()=>Lp,KtG:()=>Xa,L6k:()=>d_,LAX:()=>h_,LFG:()=>xn,LSH:()=>pc,Lbi:()=>y1,Lck:()=>k2,MAs:()=>OM,MMx:()=>q0,NdJ:()=>T0,O4$:()=>il,OlP:()=>Kt,Oqu:()=>Sl,PXZ:()=>Dw,Q6J:()=>YE,QGY:()=>Du,QP$:()=>Sf,QbO:()=>Go,Qsj:()=>ct,R0b:()=>Ts,RDi:()=>sb,Rgc:()=>Cf,SBq:()=>de,Sil:()=>b1,Suo:()=>ow,TTD:()=>$a,TgZ:()=>ay,Udp:()=>iS,W1O:()=>qS,WFA:()=>I0,WLB:()=>OS,X6Q:()=>A1,XFs:()=>wt,Xpm:()=>H,Xts:()=>Kh,Y36:()=>cf,YKP:()=>Uk,YNc:()=>RM,Yjl:()=>ui,Yz7:()=>ln,ZZ4:()=>$m,_Bn:()=>Bk,_UZ:()=>S0,_Vd:()=>A,_c5:()=>Ow,_uU:()=>zo,aQg:()=>Jy,c2e:()=>v1,cJS:()=>Vt,cg1:()=>uS,d8E:()=>cS,dDg:()=>jr,dqk:()=>Xe,eBb:()=>cb,eFA:()=>cT,ekj:()=>rS,eoX:()=>Cw,f3M:()=>hl,g9A:()=>gw,h0i:()=>Am,hGG:()=>L1,hij:()=>no,iGM:()=>Eu,ifc:()=>ot,ip1:()=>fw,kL8:()=>dS,kcU:()=>Mh,lG2:()=>un,lcZ:()=>NS,lqb:()=>gi,lri:()=>ww,mCW:()=>Un,n5z:()=>Qc,n_E:()=>qo,oAB:()=>je,oJD:()=>b_,oxw:()=>hy,pB0:()=>ub,q3G:()=>Xn,q4F:()=>ba,qLn:()=>Jh,qOj:()=>w0,qZA:()=>ly,qzn:()=>Xi,rWj:()=>An,sBO:()=>Iw,sIi:()=>cm,s_b:()=>Om,soG:()=>Um,tb:()=>XS,tp0:()=>qe,uIk:()=>D0,vHH:()=>Ce,vpe:()=>Il,wAp:()=>xt,xi3:()=>yi,xp6:()=>aE,ynx:()=>cy,z2F:()=>Gy,z3N:()=>ls,zSh:()=>et,zs3:()=>kd});var s=V(7579),ne=V(727),L=V(9751),ue=V(6451),ae=V(3099);function fe(a){for(let l in a)if(a[l]===fe)return l;throw Error("Could not find renamed property on target object.")}function ie(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function pe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(pe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function _e(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const G=fe({__forward_ref__:fe});function $(a){return a.__forward_ref__=$,a.toString=function(){return pe(this())},a}function X(a){return He(a)?a():a}function He(a){return"function"==typeof a&&a.hasOwnProperty(G)&&a.__forward_ref__===$}class Ce extends Error{constructor(l,u){super(function st(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function ve(a){return"string"==typeof a?a:null==a?"":String(a)}function we(a,l){throw new Ce(-201,!1)}function Wt(a,l){null==a&&function Ke(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function ln(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Vt(a){return{providers:a.providers||[],imports:a.imports||[]}}function wn(a){return Jo(a,gs)||Jo(a,Mr)}function Jo(a,l){return a.hasOwnProperty(l)?a[l]:null}function ar(a){return a&&(a.hasOwnProperty(Fs)||a.hasOwnProperty(ts))?a[Fs]:null}const gs=fe({\u0275prov:fe}),Fs=fe({\u0275inj:fe}),Mr=fe({ngInjectableDef:fe}),ts=fe({ngInjectorDef:fe});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let Tn;function Wn(a){const l=Tn;return Tn=a,l}function _s(a,l,u){const h=wn(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&wt.Optional?null:void 0!==l?l:void we(pe(a))}function zn(a){return{toString:a}.toString()}var kn=(()=>((kn=kn||{})[kn.OnPush=0]="OnPush",kn[kn.Default=1]="Default",kn))(),ot=(()=>{return(a=ot||(ot={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",ot;var a})();const Xe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rn={},Ut=[],si=fe({\u0275cmp:fe}),fo=fe({\u0275dir:fe}),cn=fe({\u0275pipe:fe}),vs=fe({\u0275mod:fe}),qt=fe({\u0275fac:fe}),Q=fe({__NG_ELEMENT_ID__:fe});let Z=0;function H(a){return zn(()=>{const u=!0===a.standalone,h={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===kn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Ut,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||ot.Emulated,id:"c"+Z++,styles:a.styles||Ut,_:null,setInput:null,schemas:a.schemas||null,tView:null},_=a.dependencies,b=a.features;return f.inputs=Dn(a.inputs,h),f.outputs=Dn(a.outputs),b&&b.forEach(D=>D(f)),f.directiveDefs=_?()=>("function"==typeof _?_():_).map(K).filter(xe):null,f.pipeDefs=_?()=>("function"==typeof _?_():_).map(On).filter(xe):null,f})}function K(a){return at(a)||En(a)}function xe(a){return null!==a}function je(a){return zn(()=>({type:a.type,bootstrap:a.bootstrap||Ut,declarations:a.declarations||Ut,imports:a.imports||Ut,exports:a.exports||Ut,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Dn(a,l){if(null==a)return Rn;const u={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),u[f]=h,l&&(l[f]=_)}return u}const un=H;function ui(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function at(a){return a[si]||null}function En(a){return a[fo]||null}function On(a){return a[cn]||null}function Ei(a,l){const u=a[vs]||null;if(!u&&!0===l)throw new Error(`Type ${pe(a)} does not have '\u0275mod' property.`);return u}function dn(a){return Array.isArray(a)&&"object"==typeof a[1]}function Cr(a){return Array.isArray(a)&&!0===a[1]}function za(a){return 0!=(8&a.flags)}function ta(a){return 2==(2&a.flags)}function Vs(a){return 1==(1&a.flags)}function Bi(a){return null!==a.template}function pp(a){return 0!=(256&a[2])}function rs(a,l){return a.hasOwnProperty(qt)?a[qt]:null}class Ch{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function $a(){return bs}function bs(a){return a.type.prototype.ngOnChanges&&(a.setInput=Za),ia}function ia(){const a=Zl(this),l=a?.current;if(l){const u=a.previous;if(u===Rn)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function Za(a,l,u,h){const f=Zl(a)||function Dh(a,l){return a[Ya]=l}(a,{previous:Rn,current:null}),_=f.current||(f.current={}),b=f.previous,D=this.declaredInputs[u],S=b[D];_[D]=new Ch(S&&S.currentValue,l,b===Rn),a[h]=l}$a.ngInherit=!0;const Ya="__ngSimpleChanges__";function Zl(a){return a[Ya]||null}function Jn(a){for(;Array.isArray(a);)a=a[0];return a}function ra(a,l){return Jn(l[a])}function Dr(a,l){return Jn(l[a.index])}function Yl(a,l){return a.data[l]}function Hs(a,l){return a[l]}function Ui(a,l){const u=l[a];return dn(u)?u:u[0]}function Ka(a){return 4==(4&a[2])}function ss(a){return 64==(64&a[2])}function zs(a,l){return null==l?null:a[l]}function qs(a){a[18]=0}function Qa(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const It={lFrame:Gc(null),bindingsEnabled:!0};function bo(){return It.bindingsEnabled}function Se(){return It.lFrame.lView}function jt(){return It.lFrame.tView}function wo(a){return It.lFrame.contextLView=a,a[8]}function Xa(a){return It.lFrame.contextLView=null,a}function Pn(){let a=Wl();for(;null!==a&&64===a.type;)a=a.parent;return a}function Wl(){return It.lFrame.currentTNode}function Rr(a,l){const u=It.lFrame;u.currentTNode=a,u.isParent=l}function Kl(){return It.lFrame.isParent}function Ql(){It.lFrame.isParent=!1}function oi(){const a=It.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function oa(){return It.lFrame.bindingIndex++}function $s(a){const l=It.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function xh(a,l){const u=It.lFrame;u.bindingIndex=u.bindingRootIndex=a,Xu(l)}function Xu(a){It.lFrame.currentDirectiveIndex=a}function aa(a){const l=It.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function jc(){return It.lFrame.currentQueryIndex}function tc(a){It.lFrame.currentQueryIndex=a}function ed(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function tl(a,l,u){if(u&wt.SkipSelf){let f=l,_=a;for(;!(f=f.parent,null!==f||u&wt.Host||(f=ed(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;l=f,a=_}const h=It.lFrame=qc();return h.currentTNode=l,h.lView=a,!0}function zc(a){const l=qc(),u=a[1];It.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function qc(){const a=It.lFrame,l=null===a?null:a.child;return null===l?Gc(a):l}function Gc(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function $c(){const a=It.lFrame;return It.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Zc=$c;function nl(){const a=$c();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function pi(){return It.lFrame.selectedIndex}function Or(a){It.lFrame.selectedIndex=a}function Nn(){const a=It.lFrame;return Yl(a.tView,a.selectedIndex)}function il(){It.lFrame.currentNamespace="svg"}function Mh(){!function td(){It.lFrame.currentNamespace=null}()}function Wc(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const _=a.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:D,ngAfterViewInit:S,ngAfterViewChecked:x,ngOnDestroy:O}=_;b&&(a.contentHooks||(a.contentHooks=[])).push(-u,b),D&&((a.contentHooks||(a.contentHooks=[])).push(u,D),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,D)),S&&(a.viewHooks||(a.viewHooks=[])).push(-u,S),x&&((a.viewHooks||(a.viewHooks=[])).push(u,x),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,x)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(u,O)}}function vp(a,l,u){la(a,l,3,u)}function bp(a,l,u,h){(3&a[2])===u&&la(a,l,u,h)}function nc(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function la(a,l,u,h){const _=h??-1,b=l.length-1;let D=0;for(let S=void 0!==h?65535&a[18]:0;S<b;S++)if("number"==typeof l[S+1]){if(D=l[S],null!=h&&D>=h)break}else l[S]<0&&(a[18]+=65536),(D<_||-1==_)&&(Xv(a,u,l,S),a[18]=(4294901760&a[18])+S+2),S++}function Xv(a,l,u,h){const f=u[h]<0,_=u[h+1],D=a[f?-u[h]:u[h]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(D)}finally{}}}else try{_.call(D)}finally{}}class rl{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function rc(a,l,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const _=u[h++],b=u[h++],D=u[h++];a.setAttribute(l,b,D,_)}else{const _=f,b=u[++h];Oh(_)?a.setProperty(l,_,b):a.setAttribute(l,_,b),h++}}return h}function sc(a){return 3===a||4===a||6===a}function Oh(a){return 64===a.charCodeAt(0)}function Do(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||Ph(a,u,f,null,-1===u||2===u?l[++h]:null)}}return a}function Ph(a,l,u,h,f){let _=0,b=a.length;if(-1===l)b=-1;else for(;_<a.length;){const D=a[_++];if("number"==typeof D){if(D===l){b=-1;break}if(D>l){b=_-1;break}}}for(;_<a.length;){const D=a[_];if("number"==typeof D)break;if(D===u){if(null===h)return void(null!==f&&(a[_+1]=f));if(h===a[_+1])return void(a[_+2]=f)}_++,null!==h&&_++,null!==f&&_++}-1!==b&&(a.splice(b,0,l),_=b+1),a.splice(_++,0,u),null!==h&&a.splice(_++,0,h),null!==f&&a.splice(_++,0,f)}function Dp(a){return-1!==a}function oc(a){return 32767&a}function Hi(a,l){let u=function Xg(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let Eo=!0;function id(a){const l=Eo;return Eo=a,l}let Fn=0;const Pr={};function ca(a,l){const u=ol(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,sl(h.data,a),sl(l,null),sl(h.blueprint,null));const f=al(a,l),_=a.injectorIndex;if(Dp(f)){const b=oc(f),D=Hi(f,l),S=D[1].data;for(let x=0;x<8;x++)l[_+x]=D[b+x]|S[b+x]}return l[_+8]=f,_}function sl(a,l){a.push(0,0,0,0,0,0,0,0,l)}function ol(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function al(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){if(h=Ii(f),null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Er(a,l,u){!function ai(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Q)&&(h=u[Q]),null==h&&(h=u[Q]=Fn++);const f=255&h;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function hn(a,l,u){if(u&wt.Optional)return a;we()}function Ue(a,l,u,h){if(u&wt.Optional&&void 0===h&&(h=null),0==(u&(wt.Self|wt.Host))){const f=a[9],_=Wn(void 0);try{return f?f.get(l,h,u&wt.Optional):_s(l,h,u&wt.Optional)}finally{Wn(_)}}return hn(h,0,u)}function da(a,l,u,h=wt.Default,f){if(null!==a){if(1024&l[2]){const b=function Ep(a,l,u,h,f){let _=a,b=l;for(;null!==_&&null!==b&&1024&b[2]&&!(256&b[2]);){const D=rd(_,b,u,h|wt.Self,Pr);if(D!==Pr)return D;let S=_.parent;if(!S){const x=b[21];if(x){const O=x.get(u,Pr,h);if(O!==Pr)return O}S=Ii(b),b=b[15]}_=S}return f}(a,l,u,h,Pr);if(b!==Pr)return b}const _=rd(a,l,u,h,Pr);if(_!==Pr)return _}return Ue(l,u,h,f)}function rd(a,l,u,h,f){const _=function Kc(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Q)?a[Q]:void 0;return"number"==typeof l?l>=0?255&l:ll:l}(u);if("function"==typeof _){if(!tl(l,a,h))return h&wt.Host?hn(f,0,h):Ue(l,u,h,f);try{const b=_(h);if(null!=b||h&wt.Optional)return b;we()}finally{Zc()}}else if("number"==typeof _){let b=null,D=ol(a,l),S=-1,x=h&wt.Host?l[16][6]:null;for((-1===D||h&wt.SkipSelf)&&(S=-1===D?al(a,l):l[D+8],-1!==S&&mi(h,!1)?(b=l[1],D=oc(S),l=Hi(S,l)):D=-1);-1!==D;){const O=l[1];if(os(_,D,O.data)){const B=Zs(D,l,u,b,h,x);if(B!==Pr)return B}S=l[D+8],-1!==S&&mi(h,l[1].data[D+8]===x)&&os(_,D,l)?(b=O,D=oc(S),l=Hi(S,l)):D=-1}}return f}function Zs(a,l,u,h,f,_){const b=l[1],D=b.data[a+8],O=To(D,b,u,null==h?ta(D)&&Eo:h!=b&&0!=(3&D.type),f&wt.Host&&_===D);return null!==O?Io(l,b,O,D):Pr}function To(a,l,u,h,f){const _=a.providerIndexes,b=l.data,D=1048575&_,S=a.directiveStart,O=_>>20,W=f?D+O:a.directiveEnd;for(let se=h?D:D+O;se<W;se++){const De=b[se];if(se<S&&u===De||se>=S&&De.type===u)return se}if(f){const se=b[S];if(se&&Bi(se)&&se.type===u)return S}return null}function Io(a,l,u,h){let f=a[u];const _=l.data;if(function wp(a){return a instanceof rl}(f)){const b=f;b.resolving&&function nt(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${a}${u}`)}(function ge(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ve(a)}(_[u]));const D=id(b.canSeeViewProviders);b.resolving=!0;const S=b.injectImpl?Wn(b.injectImpl):null;tl(a,h,wt.Default);try{f=a[u]=b.factory(void 0,_,a,h),l.firstCreatePass&&u>=h.directiveStart&&function nd(a,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:_}=l.type.prototype;if(h){const b=bs(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,b)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),_&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,_))}(u,_[u],l)}finally{null!==S&&Wn(S),id(D),b.resolving=!1,Zc()}}return f}function os(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function mi(a,l){return!(a&wt.Self||a&wt.Host&&l)}class xo{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return da(this._tNode,this._lView,l,h,u)}}function ll(){return new xo(Pn(),Se())}function Qc(a){return zn(()=>{const l=a.prototype.constructor,u=l[qt]||Jc(l),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const _=f[qt]||Jc(f);if(_&&_!==u)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function Jc(a){return He(a)?()=>{const l=Jc(X(a));return l&&l()}:rs(a)}function Ii(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function Ao(a){return function ua(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const _=u[f];if(sc(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(_===l)return u[f+1];f+=2}}}return null}(Pn(),a)}const ha="__parameters__";function lt(a,l,u){return zn(()=>{const h=function Xc(a){return function(...u){if(a){const h=a(...u);for(const f in h)this[f]=h[f]}}}(l);function f(..._){if(this instanceof f)return h.apply(this,_),this;const b=new f(..._);return D.annotation=b,D;function D(S,x,O){const B=S.hasOwnProperty(ha)?S[ha]:Object.defineProperty(S,ha,{value:[]})[ha];for(;B.length<=O;)B.push(null);return(B[O]=B[O]||[]).push(b),S}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class Kt{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=ln({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ji(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),ji(h,l)):l!==a&&l.push(h)}return l}function Sr(a,l){a.forEach(u=>Array.isArray(u)?Sr(u,l):l(u))}function ud(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function fa(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function pa(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function Gn(a,l,u){let h=cc(a,l);return h>=0?a[1|h]=u:(h=~h,function eu(a,l,u,h){let f=a.length;if(f==l)a.push(u,h);else if(1===f)a.push(h,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function tu(a,l){const u=cc(a,l);if(u>=0)return a[1|u]}function cc(a,l){return function Ji(a,l,u){let h=0,f=a.length>>u;for(;f!==h;){const _=h+(f-h>>1),b=a[_<<u];if(l===b)return _<<u;b>l?f=_:h=_+1}return~(f<<u)}(a,l,1)}const ul={},ya="__NG_DI_FLAG__",ko="ngTempTokenPath",Bh=/\n/gm,nu="__source";let Tr;function Ro(a){const l=Tr;return Tr=a,l}function dl(a,l=wt.Default){if(void 0===Tr)throw new Ce(-203,!1);return null===Tr?_s(a,void 0,l):Tr.get(a,l&wt.Optional?null:void 0,l)}function xn(a,l=wt.Default){return(function ns(){return Tn}()||dl)(X(a),l)}function hl(a,l=wt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),xn(a,l)}function iu(a){const l=[];for(let u=0;u<a.length;u++){const h=X(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Ce(900,!1);let f,_=wt.Default;for(let b=0;b<h.length;b++){const D=h[b],S=I(D);"number"==typeof S?-1===S?f=D.token:_|=S:f=D}l.push(xn(f,_))}else l.push(xn(h))}return l}function T(a,l){return a[ya]=l,a.prototype[ya]=l,a}function I(a){return a[ya]}const le=T(lt("Optional"),8),qe=T(lt("SkipSelf"),4);let pd,zh,Rp;function sb(a){pd=a}function zi(a){return function hc(){if(void 0===zh&&(zh=null,Xe.trustedTypes))try{zh=Xe.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return zh}()?.createHTML(a)||a}function qh(a){return function Op(){if(void 0===Rp&&(Rp=null,Xe.trustedTypes))try{Rp=Xe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Rp}()?.createHTML(a)||a}class ru{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class MD extends ru{getTypeName(){return"HTML"}}class Pp extends ru{getTypeName(){return"Style"}}class c_ extends ru{getTypeName(){return"Script"}}class Np extends ru{getTypeName(){return"URL"}}class u_ extends ru{getTypeName(){return"ResourceURL"}}function ls(a){return a instanceof ru?a.changingThisBreaksApplicationSecurity:a}function Xi(a,l){const u=function Fp(a){return a instanceof ru&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Lp(a){return new MD(a)}function d_(a){return new Pp(a)}function cb(a){return new c_(a)}function h_(a){return new Np(a)}function ub(a){return new u_(a)}class kD{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(zi(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class ml{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=zi(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=zi(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const b=u.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const db=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hb=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Un(a){return(a=String(a)).match(db)||a.match(hb)?a:"unsafe:"+a}function Es(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function fc(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const $h=Es("area,br,col,hr,img,wbr"),Up=Es("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zh=Es("rp,rt"),Hp=fc($h,fc(Up,Es("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fc(Zh,Es("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fc(Zh,Up)),gd=Es("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yh=Es("srcset"),m_=fc(gd,Yh,Es("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Es("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),g_=Es("script,style,template");class _d{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Hp.hasOwnProperty(u))return this.sanitizedSomething=!0,!g_.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const _=h.item(f),b=_.name,D=b.toLowerCase();if(!m_.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let S=_.value;gd[D]&&(S=Un(S)),Yh[D]&&(a=S,S=(a=String(a)).split(",").map(l=>Un(l.trim())).join(", ")),this.buf.push(" ",b,'="',su(S),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Hp.hasOwnProperty(u)&&!$h.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(su(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const mb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,__=/([^\#-~ |!])/g;function su(a){return a.replace(/&/g,"&amp;").replace(mb,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(__,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lo;function y_(a,l){let u=null;try{Lo=Lo||function Vp(a){const l=new ml(a);return function Bp(){try{return!!(new window.DOMParser).parseFromString(zi(""),"text/html")}catch{return!1}}()?new kD(l):l}(a);let h=l?String(l):"";u=Lo.getInertBodyElement(h);let f=5,_=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=_,_=u.innerHTML,u=Lo.getInertBodyElement(h)}while(h!==_);return zi((new _d).sanitizeChildren(Wh(u)||u))}finally{if(u){const h=Wh(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Wh(a){return"content"in a&&function v_(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Xn=(()=>((Xn=Xn||{})[Xn.NONE=0]="NONE",Xn[Xn.HTML=1]="HTML",Xn[Xn.STYLE=2]="STYLE",Xn[Xn.SCRIPT=3]="SCRIPT",Xn[Xn.URL=4]="URL",Xn[Xn.RESOURCE_URL=5]="RESOURCE_URL",Xn))();function b_(a){const l=gl();return l?qh(l.sanitize(Xn.HTML,a)||""):Xi(a,"HTML")?qh(ls(a)):y_(function ob(){return void 0!==pd?pd:typeof document<"u"?document:void 0}(),ve(a))}function pc(a){const l=gl();return l?l.sanitize(Xn.URL,a)||"":Xi(a,"URL")?ls(a):Un(ve(a))}function gl(){const a=Se();return a&&a[12]}const Kh=new Kt("ENVIRONMENT_INITIALIZER"),C_=new Kt("INJECTOR",-1),Cb=new Kt("INJECTOR_DEF_TYPES");class yd{get(l,u=ul){if(u===ul){const h=new Error(`NullInjectorError: No provider for ${pe(l)}!`);throw h.name="NullInjectorError",h}return u}}function Db(...a){return{\u0275providers:Ir(0,a)}}function Ir(a,...l){const u=[],h=new Set;let f;return Sr(l,_=>{const b=_;zp(b,u,[],h)&&(f||(f=[]),f.push(b))}),void 0!==f&&gc(f,u),u}function gc(a,l){for(let u=0;u<a.length;u++){const{providers:f}=a[u];Sr(f,_=>{l.push(_)})}}function zp(a,l,u,h){if(!(a=X(a)))return!1;let f=null,_=ar(a);const b=!_&&at(a);if(_||b){if(b&&!b.standalone)return!1;f=a}else{const S=a.ngModule;if(_=ar(S),!_)return!1;f=S}const D=h.has(f);if(b){if(D)return!1;if(h.add(f),b.dependencies){const S="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const x of S)zp(x,l,u,h)}}else{if(!_)return!1;{if(null!=_.imports&&!D){let x;h.add(f);try{Sr(_.imports,O=>{zp(O,l,u,h)&&(x||(x=[]),x.push(O))})}finally{}void 0!==x&&gc(x,l)}if(!D){const x=rs(f)||(()=>new f);l.push({provide:f,useFactory:x,deps:Ut},{provide:Cb,useValue:f,multi:!0},{provide:Kh,useValue:()=>xn(f),multi:!0})}const S=_.providers;null==S||D||Sr(S,O=>{l.push(O)})}}return f!==a&&void 0!==a.providers}const Qh=fe({provide:String,useValue:fe});function Fr(a){return null!==a&&"object"==typeof a&&Qh in a}function ou(a){return"function"==typeof a}const et=new Kt("Set Injector scope."),ki={},Sb={};let au;function Vo(){return void 0===au&&(au=new yd),au}class gi{}class Bo extends gi{constructor(l,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uo(l,b=>this.processProvider(b)),this.records.set(C_,Ws(void 0,this)),f.has("environment")&&this.records.set(gi,Ws(void 0,this));const _=this.records.get(et);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Cb.multi,Ut,wt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=Ro(this),h=Wn(void 0);try{return l()}finally{Ro(u),Wn(h)}}get(l,u=ul,h=wt.Default){this.assertNotDestroyed();const f=Ro(this),_=Wn(void 0);try{if(!(h&wt.SkipSelf)){let D=this.records.get(l);if(void 0===D){const S=function Lr(a){return"function"==typeof a||"object"==typeof a&&a instanceof Kt}(l)&&wn(l);D=S&&this.injectableDefInScope(S)?Ws(vd(l),ki):null,this.records.set(l,D)}if(null!=D)return this.hydrate(l,D)}return(h&wt.Self?Vo():this.parent).get(l,u=h&wt.Optional&&u===ul?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[ko]=b[ko]||[]).unshift(pe(l)),f)throw b;return function k(a,l,u,h){const f=a[ko];throw l[nu]&&f.unshift(l[nu]),a.message=function U(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=pe(l);if(Array.isArray(l))f=l.map(pe).join(" -> ");else if("object"==typeof l){let _=[];for(let b in l)if(l.hasOwnProperty(b)){let D=l[b];_.push(b+":"+("string"==typeof D?JSON.stringify(D):pe(D)))}f=`{${_.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${a.replace(Bh,"\n  ")}`}("\n"+a.message,f,u,h),a.ngTokenPath=f,a[ko]=null,a}(b,l,"R3InjectorError",this.source)}throw b}finally{Wn(_),Ro(f)}}resolveInjectorInitializers(){const l=Ro(this),u=Wn(void 0);try{const h=this.get(Kh.multi,Ut,wt.Self);for(const f of h)f()}finally{Ro(l),Wn(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(pe(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(l){let u=ou(l=X(l))?l:X(l&&l.provide);const h=function cs(a){return Fr(a)?Ws(void 0,a.useValue):Ws(lu(a),ki)}(l);if(ou(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=Ws(void 0,ki,!0),f.factory=()=>iu(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===ki&&(u.value=Sb,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Tb(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=X(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function vd(a){const l=wn(a),u=null!==l?l.factory:rs(a);if(null!==u)return u;if(a instanceof Kt)throw new Ce(204,!1);if(a instanceof Function)return function E_(a){const l=a.length;if(l>0)throw pa(l,"?"),new Ce(204,!1);const u=function Ar(a){const l=a&&(a[gs]||a[Mr]);if(l){const u=function Ki(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Ce(204,!1)}function lu(a,l,u){let h;if(ou(a)){const f=X(a);return rs(f)||vd(f)}if(Fr(a))h=()=>X(a.useValue);else if(function D_(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...iu(a.deps||[]));else if(function Eb(a){return!(!a||!a.useExisting)}(a))h=()=>xn(X(a.useExisting));else{const f=X(a&&(a.useClass||a.provide));if(!function _l(a){return!!a.deps}(a))return rs(f)||vd(f);h=()=>new f(...iu(a.deps))}return h}function Ws(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function cu(a){return!!a.\u0275providers}function Uo(a,l){for(const u of a)Array.isArray(u)?Uo(u,l):cu(u)?Uo(u.\u0275providers,l):l(u)}class ei{}class w{resolveComponentFactory(l){throw function v(a){const l=Error(`No component factory found for ${pe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let A=(()=>{class a{}return a.NULL=new w,a})();function R(){return q(Pn(),Se())}function q(a,l){return new de(Dr(a,l))}let de=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=R,a})();function Be(a){return a instanceof de?a.nativeElement:a}class mt{}let ct=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function Gt(){const a=Se(),u=Ui(Pn().index,a);return(dn(u)?u:a)[11]}(),a})(),Ri=(()=>{class a{}return a.\u0275prov=ln({token:a,providedIn:"root",factory:()=>null}),a})();class bd{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const ba=new bd("14.1.3"),_c={};function I_(a){return a.ngOriginalError}class Jh{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&I_(l);for(;u&&I_(u);)u=I_(u);return u||null}}const Dd=new Map;let gA=0;const Xh="__ngContext__";function Vr(a,l){dn(l)?(a[Xh]=l[20],function _A(a){Dd.set(a[20],a)}(l)):a[Xh]=l}function Td(a){const l=a[Xh];return"number"==typeof l?function Mb(a){return Dd.get(a)||null}(l):l||null}function ef(a){const l=Td(a);return l?dn(l)?l:l.lView:null}const CA=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Xe))();function us(a){return a instanceof Function?a():a}var Ss=(()=>((Ss=Ss||{})[Ss.Important=1]="Important",Ss[Ss.DashCase=2]="DashCase",Ss))();function R_(a,l){return undefined(a,l)}function $p(a){const l=a[3];return Cr(l)?l[3]:l}function Lb(a){return rf(a[13])}function Zp(a){return rf(a[4])}function rf(a){for(;null!==a&&!Cr(a);)a=a[4];return a}function fu(a,l,u,h,f){if(null!=h){let _,b=!1;Cr(h)?_=h:dn(h)&&(b=!0,h=h[0]);const D=Jn(h);0===a&&null!==u?null==f?zb(l,u,D):xd(l,u,D,f||null,!0):1===a&&null!==u?xd(l,u,D,f||null,!0):2===a?function F_(a,l,u){const h=sf(a,l);h&&function JD(a,l,u,h){a.removeChild(l,u,h)}(a,h,l,u)}(l,D,b):3===a&&l.destroyNode(D),null!=_&&function Kp(a,l,u,h,f){const _=u[7];_!==Jn(u)&&fu(l,a,h,_,f);for(let D=10;D<u.length;D++){const S=u[D];Md(S[1],S,a,l,h,_)}}(l,a,_,u,f)}}function Ca(a,l,u){return a.createElement(l,u)}function ZD(a,l){const u=a[9],h=u.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,Qa(f,-1)),u.splice(h,1)}function Hb(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const f=h[17];null!==f&&f!==a&&ZD(f,h),l>0&&(a[u-1][4]=h[4]);const _=fa(a,10+l);!function Ub(a,l){Md(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const b=_[19];null!==b&&b.detachView(_[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function YD(a,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&Md(a,l,u,3,null,null),function $D(a){let l=a[13];if(!l)return jb(a[1],a);for(;l;){let u=null;if(dn(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)dn(l)&&jb(l[1],l),l=l[3];null===l&&(l=a),dn(l)&&jb(l[1],l),u=l&&l[4]}l=u}}(l)}}function jb(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function xA(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof rl)){const _=u[h+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const D=f[_[b]],S=_[b+1];try{S.call(D)}finally{}}else try{_.call(f)}finally{}}}}(a,l),function IA(a,l){const u=a.cleanup,h=l[7];let f=-1;if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const b=u[_+1],D="function"==typeof b?b(l):Jn(l[b]),S=h[f=u[_+2]],x=u[_+3];"boolean"==typeof x?D.removeEventListener(u[_],S,x):x>=0?h[f=x]():h[f=-x].unsubscribe(),_+=2}else{const b=h[f=u[_+1]];u[_].call(b)}if(null!==h){for(let _=f+1;_<h.length;_++)(0,h[_])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&Cr(l[3])){u!==l[3]&&ZD(u,l);const h=l[19];null!==h&&h.detachView(a)}!function kb(a){Dd.delete(a[20])}(l)}}function WD(a,l,u){return function KD(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const f=a.data[h.directiveStart].encapsulation;if(f===ot.None||f===ot.Emulated)return null}return Dr(h,u)}(a,l.parent,u)}function xd(a,l,u,h,f){a.insertBefore(l,u,h,f)}function zb(a,l,u){a.appendChild(l,u)}function QD(a,l,u,h,f){null!==h?xd(a,l,u,h,f):zb(a,l,u)}function sf(a,l){return a.parentNode(l)}function Ad(a,l,u){return Gb(a,l,u)}let Gb=function qb(a,l,u){return 40&a.type?Dr(a,u):null};function Yp(a,l,u,h){const f=WD(a,h,l),_=l[11],D=Ad(h.parent||l[6],h,l);if(null!=f)if(Array.isArray(u))for(let S=0;S<u.length;S++)QD(_,f,u[S],D,!1);else QD(_,f,u,D,!1)}function P_(a,l){if(null!==l){const u=l.type;if(3&u)return Dr(l,a);if(4&u)return N_(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return P_(a,h);{const f=a[l.index];return Cr(f)?N_(-1,f):Jn(f)}}if(32&u)return R_(l,a)()||Jn(a[l.index]);{const h=Wp(a,l);return null!==h?Array.isArray(h)?h[0]:P_($p(a[16]),h):P_(a,l.next)}}return null}function Wp(a,l){return null!==l?a[16][6].projection[l.projection]:null}function N_(a,l){const u=10+a+1;if(u<l.length){const h=l[u],f=h[1].firstChild;if(null!==f)return P_(h,f)}return l[7]}function L_(a,l,u,h,f,_,b){for(;null!=u;){const D=h[u.index],S=u.type;if(b&&0===l&&(D&&Vr(Jn(D),h),u.flags|=4),64!=(64&u.flags))if(8&S)L_(a,l,u.child,h,f,_,!1),fu(l,a,f,D,_);else if(32&S){const x=R_(u,h);let O;for(;O=x();)fu(l,a,f,O,_);fu(l,a,f,D,_)}else 16&S?eE(a,l,h,u,f,_):fu(l,a,f,D,_);u=b?u.projectionNext:u.next}}function Md(a,l,u,h,f,_){L_(u,h,a.firstChild,l,f,_,!1)}function eE(a,l,u,h,f,_){const b=u[16],S=b[6].projection[h.projection];if(Array.isArray(S))for(let x=0;x<S.length;x++)fu(l,a,f,S[x],_);else L_(a,l,S,b[3],f,_,!0)}function tE(a,l,u){a.setAttribute(l,"style",u)}function Qp(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function Yb(a,l,u){let h=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const _=l.length;if(f+_===h||a.charCodeAt(f+_)<=32)return f}u=f+1}}const Wb="ng-template";function nE(a,l,u){let h=0;for(;h<a.length;){let f=a[h++];if(u&&"class"===f){if(f=a[h],-1!==Yb(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<a.length&&"string"==typeof(f=a[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function iE(a){return 4===a.type&&a.value!==Wb}function Jp(a,l,u){return l===(4!==a.type||u?a.value:Wb)}function V_(a,l,u){let h=4;const f=a.attrs||[],_=function oE(a){for(let l=0;l<a.length;l++)if(sc(a[l]))return l;return a.length}(f);let b=!1;for(let D=0;D<l.length;D++){const S=l[D];if("number"!=typeof S){if(!b)if(4&h){if(h=2|1&h,""!==S&&!Jp(a,S,u)||""===S&&1===l.length){if(Br(h))return!1;b=!0}}else{const x=8&h?S:l[++D];if(8&h&&null!==a.attrs){if(!nE(a.attrs,x,u)){if(Br(h))return!1;b=!0}continue}const B=kA(8&h?"class":S,f,iE(a),u);if(-1===B){if(Br(h))return!1;b=!0;continue}if(""!==x){let W;W=B>_?"":f[B+1].toLowerCase();const se=8&h?W:null;if(se&&-1!==Yb(se,x,0)||2&h&&x!==W){if(Br(h))return!1;b=!0}}}}else{if(!b&&!Br(h)&&!Br(S))return!1;if(b&&Br(S))continue;b=!1,h=S|1&h}}return Br(h)||b}function Br(a){return 0==(1&a)}function kA(a,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let _=!1;for(;f<l.length;){const b=l[f];if(b===a)return f;if(3===b||6===b)_=!0;else{if(1===b||2===b){let D=l[++f];for(;"string"==typeof D;)D=l[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=_?1:2}return-1}return function aL(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function rE(a,l,u=!1){for(let h=0;h<l.length;h++)if(V_(a,l[h],u))return!0;return!1}function lL(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function RA(a,l){return a?":not("+l.trim()+")":l}function cL(a){let l=a[0],u=1,h=2,f="",_=!1;for(;u<a.length;){let b=a[u];if("string"==typeof b)if(2&h){const D=a[++u];f+="["+b+(D.length>0?'="'+D+'"':"")+"]"}else 8&h?f+="."+b:4&h&&(f+=" "+b);else""!==f&&!Br(b)&&(l+=RA(_,f),f=""),h=b,_=_||!Br(h);u++}return""!==f&&(l+=RA(_,f)),l}const Bt={};function aE(a){B_(jt(),Se(),pi()+a,!1)}function B_(a,l,u,h){if(!h)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&vp(l,_,u)}else{const _=a.preOrderHooks;null!==_&&bp(l,_,0,u)}Or(u)}function Xp(a,l=null,u=null,h){const f=af(a,l,u,h);return f.resolveInjectorInitializers(),f}function af(a,l=null,u=null,h,f=new Set){const _=[u||Ut,Db(a)];return h=h||("object"==typeof a?void 0:pe(a)),new Bo(_,l||Vo(),h||null,f)}let kd=(()=>{class a{static create(u,h){if(Array.isArray(u))return Xp({name:""},h,u,"");{const f=u.name??"";return Xp({name:f},u.parent,u.providers,f)}}}return a.THROW_IF_NOT_FOUND=ul,a.NULL=new yd,a.\u0275prov=ln({token:a,providedIn:"any",factory:()=>xn(C_)}),a.__NG_ELEMENT_ID__=-1,a})();function cf(a,l=wt.Default){const u=Se();return null===u?xn(a,l):da(Pn(),u,X(a),l)}function _E(){throw new Error("invalid")}function tm(a,l){return a<<17|l<<2}function Ho(a){return a>>17&32767}function $_(a){return 2|a}function Qs(a){return(131068&a)>>2}function Z_(a,l){return-131069&a|l<<2}function Jb(a){return 1|a}function EE(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],_=u[h+1];if(-1!==_){const b=a.data[_];tc(f),b.contentQueries(2,l[_],_)}}}function fn(a,l,u,h,f,_,b,D,S,x,O){const B=l.blueprint.slice();return B[0]=f,B[2]=76|h,(null!==O||a&&1024&a[2])&&(B[2]|=1024),qs(B),B[3]=B[15]=a,B[8]=u,B[10]=b||a&&a[10],B[11]=D||a&&a[11],B[12]=S||a&&a[12]||null,B[9]=x||a&&a[9]||null,B[6]=_,B[20]=function Ed(){return gA++}(),B[21]=O,B[16]=2==l.type?a[16]:B,B}function uf(a,l,u,h,f){let _=a.data[l];if(null===_)_=function J_(a,l,u,h,f){const _=Wl(),b=Kl(),S=a.data[l]=function lM(a,l,u,h,f,_){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,u,l,h,f);return null===a.firstChild&&(a.firstChild=S),null!==_&&(b?null==_.child&&null!==S.parent&&(_.child=S):null===_.next&&(_.next=S)),S}(a,l,u,h,f),function Qu(){return It.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=u,_.value=h,_.attrs=f;const b=function Co(){const a=It.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return Rr(_,!0),_}function yu(a,l,u,h){if(0===u)return-1;const f=l.length;for(let _=0;_<u;_++)l.push(h),a.blueprint.push(h),a.data.push(null);return f}function Js(a,l,u){zc(l);try{const h=a.viewQuery;null!==h&&Fd(1,h,u);const f=a.template;null!==f&&c0(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&EE(a,l),a.staticViewQueries&&Fd(2,a.viewQuery,u);const _=a.components;null!==_&&function SE(a,l){for(let u=0;u<l.length;u++)vc(a,l[u])}(l,_)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,nl()}}function sm(a,l,u,h){const f=l[2];if(128!=(128&f)){zc(l);try{qs(l),function Xl(a){return It.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&c0(a,l,u,2,h);const b=3==(3&f);if(b){const x=a.preOrderCheckHooks;null!==x&&vp(l,x,null)}else{const x=a.preOrderHooks;null!==x&&bp(l,x,0,null),nc(l,0)}if(function LE(a){for(let l=Lb(a);null!==l;l=Zp(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const f=u[h],_=f[3];0==(512&f[2])&&Qa(_,1),f[2]|=512}}}(l),function _0(a){for(let l=Lb(a);null!==l;l=Zp(l))for(let u=10;u<l.length;u++){const h=l[u],f=h[1];ss(h)&&sm(f,h,f.template,h[8])}}(l),null!==a.contentQueries&&EE(a,l),b){const x=a.contentCheckHooks;null!==x&&vp(l,x)}else{const x=a.contentHooks;null!==x&&bp(l,x,1),nc(l,1)}!function rM(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)Or(~f);else{const _=f,b=u[++h],D=u[++h];xh(b,_),D(2,l[_])}}}finally{Or(-1)}}(a,l);const D=a.components;null!==D&&function sM(a,l){for(let u=0;u<l.length;u++)ey(a,l[u])}(l,D);const S=a.viewQuery;if(null!==S&&Fd(2,S,h),b){const x=a.viewCheckHooks;null!==x&&vp(l,x)}else{const x=a.viewHooks;null!==x&&bp(l,x,2),nc(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Qa(l[3],-1))}finally{nl()}}}function oM(a,l,u,h){const f=l[10],b=Ka(l);try{!b&&f.begin&&f.begin(),b&&Js(a,l,h),sm(a,l,u,h)}finally{!b&&f.end&&f.end()}}function c0(a,l,u,h,f){const _=pi(),b=2&h;try{Or(-1),b&&l.length>22&&B_(a,l,22,!1),u(h,f)}finally{Or(_)}}function aM(a,l,u){if(za(l)){const f=l.directiveEnd;for(let _=l.directiveStart;_<f;_++){const b=a.data[_];b.contentQueries&&b.contentQueries(1,u[_],_)}}}function TE(a,l,u){!bo()||(function dM(a,l,u,h){const f=u.directiveStart,_=u.directiveEnd;a.firstCreatePass||ca(u,l),Vr(h,l);const b=u.initialInputs;for(let D=f;D<_;D++){const S=a.data[D],x=Bi(S);x&&mM(l,u,S);const O=Io(l,a,D,u);Vr(O,l),null!==b&&Ur(0,D-f,O,S,0,b),x&&(Ui(u.index,l)[8]=O)}}(a,l,u,Dr(u,l)),128==(128&u.flags)&&function OE(a,l,u){const h=u.directiveStart,f=u.directiveEnd,_=u.index,b=function ec(){return It.lFrame.currentDirectiveIndex}();try{Or(_);for(let D=h;D<f;D++){const S=a.data[D],x=l[D];Xu(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&PE(S,x)}}finally{Or(-1),Xu(b)}}(a,l,u))}function X_(a,l,u=Dr){const h=l.localNames;if(null!==h){let f=l.index+1;for(let _=0;_<h.length;_+=2){const b=h[_+1],D=-1===b?u(l,a):a[b];a[f++]=D}}}function u0(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=d0(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function d0(a,l,u,h,f,_,b,D,S,x){const O=22+h,B=O+f,W=function vu(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:Bt);return u}(O,B),se="function"==typeof x?x():x;return W[1]={type:a,blueprint:W,template:u,queries:null,viewQuery:D,declTNode:l,data:W.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:S,consts:se,incompleteFirstPass:!1}}function h0(a,l,u,h){const f=gM(l);null===u?f.push(h):(f.push(u),a.firstCreatePass&&Ld(a).push(h,f.length-1))}function xE(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const f=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,f):u[h]=[l,f]}return u}function AE(a,l){const h=l.directiveEnd,f=a.data,_=l.attrs,b=[];let D=null,S=null;for(let x=l.directiveStart;x<h;x++){const O=f[x],B=O.inputs,W=null===_||iE(l)?null:EL(B,_);b.push(W),D=xE(B,x,D),S=xE(O.outputs,x,S)}null!==D&&(D.hasOwnProperty("class")&&(l.flags|=16),D.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=D,l.outputs=S}function Xs(a,l,u,h,f,_,b,D){const S=Dr(l,u);let O,x=l.inputs;!D&&null!=x&&(O=x[h])?(Vd(a,u,O,h,f),ta(l)&&kE(u,l.index)):3&l.type&&(h=function ME(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=b?b(f,l.value||"",h):f,_.setProperty(S,h,f))}function kE(a,l){const u=Ui(l,a);16&u[2]||(u[2]|=32)}function f0(a,l,u,h){let f=!1;if(bo()){const _=function m0(a,l,u){const h=a.directiveRegistry;let f=null;if(h)for(let _=0;_<h.length;_++){const b=h[_];rE(u,b.selectors,!1)&&(f||(f=[]),Er(ca(u,l),a,b.type),Bi(b)?(NE(a,u),f.unshift(b)):f.push(b))}return f}(a,l,u),b=null===h?null:{"":-1};if(null!==_){f=!0,pM(u,a.data.length,_.length);for(let O=0;O<_.length;O++){const B=_[O];B.providersResolver&&B.providersResolver(B)}let D=!1,S=!1,x=yu(a,l,_.length,null);for(let O=0;O<_.length;O++){const B=_[O];u.mergedAttrs=Do(u.mergedAttrs,B.hostAttrs),FE(a,u,l,x,B),fM(x,B,b),null!==B.contentQueries&&(u.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(u.flags|=128);const W=B.type.prototype;!D&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),D=!0),!S&&(W.ngOnChanges||W.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),S=!0),x++}AE(a,u)}b&&function hM(a,l,u){if(l){const h=a.localNames=[];for(let f=0;f<l.length;f+=2){const _=u[l[f+1]];if(null==_)throw new Ce(-301,!1);h.push(l[f],_)}}}(u,h,b)}return u.mergedAttrs=Do(u.mergedAttrs,u.attrs),f}function p0(a,l,u,h,f,_){const b=_.hostBindings;if(b){let D=a.hostBindingOpCodes;null===D&&(D=a.hostBindingOpCodes=[]);const S=~l.index;(function uM(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(D)!=S&&D.push(S),D.push(h,f,b)}}function PE(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function NE(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function fM(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;Bi(l)&&(u[""]=a)}}function pM(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function FE(a,l,u,h,f){a.data[h]=f;const _=f.factory||(f.factory=rs(f.type)),b=new rl(_,Bi(f),cf);a.blueprint[h]=b,u[h]=b,p0(a,l,0,h,yu(a,u,f.hostVars,Bt),f)}function mM(a,l,u){const h=Dr(l,a),f=u0(u),_=a[10],b=ty(a,fn(a,f,null,u.onPush?32:16,h,l,_,_.createRenderer(h,u),null,null,null));a[l.index]=b}function bl(a,l,u,h,f,_){const b=Dr(a,l);!function g0(a,l,u,h,f,_,b){if(null==_)a.removeAttribute(l,f,u);else{const D=null==b?ve(_):b(_,h||"",f);a.setAttribute(l,f,D,u)}}(l[11],b,_,a.value,u,h,f)}function Ur(a,l,u,h,f,_){const b=_[l];if(null!==b){const D=h.setInput;for(let S=0;S<b.length;){const x=b[S++],O=b[S++],B=b[S++];null!==D?h.setInput(u,B,x,O):u[O]=B}}}function EL(a,l){let u=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,a[f],l[h+1])),h+=2}else h+=2;else h+=4}return u}function Dt(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function ey(a,l){const u=Ui(l,a);if(ss(u)){const h=u[1];48&u[2]?sm(h,u,h.template,u[8]):u[5]>0&&_i(u)}}function _i(a){for(let h=Lb(a);null!==h;h=Zp(h))for(let f=10;f<h.length;f++){const _=h[f];if(ss(_))if(512&_[2]){const b=_[1];sm(b,_,b.template,_[8])}else _[5]>0&&_i(_)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=Ui(u[h],a);ss(f)&&f[5]>0&&_i(f)}}function vc(a,l){const u=Ui(l,a),h=u[1];(function VE(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),Js(h,u,u[8])}function ty(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function am(a){for(;a;){a[2]|=32;const l=$p(a);if(pp(a)&&!l)return a;a=l}return null}function lm(a){!function y0(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],h=ef(u);if(null!==h){const f=h[1];oM(f,h,f.template,u)}}}(a[8])}function Fd(a,l,u){tc(0),l(a,u)}const er=(()=>Promise.resolve(null))();function gM(a){return a[7]||(a[7]=[])}function Ld(a){return a.cleanup||(a.cleanup=[])}function v0(a,l,u){return(null===a||Bi(a))&&(u=function Th(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function b0(a,l){const u=a[9],h=u?u.get(Jh,null):null;h&&h.handleError(l)}function Vd(a,l,u,h,f){for(let _=0;_<u.length;){const b=u[_++],D=u[_++],S=l[b],x=a.data[b];null!==x.setInput?x.setInput(S,f,h,D):S[D]=f}}function Bd(a,l,u){let h=u?a.styles:null,f=u?a.classes:null,_=0;if(null!==l)for(let b=0;b<l.length;b++){const D=l[b];"number"==typeof D?_=D:1==_?f=_e(f,D):2==_&&(h=_e(h,D+": "+l[++b]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=f:a.classesWithoutHost=f}function Ud(a,l,u,h,f=!1){for(;null!==u;){const _=l[u.index];if(null!==_&&h.push(Jn(_)),Cr(_))for(let D=10;D<_.length;D++){const S=_[D],x=S[1].firstChild;null!==x&&Ud(S[1],S,x,h)}const b=u.type;if(8&b)Ud(a,l,u.child,h);else if(32&b){const D=R_(u,l);let S;for(;S=D();)h.push(S)}else if(16&b){const D=Wp(l,u);if(Array.isArray(D))h.push(...D);else{const S=$p(l[16]);Ud(S[1],S,D,h,!0)}}u=f?u.projectionNext:u.next}return h}class Da{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Ud(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Cr(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(Hb(l,h),fa(u,h))}this._attachedToViewContainer=!1}YD(this._lView[1],this._lView)}onDestroy(l){h0(this._lView[1],this._lView,null,l)}markForCheck(){am(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function ny(a,l,u){const h=l[10];h.begin&&h.begin();try{sm(a,l,a.template,u)}catch(f){throw b0(l,f),f}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function O_(a,l){Md(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=l}}class UE extends Da{constructor(l){super(l),this._view=l}detectChanges(){lm(this._view)}checkNoChanges(){}get context(){return null}}class Hd extends A{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=at(l);return new wc(u,this.ngModule)}}function iy(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class yM{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){const f=this.injector.get(l,_c,h);return f!==_c||u===_c?f:this.parentInjector.get(l,u,h)}}class wc extends ei{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function Kb(a){return a.map(cL).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return iy(this.componentDef.inputs)}get outputs(){return iy(this.componentDef.outputs)}create(l,u,h,f){let _=(f=f||this.ngModule)instanceof gi?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new yM(l,_):l,D=b.get(mt,null);if(null===D)throw new Ce(407,!1);const S=b.get(Ri,null),x=D.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",B=h?function IE(a,l,u){return a.selectRootElement(l,u===ot.ShadowDom)}(x,h,this.componentDef.encapsulation):Ca(D.createRenderer(null,this.componentDef),O,function _M(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(O)),W=this.componentDef.onPush?288:272,se=function Cc(a,l){return{components:[],scheduler:a||CA,clean:er,playerHandler:l||null,flags:0}}(),De=d0(0,null,null,1,0,null,null,null,null,null),Pe=fn(null,De,se,W,null,null,D,x,S,b,null);let Ye,rt;zc(Pe);try{const Mt=function bM(a,l,u,h,f,_){const b=u[1];u[22]=a;const S=uf(b,22,2,"#host",null),x=S.mergedAttrs=l.hostAttrs;null!==x&&(Bd(S,x,!0),null!==a&&(rc(f,a,x),null!==S.classes&&Qp(f,a,S.classes),null!==S.styles&&tE(f,a,S.styles)));const O=h.createRenderer(a,l),B=fn(u,u0(l),null,l.onPush?32:16,u[22],S,h,O,_||null,null,null);return b.firstCreatePass&&(Er(ca(S,u),b,l.type),NE(b,S),pM(S,u.length,1)),ty(u,B),u[22]=B}(B,this.componentDef,Pe,D,x);if(B)if(h)rc(x,B,["ng-version",ba.full]);else{const{attrs:ke,classes:Et}=function OA(a){const l=[],u=[];let h=1,f=2;for(;h<a.length;){let _=a[h];if("string"==typeof _)2===f?""!==_&&l.push(_,a[++h]):8===f&&u.push(_);else{if(!Br(f))break;f=_}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);ke&&rc(x,B,ke),Et&&Et.length>0&&Qp(x,B,Et.join(" "))}if(rt=Yl(De,22),void 0!==u){const ke=rt.projection=[];for(let Et=0;Et<this.ngContentSelectors.length;Et++){const Xt=u[Et];ke.push(null!=Xt?Array.from(Xt):null)}}Ye=function wM(a,l,u,h,f){const _=u[1],b=function RE(a,l,u){const h=Pn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),FE(a,h,l,yu(a,l,1,null),u),AE(a,h));const f=Io(l,a,h.directiveStart,h);Vr(f,l);const _=Dr(h,l);return _&&Vr(_,l),f}(_,u,l);if(h.components.push(b),a[8]=b,null!==f)for(const S of f)S(b,l);if(l.contentQueries){const S=Pn();l.contentQueries(1,b,S.directiveStart)}const D=Pn();return!_.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Or(D.index),p0(u[1],D,0,D.directiveStart,D.directiveEnd,l),PE(l,b)),b}(Mt,this.componentDef,Pe,se,[jE]),Js(De,Pe,null)}finally{nl()}return new vM(this.componentType,Ye,q(rt,Pe),Pe,rt)}}class vM extends class $n{}{constructor(l,u,h,f,_){super(),this.location=h,this._rootLView=f,this._tNode=_,this.instance=u,this.hostView=this.changeDetectorRef=new UE(f),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[l])){const _=this._rootLView;Vd(_[1],_,f,l,u),kE(_,this._tNode.index)}}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function jE(){const a=Pn();Wc(Se()[1],a)}function w0(a){let l=function zE(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let f;if(Bi(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ce(903,!1);f=l.\u0275dir}if(f){if(u){h.push(f);const b=a;b.inputs=jd(a.inputs),b.declaredInputs=jd(a.declaredInputs),b.outputs=jd(a.outputs);const D=f.hostBindings;D&&DM(a,D);const S=f.viewQuery,x=f.contentQueries;if(S&&CM(a,S),x&&GE(a,x),ie(a.inputs,f.inputs),ie(a.declaredInputs,f.declaredInputs),ie(a.outputs,f.outputs),Bi(f)&&f.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let b=0;b<_.length;b++){const D=_[b];D&&D.ngInherit&&D(a),D===w0&&(u=!1)}}l=Object.getPrototypeOf(l)}!function qE(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=l+=f.hostVars,f.hostAttrs=Do(f.hostAttrs,u=Do(u,f.hostAttrs))}}(h)}function jd(a){return a===Rn?{}:a===Ut?[]:a}function CM(a,l){const u=a.viewQuery;a.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function GE(a,l){const u=a.contentQueries;a.contentQueries=u?(h,f,_)=>{l(h,f,_),u(h,f,_)}:l}function DM(a,l){const u=a.hostBindings;a.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}let df=null;function wl(){if(!df){const a=Xe.Symbol;if(a&&a.iterator)df=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(df=h)}}}return df}function cm(a){return!!C0(a)&&(Array.isArray(a)||!(a instanceof Map)&&wl()in a)}function C0(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Cl(a,l,u){return a[l]=u}function Hr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function D0(a,l,u,h){const f=Se();return Hr(f,oa(),l)&&(jt(),bl(Nn(),f,a,l,u,h)),D0}function zd(a,l,u,h){return Hr(a,oa(),u)?l+ve(u)+h:Bt}function RM(a,l,u,h,f,_,b,D){const S=Se(),x=jt(),O=a+22,B=x.firstCreatePass?function RL(a,l,u,h,f,_,b,D,S){const x=l.consts,O=uf(l,a,4,b||null,zs(x,D));f0(l,u,O,zs(x,S)),Wc(l,O);const B=O.tViews=d0(2,O,h,f,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,x);return null!==l.queries&&(l.queries.template(l,O),B.queries=l.queries.embeddedTView(O)),O}(O,x,S,l,u,h,f,_,b):x.data[O];Rr(B,!1);const W=S[11].createComment("");Yp(x,S,W,B),Vr(W,S),ty(S,S[O]=Dt(W,S,W,B)),Vs(B)&&TE(x,S,B),null!=b&&X_(S,B,D)}function OM(a){return Hs(function Jl(){return It.lFrame.contextLView}(),22+a)}function YE(a,l,u){const h=Se();return Hr(h,oa(),l)&&Xs(jt(),Nn(),h,a,l,h[11],u,!1),YE}function Ec(a,l,u,h,f){const b=f?"class":"style";Vd(a,u,l.inputs[b],b,h)}function ay(a,l,u,h){const f=Se(),_=jt(),b=22+a,D=f[11],S=f[b]=Ca(D,l,function kh(){return It.lFrame.currentNamespace}()),x=_.firstCreatePass?function E0(a,l,u,h,f,_,b){const D=l.consts,x=uf(l,a,2,f,zs(D,_));return f0(l,u,x,zs(D,b)),null!==x.attrs&&Bd(x,x.attrs,!1),null!==x.mergedAttrs&&Bd(x,x.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,x),x}(b,_,f,0,l,u,h):_.data[b];Rr(x,!0);const O=x.mergedAttrs;null!==O&&rc(D,S,O);const B=x.classes;null!==B&&Qp(D,S,B);const W=x.styles;return null!==W&&tE(D,S,W),64!=(64&x.flags)&&Yp(_,f,S,x),0===function Uc(){return It.lFrame.elementDepthCount}()&&Vr(S,f),function Ku(){It.lFrame.elementDepthCount++}(),Vs(x)&&(TE(_,f,x),aM(_,x,f)),null!==h&&X_(f,x),ay}function ly(){let a=Pn();Kl()?Ql():(a=a.parent,Rr(a,!1));const l=a;!function sa(){It.lFrame.elementDepthCount--}();const u=jt();return u.firstCreatePass&&(Wc(u,a),za(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Ti(a){return 0!=(16&a.flags)}(l)&&Ec(u,l,Se(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Cp(a){return 0!=(32&a.flags)}(l)&&Ec(u,l,Se(),l.stylesWithoutHost,!1),ly}function S0(a,l,u,h){return ay(a,l,u,h),ly(),S0}function cy(a,l,u){const h=Se(),f=jt(),_=a+22,b=f.firstCreatePass?function PM(a,l,u,h,f){const _=l.consts,b=zs(_,h),D=uf(l,a,8,"ng-container",b);return null!==b&&Bd(D,b,!0),f0(l,u,D,zs(_,f)),null!==l.queries&&l.queries.elementStart(l,D),D}(_,f,h,l,u):f.data[_];Rr(b,!0);const D=h[_]=h[11].createComment("");return Yp(f,h,D,b),Vr(D,h),Vs(b)&&(TE(f,h,b),aM(f,b,h)),null!=u&&X_(h,b),cy}function pf(){let a=Pn();const l=jt();return Kl()?Ql():(a=a.parent,Rr(a,!1)),l.firstCreatePass&&(Wc(l,a),za(a)&&l.queries.elementEnd(a)),pf}function Cu(a,l,u){return cy(a,l,u),pf(),Cu}function WE(){return Se()}function Du(a){return!!a&&"function"==typeof a.then}function $d(a){return!!a&&"function"==typeof a.subscribe}const mm=$d;function T0(a,l,u,h){const f=Se(),_=jt(),b=Pn();return uy(_,f,f[11],b,a,l,0,h),T0}function I0(a,l){const u=Pn(),h=Se(),f=jt();return uy(f,h,v0(aa(f.data),u,h),u,a,l),I0}function uy(a,l,u,h,f,_,b,D){const S=Vs(h),O=a.firstCreatePass&&Ld(a),B=l[8],W=gM(l);let se=!0;if(3&h.type||D){const Ye=Dr(h,l),rt=D?D(Ye):Ye,Mt=W.length,ke=D?Xt=>D(Jn(Xt[h.index])):h.index;let Et=null;if(!D&&S&&(Et=function Sc(a,l,u,h){const f=a.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const b=f[_];if(b===u&&f[_+1]===h){const D=l[7],S=f[_+2];return D.length>S?D[S]:null}"string"==typeof b&&(_+=2)}return null}(a,l,f,h.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=_,Et.__ngLastListenerFn__=_,se=!1;else{_=x0(h,l,B,_,!1);const Xt=u.listen(rt,f,_);W.push(_,Xt),O&&O.push(f,ke,Mt,Mt+1)}}else _=x0(h,l,B,_,!1);const De=h.outputs;let Pe;if(se&&null!==De&&(Pe=De[f])){const Ye=Pe.length;if(Ye)for(let rt=0;rt<Ye;rt+=2){const Hn=l[Pe[rt]][Pe[rt+1]].subscribe(_),th=W.length;W.push(_,Hn),O&&O.push(f,h.index,th,-(th+1))}}}function dy(a,l,u,h){try{return!1!==u(h)}catch(f){return b0(a,f),!1}}function x0(a,l,u,h,f){return function _(b){if(b===Function)return h;am(2&a.flags?Ui(a.index,l):l);let S=dy(l,0,h,b),x=_.__ngNextListenerFn__;for(;x;)S=dy(l,0,x,b)&&S,x=x.__ngNextListenerFn__;return f&&!1===S&&(b.preventDefault(),b.returnValue=!1),S}}function hy(a=1){return function yp(a){return(It.lFrame.contextLView=function Yc(a,l){for(;a>0;)l=l[15],a--;return l}(a,It.lFrame.contextLView))[8]}(a)}function KE(a,l){let u=null;const h=function sE(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const _=l[f];if("*"!==_){if(null===h?rE(a,_,!0):lL(h,_))return f}else u=f}return u}function fy(a){const l=Se()[16][6];if(!l.projection){const h=l.projection=pa(a?a.length:1,null),f=h.slice();let _=l.child;for(;null!==_;){const b=a?KE(_,a):0;null!==b&&(f[b]?f[b].projectionNext=_:h[b]=_,f[b]=_),_=_.next}}}function A0(a,l=0,u){const h=Se(),f=jt(),_=uf(f,22+a,16,null,u||null);null===_.projection&&(_.projection=l),Ql(),64!=(64&_.flags)&&function Zb(a,l,u){eE(l[11],0,l,u,WD(a,u,l),Ad(u.parent||l[6],u,l))}(f,h,_)}function ym(a,l,u,h,f){const _=a[u+1],b=null===l;let D=h?Ho(_):Qs(_),S=!1;for(;0!==D&&(!1===S||b);){const O=a[D+1];nS(a[D],l)&&(S=!0,a[D+1]=h?Jb(O):$_(O)),D=h?Ho(O):Qs(O)}S&&(a[u+1]=h?$_(_):Jb(_))}function nS(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&cc(a,l)>=0}const tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function FM(a){return a.substring(tr.key,tr.keyEnd)}function LM(a,l){const u=tr.textEnd;return u===l?-1:(l=tr.keyEnd=function R0(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,tr.key=l,u),vm(a,l,u))}function vm(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function iS(a,l,u){return Ea(a,l,u,!1),iS}function rS(a,l){return Ea(a,l,null,!0),rS}function Tc(a,l){for(let u=function NL(a){return function BM(a){tr.key=0,tr.keyEnd=0,tr.value=0,tr.valueEnd=0,tr.textEnd=a.length}(a),LM(a,vm(a,0,tr.textEnd))}(l);u>=0;u=LM(l,u))Gn(a,FM(l),!0)}function Ea(a,l,u,h){const f=Se(),_=jt(),b=$s(2);_.firstUpdatePass&&gy(_,a,b,h),l!==Bt&&Hr(f,b,l)&&Dm(_,_.data[pi()],f,f[11],a,f[b+1]=function yy(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=pe(ls(a)))),a}(l,u),h,b)}function Cm(a,l){return l>=a.expandoStartIndex}function gy(a,l,u,h){const f=a.data;if(null===f[u+1]){const _=f[pi()],b=Cm(a,u);xc(_,h)&&null===l&&!b&&(l=!1),l=function LL(a,l,u,h){const f=aa(a);let _=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=_y(u=P0(null,a,l,u,h),l.attrs,h),_=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==f)if(u=P0(f,a,l,u,h),null===_){let S=function to(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Qs(h))return a[Ho(h)]}(a,l,h);void 0!==S&&Array.isArray(S)&&(S=P0(null,a,l,S[1],h),S=_y(S,l.attrs,h),function HM(a,l,u,h){a[Ho(u?l.classBindings:l.styleBindings)]=h}(a,l,h,S))}else _=function jM(a,l,u){let h;const f=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<f;_++)h=_y(h,a[_].hostAttrs,u);return _y(h,l.attrs,u)}(a,l,h)}return void 0!==_&&(h?l.residualClasses=_:l.residualStyles=_),u}(f,_,l,h),function M0(a,l,u,h,f,_){let b=_?l.classBindings:l.styleBindings,D=Ho(b),S=Qs(b);a[h]=u;let O,x=!1;if(Array.isArray(u)){const B=u;O=B[1],(null===O||cc(B,O)>0)&&(x=!0)}else O=u;if(f)if(0!==S){const W=Ho(a[D+1]);a[h+1]=tm(W,D),0!==W&&(a[W+1]=Z_(a[W+1],h)),a[D+1]=function G_(a,l){return 131071&a|l<<17}(a[D+1],h)}else a[h+1]=tm(D,0),0!==D&&(a[D+1]=Z_(a[D+1],h)),D=h;else a[h+1]=tm(S,0),0===D?D=h:a[S+1]=Z_(a[S+1],h),S=h;x&&(a[h+1]=$_(a[h+1])),ym(a,O,h,!0),ym(a,O,h,!1),function k0(a,l,u,h,f){const _=f?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&cc(_,l)>=0&&(u[h+1]=Jb(u[h+1]))}(l,O,a,h,_),b=tm(D,S),_?l.classBindings=b:l.styleBindings=b}(f,_,l,u,b,h)}}function P0(a,l,u,h,f){let _=null;const b=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<b&&(_=l[D],h=_y(h,_.hostAttrs,f),_!==a);)D++;return null!==a&&(u.directiveStylingLast=D),h}function _y(a,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let _=0;_<l.length;_++){const b=l[_];"number"==typeof b?f=b:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Gn(a,b,!!u||l[++_]))}return void 0===a?null:a}function Dm(a,l,u,h,f,_,b,D){if(!(3&l.type))return;const S=a.data,x=S[D+1];Zd(function yE(a){return 1==(1&a)}(x)?Em(S,l,u,f,Qs(x),b):void 0)||(Zd(_)||function nm(a){return 2==(2&a)}(x)&&(_=Em(S,null,u,f,D,b)),function AA(a,l,u,h,f){if(l)f?a.addClass(u,h):a.removeClass(u,h);else{let _=-1===h.indexOf("-")?void 0:Ss.DashCase;null==f?a.removeStyle(u,h,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=Ss.Important),a.setStyle(u,h,f,_))}}(h,b,ra(pi(),u),f,_))}function Em(a,l,u,h,f,_){const b=null===l;let D;for(;f>0;){const S=a[f],x=Array.isArray(S),O=x?S[1]:S,B=null===O;let W=u[f+1];W===Bt&&(W=B?Ut:void 0);let se=B?tu(W,h):O===h?W:void 0;if(x&&!Zd(se)&&(se=tu(S,h)),Zd(se)&&(D=se,b))return D;const De=a[f+1];f=b?Ho(De):Qs(De)}if(null!==l){let S=_?l.residualClasses:l.residualStyles;null!=S&&(D=tu(S,h))}return D}function Zd(a){return void 0!==a}function xc(a,l){return 0!=(a.flags&(l?16:32))}function zo(a,l=""){const u=Se(),h=jt(),f=a+22,_=h.firstCreatePass?uf(h,f,1,l,null):h.data[f],b=u[f]=function Vb(a,l){return a.createText(l)}(u[11],l);Yp(h,u,b,_),Rr(_,!1)}function Sl(a){return no("",a,""),Sl}function no(a,l,u){const h=Se(),f=zd(h,a,l,u);return f!==Bt&&function bc(a,l,u){const h=ra(l,a);!function Bb(a,l,u){a.setValue(l,u)}(a[11],h,u)}(h,pi(),f),no}function WM(a,l,u){!function El(a,l,u,h){const f=jt(),_=$s(2);f.firstUpdatePass&&gy(f,null,_,h);const b=Se();if(u!==Bt&&Hr(b,_,u)){const D=f.data[pi()];if(xc(D,h)&&!Cm(f,_)){let S=h?D.classesWithoutHost:D.stylesWithoutHost;null!==S&&(u=_e(S,u||"")),Ec(f,D,b,u,h)}else!function Sa(a,l,u,h,f,_,b,D){f===Bt&&(f=Ut);let S=0,x=0,O=0<f.length?f[0]:null,B=0<_.length?_[0]:null;for(;null!==O||null!==B;){const W=S<f.length?f[S+1]:void 0,se=x<_.length?_[x+1]:void 0;let Pe,De=null;O===B?(S+=2,x+=2,W!==se&&(De=B,Pe=se)):null===B||null!==O&&O<B?(S+=2,De=O):(x+=2,De=B,Pe=se),null!==De&&Dm(a,l,u,h,De,Pe,b,D),O=S<f.length?f[S]:null,B=x<_.length?_[x]:null}}(f,D,b,b[11],b[_+1],b[_+1]=function VL(a,l,u){if(null==u||""===u)return Ut;const h=[],f=ls(u);if(Array.isArray(f))for(let _=0;_<f.length;_++)a(h,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&a(h,_,f[_]);else"string"==typeof f&&l(h,f);return h}(a,l,u),h,_)}}(Gn,Tc,zd(Se(),a,l,u),!0)}function lS(a,l,u){const h=Se();return Hr(h,oa(),l)&&Xs(jt(),Nn(),h,a,l,h[11],u,!0),lS}function cS(a,l,u){const h=Se();if(Hr(h,oa(),l)){const _=jt(),b=Nn();Xs(_,b,h,a,l,v0(aa(_.data),b,h),u,!0)}return cS}const _f=void 0;var t2=["en",[["a","p"],["AM","PM"],_f],[["AM","PM"],_f,_f],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_f,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_f,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_f,"{1} 'at' {0}",_f],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function e2(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Sm={};function uS(a){const l=function r2(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=ok(l);if(u)return u;const h=l.split("-")[0];if(u=ok(h),u)return u;if("en"===h)return t2;throw new Ce(701,!1)}function dS(a){return uS(a)[xt.PluralCase]}function ok(a){return a in Sm||(Sm[a]=Xe.ng&&Xe.ng.common&&Xe.ng.common.locales&&Xe.ng.common.locales[a]),Sm[a]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const Tm="en-US";let ak=Tm;function Dy(a,l,u,h,f){if(a=X(a),Array.isArray(a))for(let _=0;_<a.length;_++)Dy(a[_],l,u,h,f);else{const _=jt(),b=Se();let D=ou(a)?a:X(a.provide),S=lu(a);const x=Pn(),O=1048575&x.providerIndexes,B=x.directiveStart,W=x.providerIndexes>>20;if(ou(a)||!a.multi){const se=new rl(S,f,cf),De=j0(D,l,f?O:O+W,B);-1===De?(Er(ca(x,b),_,D),Ey(_,a,l.length),l.push(D),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),u.push(se),b.push(se)):(u[De]=se,b[De]=se)}else{const se=j0(D,l,O+W,B),De=j0(D,l,O,O+W),Pe=se>=0&&u[se],Ye=De>=0&&u[De];if(f&&!Ye||!f&&!Pe){Er(ca(x,b),_,D);const rt=function Vk(a,l,u,h,f){const _=new rl(a,u,cf);return _.multi=[],_.index=l,_.componentProviders=0,TS(_,f,h&&!u),_}(f?Lk:Fk,u.length,f,h,S);!f&&Ye&&(u[De].providerFactory=rt),Ey(_,a,l.length,0),l.push(D),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),u.push(rt),b.push(rt)}else Ey(_,a,se>-1?se:De,TS(u[f?De:se],S,!f&&h));!f&&h&&Ye&&u[De].componentProviders++}}}function Ey(a,l,u,h){const f=ou(l),_=function Fe(a){return!!a.useClass}(l);if(f||_){const S=(_?X(l.useClass):l).prototype.ngOnDestroy;if(S){const x=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const O=x.indexOf(u);-1===O?x.push(u,[h,S]):x[O+1].push(h,S)}else x.push(u,S)}}}function TS(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function j0(a,l,u,h){for(let f=u;f<h;f++)if(l[f]===a)return f;return-1}function Fk(a,l,u,h){return Wd(this.multi,[])}function Lk(a,l,u,h){const f=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,D=Io(u,u[1],this.providerFactory.index,h);_=D.slice(0,b),Wd(f,_);for(let S=b;S<D.length;S++)_.push(D[S])}else _=[],Wd(f,_);return _}function Wd(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function Bk(a,l=[]){return u=>{u.providersResolver=(h,f)=>function Nk(a,l,u){const h=jt();if(h.firstCreatePass){const f=Bi(a);Dy(u,h.data,h.blueprint,f,!0),Dy(l,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,l)}}class Am{}class Uk{}function k2(a,l){return new z0(a,l??null)}class z0 extends Am{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hd(this);const h=Ei(l);this._bootstrapComponents=us(h.bootstrap),this._r3Injector=af(l,u,[{provide:Am,useValue:this},{provide:A,useValue:this.componentFactoryResolver}],pe(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Sy extends Uk{constructor(l){super(),this.moduleType=l}create(l){return new z0(this.moduleType,l)}}class Hk extends Am{constructor(l,u,h){super(),this.componentFactoryResolver=new Hd(this),this.instance=null;const f=new Bo([...l,{provide:Am,useValue:this},{provide:A,useValue:this.componentFactoryResolver}],u||Vo(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function q0(a,l,u=null){return new Hk(a,l,u).injector}function OS(a,l,u,h,f){return W0(Se(),oi(),a,l,u,h,f)}function Iy(a,l){const u=a[l];return u===Bt?void 0:u}function W0(a,l,u,h,f,_,b){const D=l+u;return function hf(a,l,u,h){const f=Hr(a,l,u);return Hr(a,l+1,h)||f}(a,D,f,_)?Cl(a,D+2,b?h.call(b,f,_):h(f,_)):Iy(a,D+2)}function Mm(a,l){const u=jt();let h;const f=a+22;u.firstCreatePass?(h=function V2(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const _=h.factory||(h.factory=rs(h.type)),b=Wn(cf);try{const D=id(!1),S=_();return id(D),function OL(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,Se(),f,S),S}finally{Wn(b)}}function NS(a,l,u){const h=a+22,f=Se(),_=Hs(f,h);return km(f,h)?function Kk(a,l,u,h,f,_){const b=l+u;return Hr(a,b,f)?Cl(a,b+1,_?h.call(_,f):h(f)):Iy(a,b+1)}(f,oi(),l,_.transform,u,_):_.transform(u)}function yi(a,l,u,h){const f=a+22,_=Se(),b=Hs(_,f);return km(_,f)?W0(_,oi(),l,b.transform,u,h,b):b.transform(u,h)}function km(a,l){return a[1].data[l].pure}function J0(a){return l=>{setTimeout(a,void 0,l)}}const Il=class Jk extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let f=l,_=u||(()=>null),b=h;if(l&&"object"==typeof l){const S=l;f=S.next?.bind(S),_=S.error?.bind(S),b=S.complete?.bind(S)}this.__isAsync&&(_=J0(_),f&&(f=J0(f)),b&&(b=J0(b)));const D=super.subscribe({next:f,error:_,complete:b});return l instanceof ne.w0&&l.add(D),D}};function U2(){return this._results[wl()]()}class qo{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=wl(),h=qo.prototype;h[u]||(h[u]=U2)}get changes(){return this._changes||(this._changes=new Il)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=ji(l);(this._changesDetected=!function cd(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],_=l[h];if(u&&(f=u(f),_=u(_)),_!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Cf=(()=>{class a{}return a.__NG_ELEMENT_ID__=FS,a})();const Xk=Cf,Rm=class extends Xk{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l,u){const h=this._declarationTContainer.tViews,f=fn(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(f[19]=b.createEmbeddedView(h)),Js(h,f,l),new Da(f)}};function FS(){return xy(Pn(),Se())}function xy(a,l){return 4&a.type?new Rm(l,a,q(a,l)):null}let Om=(()=>{class a{}return a.__NG_ELEMENT_ID__=e1,a})();function e1(){return LS(Pn(),Se())}const X0=Om,ew=class extends X0{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return q(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){const l=al(this._hostTNode,this._hostLView);if(Dp(l)){const u=Hi(l,this._hostLView),h=oc(l);return new xo(u[1].data[h+8],u)}return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=tw(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){let f,_;"number"==typeof h?f=h:null!=h&&(f=h.index,_=h.injector);const b=l.createEmbeddedView(u||{},_);return this.insert(b,f),b}createComponent(l,u,h,f,_){const b=l&&!function ac(a){return"function"==typeof a}(l);let D;if(b)D=u;else{const B=u||{};D=B.index,h=B.injector,f=B.projectableNodes,_=B.environmentInjector||B.ngModuleRef}const S=b?l:new wc(at(l)),x=h||this.parentInjector;if(!_&&null==S.ngModule){const W=(b?x:this.parentInjector).get(gi,null);W&&(_=W)}const O=S.create(x,f,void 0,_);return this.insert(O.hostView,D),O}insert(l,u){const h=l._lView,f=h[1];if(function js(a){return Cr(a[3])}(h)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const B=h[3],W=new ew(B,B[6],B[3]);W.detach(W.indexOf(l))}}const _=this._adjustIndex(u),b=this._lContainer;!function SA(a,l,u,h){const f=10+h,_=u.length;h>0&&(u[f-1][4]=l),h<_-10?(l[4]=u[f],ud(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const b=l[17];null!==b&&u!==b&&function TA(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(b,l);const D=l[19];null!==D&&D.insertView(a),l[2]|=64}(f,h,b,_);const D=N_(_,b),S=h[11],x=sf(S,b[7]);return null!==x&&function Id(a,l,u,h,f,_){h[0]=f,h[6]=l,Md(a,h,u,1,f,_)}(f,b[6],S,h,x,D),l.attachToViewContainerRef(),ud(Ay(b),_,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=tw(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=Hb(this._lContainer,u);h&&(fa(Ay(this._lContainer),u),YD(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=Hb(this._lContainer,u);return h&&null!=fa(Ay(this._lContainer),u)?new Da(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function tw(a){return a[8]}function Ay(a){return a[8]||(a[8]=[])}function LS(a,l){let u;const h=l[a.index];if(Cr(h))u=h;else{let f;if(8&a.type)f=Jn(h);else{const _=l[11];f=_.createComment("");const b=Dr(a,l);xd(_,sf(_,b),f,function yc(a,l){return a.nextSibling(l)}(_,b),!1)}l[a.index]=u=Dt(h,l,f,a),ty(l,u)}return new ew(u,a,l)}class ky{constructor(l){this.queryList=l,this.matches=null}clone(){return new ky(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pm{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let _=0;_<h;_++){const b=u.getByIndex(_);f.push(this.queries[b.indexInDeclarationView].clone())}return new Pm(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==zS(l,u).matches&&this.queries[u].setDirty()}}class Ry{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class BS{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,_=this.getByIndex(h).embeddedTView(l,f);_&&(_.indexInDeclarationView=h,null!==u?u.push(_):u=[_])}return null!==u?new BS(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class US{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new US(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const _=h[f];this.matchTNodeWithReadOption(l,u,H2(u,_)),this.matchTNodeWithReadOption(l,u,To(u,l,_,!1,!1))}else h===Cf?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,To(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===de||f===Om||f===Cf&&4&u.type)this.addMatch(u.index,-2);else{const _=To(u,l,f,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function H2(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function j2(a,l,u,h){return-1===u?function iw(a,l){return 11&a.type?q(a,l):4&a.type?xy(a,l):null}(l,a):-2===u?function t1(a,l,u){return u===de?q(l,a):u===Cf?xy(l,a):u===Om?LS(l,a):void 0}(a,l,h):Io(a,a[1],u,l)}function rw(a,l,u,h){const f=l[19].queries[h];if(null===f.matches){const _=a.data,b=u.matches,D=[];for(let S=0;S<b.length;S+=2){const x=b[S];D.push(x<0?null:j2(l,_[x],b[S+1],u.metadata.read))}f.matches=D}return f.matches}function sw(a,l,u,h){const f=a.queries.getByIndex(u),_=f.matches;if(null!==_){const b=rw(a,l,f,u);for(let D=0;D<_.length;D+=2){const S=_[D];if(S>0)h.push(b[D/2]);else{const x=_[D+1],O=l[-S];for(let B=10;B<O.length;B++){const W=O[B];W[17]===W[3]&&sw(W[1],W,x,h)}if(null!==O[9]){const B=O[9];for(let W=0;W<B.length;W++){const se=B[W];sw(se[1],se,x,h)}}}}}return h}function Eu(a){const l=Se(),u=jt(),h=jc();tc(h+1);const f=zS(u,h);if(a.dirty&&Ka(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const _=f.crossesNgTemplate?sw(u,l,h,[]):rw(u,l,f,h);a.reset(_,Be),a.notifyOnChanges()}return!0}return!1}function Oy(a,l,u){const h=jt();h.firstCreatePass&&(jS(h,new Ry(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),HS(h,Se(),l)}function ow(a,l,u,h){const f=jt();if(f.firstCreatePass){const _=Pn();jS(f,new Ry(l,u,h),_.index),function n1(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}HS(f,Se(),u)}function Nm(){return function ti(a,l){return a[19].queries[l].queryList}(Se(),jc())}function HS(a,l,u){const h=new qo(4==(4&u));h0(a,l,h,h.destroy),null===l[19]&&(l[19]=new Pm),l[19].queries.push(new ky(h))}function jS(a,l,u){null===a.queries&&(a.queries=new BS),a.queries.track(new US(l,u))}function zS(a,l){return a.queries.getByIndex(l)}function qS(a,l){return xy(a,l)}function Sf(a){const l=at(a)||En(a)||On(a);return null!==l&&l.standalone}function Bm(...a){}const fw=new Kt("Application Initializer");let Al=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Bm,this.reject=Bm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(Du(_))u.push(_);else if(mm(_)){const b=new Promise((D,S)=>{_.subscribe({complete:D,error:S})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(xn(fw,8))},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const pw=new Kt("AppId",{providedIn:"root",factory:function mw(){return`${JS()}${JS()}${JS()}`}});function JS(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gw=new Kt("Platform Initializer"),y1=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),XS=new Kt("appBootstrapListener"),Go=new Kt("AnimationModuleType");let v1=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Um=new Kt("LocaleId",{providedIn:"root",factory:()=>hl(Um,wt.Optional|wt.SkipSelf)||function eT(){return typeof $localize<"u"&&$localize.locale||Tm}()}),tT=new Kt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nV{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let b1=(()=>{class a{compileModuleSync(u){return new Sy(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),_=us(Ei(u).declarations).reduce((b,D)=>{const S=at(D);return S&&b.push(new wc(S)),b},[]);return new nV(h,_)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const w1=(()=>Promise.resolve(0))();function yw(a){typeof Zone>"u"?w1.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ts{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Il(!1),this.onMicrotaskEmpty=new Il(!1),this.onStable=new Il(!1),this.onError=new Il(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function C1(){let a=Xe.requestAnimationFrame,l=Xe.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function D1(a){const l=()=>{!function iT(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Xe,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Ia(a),a.isCheckStableRunning=!0,bw(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Ia(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,_,b,D)=>{try{return Ml(a),u.invokeTask(f,_,b,D)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),Is(a)}},onInvoke:(u,h,f,_,b,D,S)=>{try{return Ml(a),u.invoke(f,_,b,D,S)}finally{a.shouldCoalesceRunChangeDetection&&l(),Is(a)}},onHasTask:(u,h,f,_)=>{u.hasTask(f,_),h===f&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,Ia(a),bw(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,h,f,_)=>(u.handleError(f,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ts.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Ts.isInAngularZone())throw new Ce(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+f,l,vw,Bm,Bm);try{return _.runTask(b,u,h)}finally{_.cancelTask(b)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const vw={};function bw(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Ia(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Ml(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Is(a){a._nesting--,bw(a)}class rT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Il,this.onMicrotaskEmpty=new Il,this.onStable=new Il,this.onError=new Il}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}const ww=new Kt(""),An=new Kt("");let sT,jr=(()=>{class a{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sT||(function xs(a){sT=a}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ts.assertNotInAngularZone(),yw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yw(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(xn(Ts),xn(Cw),xn(An))},a.\u0275prov=ln({token:a,factory:a.\u0275fac}),a})(),Cw=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return sT?.findTestabilityInTree(this,u,h)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),kl=null;const E1=new Kt("AllowMultipleToken"),Hm=new Kt("PlatformDestroyListeners");class Dw{constructor(l,u){this.name=l,this.token=u}}function cT(a,l,u=[]){const h=`Platform: ${l}`,f=new Kt(h);return(_=[])=>{let b=jm();if(!b||b.injector.get(E1,!1)){const D=[...u,..._,{provide:f,useValue:!0}];a?a(D):function S1(a){if(kl&&!kl.get(E1,!1))throw new Ce(400,!1);kl=a;const l=a.get(uT);(function lT(a){const l=a.get(gw,null);l&&l.forEach(u=>u())})(a)}(function qy(a=[],l){return kd.create({name:l,providers:[{provide:et,useValue:"platform"},{provide:Hm,useValue:new Set([()=>kl=null])},...a]})}(D,h))}return function T1(a){const l=jm();if(!l)throw new Ce(401,!1);return l}()}}function jm(){return kl?.get(uT)??null}let uT=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function rV(a,l){let u;return u="noop"===a?new rT:("zone.js"===a?void 0:a)||new Ts(l),u}(h?.ngZone,function Sw(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:Ts,useValue:f}];return f.run(()=>{const b=kd.create({providers:_,parent:this.injector,name:u.moduleType.name}),D=u.create(b),S=D.injector.get(Jh,null);if(!S)throw new Ce(402,!1);return f.runOutsideAngular(()=>{const x=f.onError.subscribe({next:O=>{S.handleError(O)}});D.onDestroy(()=>{$y(this._modules,D),x.unsubscribe()})}),function dT(a,l,u){try{const h=u();return Du(h)?h.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(S,f,()=>{const x=D.injector.get(Al);return x.runInitializers(),x.donePromise.then(()=>(function lk(a){Wt(a,"Expected localeId to be defined"),"string"==typeof a&&(ak=a.toLowerCase().replace(/_/g,"-"))}(D.injector.get(Um,Tm)||Tm),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,h=[]){const f=hT({},h);return function oT(a,l,u){const h=new Sy(u);return Promise.resolve(h)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(u){const h=u.injector.get(Gy);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Ce(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(Hm,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(xn(kd))},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function hT(a,l){return Array.isArray(l)?l.reduce(hT,a):{...a,...l}}let Gy=(()=>{class a{constructor(u,h,f){this._zone=u,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new L.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),b=new L.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Ts.assertNotInAngularZone(),yw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Ts.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),x.unsubscribe()}});this.isStable=(0,ue.T)(_,b.pipe((0,ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const f=u instanceof ei;if(!this._injector.get(Al).done)throw!f&&Sf(u),new Ce(405,false);let b;b=f?u:this._injector.get(A).resolveComponentFactory(u),this.componentTypes.push(b.componentType);const D=function aT(a){return a.isBoundToModule}(b)?void 0:this._injector.get(Am),x=b.create(kd.NULL,[],h||b.selector,D),O=x.location.nativeElement,B=x.injector.get(ww,null);return B?.registerApplication(O),x.onDestroy(()=>{this.detachView(x.hostView),$y(this.components,x),B?.unregisterApplication(O)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;$y(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(XS,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>$y(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Ce(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(xn(Ts),xn(gi),xn(Jh))},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function $y(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let Tw=!0,fT=!1;function A1(){return fT=!0,Tw}function M1(){if(fT)throw new Error("Cannot enable prod mode after platform setup.");Tw=!1}let Iw=(()=>{class a{}return a.__NG_ELEMENT_ID__=nr,a})();function nr(a){return function oV(a,l,u){if(ta(a)&&!u){const h=Ui(a.index,l);return new Da(h,h)}return 47&a.type?new Da(l[16],l):null}(Pn(),Se(),16==(16&a))}class Mc{constructor(){}supports(l){return cm(l)}create(l){return new P1(l)}}const O1=(a,l)=>l;class P1{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||O1}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,_=null;for(;u||h;){const b=!h||u&&u.currentIndex<Mw(h,f,_)?u:h,D=Mw(b,f,_),S=b.currentIndex;if(b===h)f--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)f++;else{_||(_=[]);const x=D-f,O=S-f;if(x!=O){for(let W=0;W<x;W++){const se=W<_.length?_[W]:_[W]=0,De=se+W;O<=De&&De<x&&(_[W]=se+1)}_[b.previousIndex]=O-x}}D!==S&&l(b,D,S)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!cm(l))throw new Ce(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,_,b,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let D=0;D<this.length;D++)_=l[D],b=this._trackByFn(D,_),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,_,b,D)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,b,D),h=!0),u=u._next}else f=0,function IM(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[wl()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,D=>{b=this._trackByFn(f,D),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,D,b,f)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,b,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,_,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,_,f)):l=this._addAfter(new mT(u,h),_,f),l}_verifyReinsertion(l,u,h,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?l=this._reinsertAfter(_,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,_=l._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new _T),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _T),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class mT{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gT{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class _T{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new gT,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mw(a,l,u){const h=a.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class Ky{constructor(){}supports(l){return l instanceof Map||C0(l)}create(){return new Qy}}class Qy{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||C0(l)))throw new Ce(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const _=f._prev,b=f._next;return _&&(_._next=b),b&&(b._prev=_),f._next=null,f._prev=null,f}const h=new yT(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class yT{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Gr(){return new $m([new Mc])}let $m=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||Gr()),deps:[[a,new qe,new le]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new Ce(901,!1)}}return a.\u0275prov=ln({token:a,providedIn:"root",factory:Gr}),a})();function kw(){return new Jy([new Ky])}let Jy=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||kw()),deps:[[a,new qe,new le]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new Ce(901,!1)}}return a.\u0275prov=ln({token:a,providedIn:"root",factory:kw}),a})();const Ow=cT(null,"core",[]);let L1=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(xn(Gy))},a.\u0275mod=je({type:a}),a.\u0275inj=Vt({}),a})();function V1(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(pt,Te,V)=>{V.d(Te,{Z:()=>Ce});var s=V(2090),ne=V(4859),L=V(9681),ue=V(1877);class ae{constructor(ve,ge){this._delegate=ve,this.firebase=ge,(0,L._addComponent)(ve,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ve,ge=L._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(ve);return!ht.isInitialized()&&"EXPLICIT"===(null===(nt=ht.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:ge})}_removeServiceInstance(ve,ge=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(ge)}_addComponent(ve){(0,L._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,L._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function _e(){const st=function pe(st){const ve={},ge={__esModule:!0,initializeApp:function Ae($e,z={}){const ye=L.initializeApp($e,z);if((0,s.r3)(ve,ye.name))return ve[ye.name];const J=new st(ye,ge);return ve[ye.name]=J,J},app:ht,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ee($e){const z=$e.name,ye=z.replace("-compat","");if(L._registerComponent($e)&&"PUBLIC"===$e.type){const J=(re=ht())=>{if("function"!=typeof re[ye])throw ie.create("invalid-app-argument",{appName:z});return re[ye]()};void 0!==$e.serviceProps&&(0,s.ZB)(J,$e.serviceProps),ge[ye]=J,st.prototype[ye]=function(...re){return this._getService.bind(this,z).apply(this,$e.multipleInstances?re:[])}}return"PUBLIC"===$e.type?ge[ye]:null},removeApp:function nt($e){delete ve[$e]},useAsService:function ze($e,z){return"serverAuth"===z?null:z},modularAPIs:L}};function ht($e){if(!(0,s.r3)(ve,$e=$e||L._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:$e});return ve[$e]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function we(){return Object.keys(ve).map($e=>ve[$e])}}),ht.App=st,ge}(ae);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function ve(ge){(0,s.ZB)(st,ge)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),st}(),$=new ue.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=G;!function Me(st){(0,L.registerVersion)("@firebase/app-compat","0.1.32",st)}()},9681:(pt,Te,V)=>{V.r(Te),V.d(Te,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>gs,_DEFAULT_ENTRY_NAME:()=>Wt,_addComponent:()=>an,_addOrOverwriteComponent:()=>ln,_apps:()=>bn,_clearComponents:()=>Jo,_components:()=>Yn,_getProvider:()=>Vt,_registerComponent:()=>or,_removeServiceInstance:()=>wn,deleteApp:()=>wt,getApp:()=>Mr,getApps:()=>ts,initializeApp:()=>Fs,onLog:()=>Wn,registerVersion:()=>ns,setLogLevel:()=>_s});var s=V(5861),ne=V(4859),L=V(1877),ue=V(2090),ae=V(8766);class fe{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function ie(H){return"VERSION"===H.getComponent()?.type}(K)){const xe=K.getImmediate();return`${xe.library}/${xe.version}`}return null}).filter(K=>K).join(" ")}}const pe="@firebase/app",G=new L.Yd("@firebase/app"),Wt="[DEFAULT]",Ke={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bn=new Map,Yn=new Map;function an(H,Y){try{H.container.addComponent(Y)}catch(K){G.debug(`Component ${Y.name} failed to register with FirebaseApp ${H.name}`,K)}}function ln(H,Y){H.container.addOrOverwriteComponent(Y)}function or(H){const Y=H.name;if(Yn.has(Y))return G.debug(`There were multiple attempts to register component ${Y}.`),!1;Yn.set(Y,H);for(const K of bn.values())an(K,H);return!0}function Vt(H,Y){const K=H.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),H.container.getProvider(Y)}function wn(H,Y,K=Wt){Vt(H,Y).clearInstance(K)}function Jo(){Yn.clear()}const Ki=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ar{constructor(Y,K,xe){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=xe,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}const gs="9.9.3";function Fs(H,Y={}){"object"!=typeof Y&&(Y={name:Y});const K=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},Y),xe=K.name;if("string"!=typeof xe||!xe)throw Ki.create("bad-app-name",{appName:String(xe)});const je=bn.get(xe);if(je){if((0,ue.vZ)(H,je.options)&&(0,ue.vZ)(K,je.config))return je;throw Ki.create("duplicate-app",{appName:xe})}const gt=new ne.H0(xe);for(const un of Yn.values())gt.addComponent(un);const Dn=new ar(H,K,gt);return bn.set(xe,Dn),Dn}function Mr(H=Wt){const Y=bn.get(H);if(!Y)throw Ki.create("no-app",{appName:H});return Y}function ts(){return Array.from(bn.values())}function wt(H){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,s.Z)(function*(H){const Y=H.name;bn.has(Y)&&(bn.delete(Y),yield Promise.all(H.container.getProviders().map(K=>K.delete())),H.isDeleted=!0)})).apply(this,arguments)}function ns(H,Y,K){var xe;let je=null!==(xe=Ke[H])&&void 0!==xe?xe:H;K&&(je+=`-${K}`);const gt=je.match(/\s|\//),Dn=Y.match(/\s|\//);if(gt||Dn){const un=[`Unable to register library "${je}" with version "${Y}":`];return gt&&un.push(`library name "${je}" contains illegal characters (whitespace or "/")`),gt&&Dn&&un.push("and"),Dn&&un.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void G.warn(un.join(" "))}or(new ne.wA(`${je}-version`,()=>({library:je,version:Y}),"VERSION"))}function Wn(H,Y){if(null!==H&&"function"!=typeof H)throw Ki.create("invalid-log-argument");(0,L.Am)(H,Y)}function _s(H){(0,L.Ub)(H)}const kn="firebase-heartbeat-store";let ho=null;function In(){return ho||(ho=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(H,Y)=>{0===Y&&H.createObjectStore(kn)}}).catch(H=>{throw Ki.create("idb-open",{originalErrorMessage:H.message})})),ho}function Xe(){return(Xe=(0,s.Z)(function*(H){var Y;try{return(yield In()).transaction(kn).objectStore(kn).get(Rn(H))}catch(K){if(K instanceof ue.ZR)G.warn(K.message);else{const xe=Ki.create("idb-get",{originalErrorMessage:null===(Y=K)||void 0===Y?void 0:Y.message});G.warn(xe.message)}}})).apply(this,arguments)}function Ba(H,Y){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(H,Y){var K;try{const je=(yield In()).transaction(kn,"readwrite");return yield je.objectStore(kn).put(Y,Rn(H)),je.done}catch(xe){if(xe instanceof ue.ZR)G.warn(xe.message);else{const je=Ki.create("idb-set",{originalErrorMessage:null===(K=xe)||void 0===K?void 0:K.message});G.warn(je.message)}}})).apply(this,arguments)}function Rn(H){return`${H.name}!${H.options.appId}`}class fo{constructor(Y){this.container=Y,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new qt(K),this._heartbeatsCachePromise=this._storage.read().then(xe=>(this._heartbeatsCache=xe,xe))}triggerHeartbeat(){var Y=this;return(0,s.Z)(function*(){const xe=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),je=cn();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==je&&!Y._heartbeatsCache.heartbeats.some(gt=>gt.date===je))return Y._heartbeatsCache.heartbeats.push({date:je,agent:xe}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(gt=>{const Dn=new Date(gt.date).valueOf();return Date.now()-Dn<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,s.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const K=cn(),{heartbeatsToSend:xe,unsentEntries:je}=function vs(H,Y=1024){const K=[];let xe=H.slice();for(const je of H){const gt=K.find(Dn=>Dn.agent===je.agent);if(gt){if(gt.dates.push(je.date),Q(K)>Y){gt.dates.pop();break}}else if(K.push({agent:je.agent,dates:[je.date]}),Q(K)>Y){K.pop();break}xe=xe.slice(1)}return{heartbeatsToSend:K,unsentEntries:xe}}(Y._heartbeatsCache.heartbeats),gt=(0,ue.L)(JSON.stringify({version:2,heartbeats:xe}));return Y._heartbeatsCache.lastSentHeartbeatDate=K,je.length>0?(Y._heartbeatsCache.heartbeats=je,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),gt})()}}function cn(){return(new Date).toISOString().substring(0,10)}class qt{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,s.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function ot(H){return Xe.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var K=this;return(0,s.Z)(function*(){var xe;if(yield K._canUseIndexedDBPromise){const gt=yield K.read();return Ba(K.app,{lastSentHeartbeatDate:null!==(xe=Y.lastSentHeartbeatDate)&&void 0!==xe?xe:gt.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var K=this;return(0,s.Z)(function*(){var xe;if(yield K._canUseIndexedDBPromise){const gt=yield K.read();return Ba(K.app,{lastSentHeartbeatDate:null!==(xe=Y.lastSentHeartbeatDate)&&void 0!==xe?xe:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...Y.heartbeats]})}})()}}function Q(H){return(0,ue.L)(JSON.stringify({version:2,heartbeats:H})).length}!function Z(H){or(new ne.wA("platform-logger",Y=>new fe(Y),"PRIVATE")),or(new ne.wA("heartbeat",Y=>new fo(Y),"PRIVATE")),ns(pe,"0.7.31",H),ns(pe,"0.7.31","esm2017"),ns("fire-js","")}("")},4859:(pt,Te,V)=>{V.d(Te,{H0:()=>pe,wA:()=>L,zt:()=>ae});var s=V(5861),ne=V(2090);class L{constructor(G,$,X){this.name=G,this.instanceFactory=$,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ue="[DEFAULT]";class ae{constructor(G,$){this.name=G,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const $=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has($)){const X=new ne.BH;if(this.instancesDeferred.set($,X),this.isInitialized($)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:$});He&&X.resolve(He)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(G){var $;const X=this.normalizeInstanceIdentifier(G?.identifier),He=null!==($=G?.optional)&&void 0!==$&&$;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Me){if(He)return null;throw Me}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ie(_e){return"EAGER"===_e.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[$,X]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier($);try{const Me=this.getOrInitializeService({instanceIdentifier:He});X.resolve(Me)}catch{}}}}clearInstance(G=ue){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,s.Z)(function*(){const $=Array.from(G.instances.values());yield Promise.all([...$.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...$.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ue){return this.instances.has(G)}getOptions(G=ue){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:$={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:X,options:$});for(const[Me,Ce]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Me)&&Ce.resolve(He);return He}onInit(G,$){var X;const He=this.normalizeInstanceIdentifier($),Me=null!==(X=this.onInitCallbacks.get(He))&&void 0!==X?X:new Set;Me.add(G),this.onInitCallbacks.set(He,Me);const Ce=this.instances.get(He);return Ce&&G(Ce,He),()=>{Me.delete(G)}}invokeOnInitCallbacks(G,$){const X=this.onInitCallbacks.get($);if(X)for(const He of X)try{He(G,$)}catch{}}getOrInitializeService({instanceIdentifier:G,options:$={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=G,_e===ue?void 0:_e),options:$}),this.instances.set(G,X),this.instancesOptions.set(G,$),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch{}var _e;return X||null}normalizeInstanceIdentifier(G=ue){return this.component?this.component.multipleInstances?G:ue:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const $=this.getProvider(G.name);if($.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);$.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const $=new ae(G,this);return this.providers.set(G,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,Te,V)=>{V.d(Te,{Am:()=>_e,Ub:()=>pe,Yd:()=>ie,in:()=>ne});const s=[];var ne=(()=>{return(G=ne||(ne={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",ne;var G})();const L={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},ue=ne.INFO,ae={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},fe=(G,$,...X)=>{if($<G.logLevel)return;const He=(new Date).toISOString(),Me=ae[$];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Me](`[${He}]  ${G.name}:`,...X)};class ie{constructor($){this.name=$,this._logLevel=ue,this._logHandler=fe,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in ne))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?L[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...$),this._logHandler(this,ne.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...$),this._logHandler(this,ne.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...$),this._logHandler(this,ne.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...$),this._logHandler(this,ne.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...$),this._logHandler(this,ne.ERROR,...$)}}function pe(G){s.forEach($=>{$.setLogLevel(G)})}function _e(G,$){for(const X of s){let He=null;$&&$.level&&(He=L[$.level]),X.userLogHandler=null===G?null:(Me,Ce,...st)=>{const ve=st.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Ce>=(He??Me.logLevel)&&G({level:ne[Ce].toLowerCase(),message:ve,args:st,type:Me.name})}}}},8766:(pt,Te,V)=>{V.d(Te,{Lj:()=>Ae,X3:()=>ht});var s=V(5861);let L,ue;const ie=new WeakMap,pe=new WeakMap,_e=new WeakMap,G=new WeakMap,$=new WeakMap;let Me={get(z,ye,J){if(z instanceof IDBTransaction){if("done"===ye)return pe.get(z);if("objectStoreNames"===ye)return z.objectStoreNames||_e.get(z);if("store"===ye)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return ge(z[ye])},set:(z,ye,J)=>(z[ye]=J,!0),has:(z,ye)=>z instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in z};function ve(z){return"function"==typeof z?function st(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...ye){return z.apply(nt(this),ye),ge(ie.get(this))}:function(...ye){return ge(z.apply(nt(this),ye))}:function(ye,...J){const re=z.call(nt(this),ye,...J);return _e.set(re,ye.sort?ye.sort():[ye]),ge(re)}}(z):(z instanceof IDBTransaction&&function He(z){if(pe.has(z))return;const ye=new Promise((J,re)=>{const ce=()=>{z.removeEventListener("complete",oe),z.removeEventListener("error",Le),z.removeEventListener("abort",Le)},oe=()=>{J(),ce()},Le=()=>{re(z.error||new DOMException("AbortError","AbortError")),ce()};z.addEventListener("complete",oe),z.addEventListener("error",Le),z.addEventListener("abort",Le)});pe.set(z,ye)}(z),((z,ye)=>ye.some(J=>z instanceof J))(z,function ae(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,Me):z)}function ge(z){if(z instanceof IDBRequest)return function X(z){const ye=new Promise((J,re)=>{const ce=()=>{z.removeEventListener("success",oe),z.removeEventListener("error",Le)},oe=()=>{J(ge(z.result)),ce()},Le=()=>{re(z.error),ce()};z.addEventListener("success",oe),z.addEventListener("error",Le)});return ye.then(J=>{J instanceof IDBCursor&&ie.set(J,z)}).catch(()=>{}),$.set(ye,z),ye}(z);if(G.has(z))return G.get(z);const ye=ve(z);return ye!==z&&(G.set(z,ye),$.set(ye,z)),ye}const nt=z=>$.get(z);function ht(z,ye,{blocked:J,upgrade:re,blocking:ce,terminated:oe}={}){const Le=indexedDB.open(z,ye),Ne=ge(Le);return re&&Le.addEventListener("upgradeneeded",yt=>{re(ge(Le.result),yt.oldVersion,yt.newVersion,ge(Le.transaction))}),J&&Le.addEventListener("blocked",()=>J()),Ne.then(yt=>{oe&&yt.addEventListener("close",()=>oe()),ce&&yt.addEventListener("versionchange",()=>ce())}).catch(()=>{}),Ne}function Ae(z,{blocked:ye}={}){const J=indexedDB.deleteDatabase(z);return ye&&J.addEventListener("blocked",()=>ye()),ge(J).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],ze=new Map;function $e(z,ye){if(!(z instanceof IDBDatabase)||ye in z||"string"!=typeof ye)return;if(ze.get(ye))return ze.get(ye);const J=ye.replace(/FromIndex$/,""),re=ye!==J,ce=Ee.includes(J);if(!(J in(re?IDBIndex:IDBObjectStore).prototype)||!ce&&!we.includes(J))return;const oe=function(){var Le=(0,s.Z)(function*(Ne,...yt){const en=this.transaction(Ne,ce?"readwrite":"readonly");let Wt=en.store;return re&&(Wt=Wt.index(yt.shift())),(yield Promise.all([Wt[J](...yt),ce&&en.done]))[0]});return function(yt){return Le.apply(this,arguments)}}();return ze.set(ye,oe),oe}!function Ce(z){Me=z(Me)}(z=>({...z,get:(ye,J,re)=>$e(ye,J)||z.get(ye,J,re),has:(ye,J)=>!!$e(ye,J)||z.has(ye,J)}))},5861:(pt,Te,V)=>{function s(L,ue,ae,fe,ie,pe,_e){try{var G=L[pe](_e),$=G.value}catch(X){return void ae(X)}G.done?ue($):Promise.resolve($).then(fe,ie)}function ne(L){return function(){var ue=this,ae=arguments;return new Promise(function(fe,ie){var pe=L.apply(ue,ae);function _e($){s(pe,fe,ie,_e,G,"next",$)}function G($){s(pe,fe,ie,_e,G,"throw",$)}_e(void 0)})}}V.d(Te,{Z:()=>ne})}},pt=>{pt(pt.s=9807)}]);